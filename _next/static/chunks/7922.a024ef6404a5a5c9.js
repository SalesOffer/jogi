"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7922],{17922:function(t,e,i){i.r(e),i.d(e,{CaptionsRenderer:function(){return r.C},ParseError:function(){return r.P},ParseErrorCode:function(){return r.c},TextCue:function(){return r.T},VTTCue:function(){return r.b},VTTRegion:function(){return r.h},createVTTCueTemplate:function(){return r.i},parseByteStream:function(){return r.e},parseResponse:function(){return r.d},parseText:function(){return r.f},parseTextStream:function(){return r.g},parseVTTTimestamp:function(){return r.p},renderVTTCueString:function(){return r.r},renderVTTTokensString:function(){return r.j},tokenizeVTTCue:function(){return r.t},updateTimedVTTCueNodes:function(){return r.u}});var r=i(28384)},28384:function(t,e,i){i.d(e,{C:function(){return tl},P:function(){return n},T:function(){return f},V:function(){return j},a:function(){return $},b:function(){return g},c:function(){return r},d:function(){return c},e:function(){return u},f:function(){return o},g:function(){return h},h:function(){return m},i:function(){return X},j:function(){return D},p:function(){return S},r:function(){return Y},t:function(){return O},u:function(){return G}});let r={LoadFail:0,BadSignature:1,BadTimestamp:2,BadSettingValue:3,BadFormat:4,UnknownSetting:5};class n extends Error{code;line;constructor(t){super(t.reason),this.code=t.code,this.line=t.line}}let s=/\r?\n|\r/gm;class l{writable;readable;constructor(t){let e=new a(t);this.writable=new WritableStream({write(t){e.transform(t)},close(){e.close()}}),this.readable=new ReadableStream({start(t){e.onLine=e=>t.enqueue(e),e.onClose=()=>t.close()}})}}class a{a="";b;onLine;onClose;constructor(t){this.b=new TextDecoder(t)}transform(t){this.a+=this.b.decode(t,{stream:!0});let e=this.a.split(s);this.a=e.pop()||"";for(let t=0;t<e.length;t++)this.onLine(e[t].trim())}close(){this.a&&this.onLine(this.a.trim()),this.a="",this.onClose()}}async function o(t,e){return h(new ReadableStream({start(e){for(let i of t.split(s))e.enqueue(i);e.close()}}),e)}async function h(t,e){let r,n;let s=e?.type??"vtt";if("string"==typeof s)switch(s){case"srt":r=(await i.e(7792).then(i.bind(i,7792))).default;break;case"ssa":case"ass":r=(await i.e(4061).then(i.bind(i,84061))).default;break;default:r=(await Promise.resolve().then(function(){return z})).default}else r=s;let l=t.getReader(),a=r(),o=!!e?.strict||!!e?.errors;await a.init({strict:!1,...e,errors:o,type:s,cancel(){l.cancel(),n=a.done(!0)}});let h=1;for(;;){let{value:t,done:e}=await l.read();if(e){a.parse("",h),n=a.done(!1);break}a.parse(t,h),h++}return n}async function c(t,e){let i=await t;if(!i.ok||!i.body)return{metadata:{},cues:[],regions:[],errors:[void 0]};let r=i.headers.get("content-type")||"",n=r.match(/text\/(.*?)(?:;|$)/)?.[1],s=r.match(/charset=(.*?)(?:;|$)/)?.[1];return u(i.body,{type:n,encoding:s,...e})}async function u(t,{encoding:e="utf-8",...i}={}){return h(t.pipeThrough(new l(e)),i)}class f extends EventTarget{id="";startTime;endTime;text;pauseOnExit=!1;constructor(t,e,i){super(),this.startTime=t,this.endTime=e,this.text=i}addEventListener(t,e,i){super.addEventListener(t,e,i)}removeEventListener(t,e,i){super.removeEventListener(t,e,i)}}let d="undefined"==typeof document,p=d?f:window.VTTCue;class g extends p{region=null;vertical="";snapToLines=!0;line="auto";lineAlign="start";position="auto";positionAlign="auto";size=100;align="center";style}class m{id="";width=100;lines=3;regionAnchorX=0;regionAnchorY=100;viewportAnchorX=0;viewportAnchorY=100;scroll=""}function b(t){let e=parseInt(t.replace("%",""),10);return!Number.isNaN(e)&&e>=0&&e<=100?e:null}function w(t){if(!t.includes(","))return null;let[e,i]=t.split(",").map(b);return null!==e&&null!==i?[e,i]:null}let v=/[:=]/,y=/^[\s\t]*(region|vertical|line|position|size|align)[:=]/,T=/^REGION:?[\s\t]+/,k=/[\s\t]+/,x=/[\s\t]*-->[\s\t]+/,A=/start|center|end|left|right/,C=/start|center|end/,E=/line-(?:left|right)|center|auto/,N=/^(?:(\d{1,2}):)?(\d{2}):(\d{2})(?:\.(\d{1,3}))?$/;var L,$=((L=$||{})[L.None=0]="None",L[L.Header=1]="Header",L[L.Cue=2]="Cue",L[L.Region=3]="Region",L[L.Note=4]="Note",L);class j{h;e=0;i={};j={};l=[];c=null;d=null;m=[];f;n="";async init(t){this.h=t,t.strict&&(this.e=1),t.errors&&(this.f=(await i.e(5298).then(i.bind(i,59344))).ParseErrorBuilder)}parse(t,e){if(""===t)this.c?(this.l.push(this.c),this.h.onCue?.(this.c),this.c=null):this.d?(this.j[this.d.id]=this.d,this.h.onRegion?.(this.d),this.d=null):1===this.e&&(this.k(t,e),this.h.onHeaderMetadata?.(this.i)),this.e=0;else if(this.e)switch(this.e){case 1:this.k(t,e);break;case 2:if(this.c){let i=this.c.text.length>0;!i&&y.test(t)?this.o(t.split(k),e):this.c.text+=(i?"\n":"")+t}break;case 3:this.p(t.split(k),e)}else if(t.startsWith("NOTE"))this.e=4;else if(t.startsWith("REGION"))this.e=3,this.d=new m,this.p(t.replace(T,"").split(k),e);else if(t.includes("-->")){let i=this.q(t,e);i&&(this.c=new g(i[0],i[1],""),this.c.id=this.n,this.o(i[2],e)),this.e=2}else 1===e&&this.k(t,e);this.n=t}done(){return{metadata:this.i,cues:this.l,regions:Object.values(this.j),errors:this.m}}k(t,e){if(e>1){if(v.test(t)){let[e,i]=t.split(v);e&&(this.i[e]=(i||"").replace(k,""))}}else t.startsWith("WEBVTT")?this.e=1:this.g(this.f?.r())}q(t,e){let[i,r=""]=t.split(x),[n,...s]=r.split(k),l=S(i),a=S(n);if(null!==l&&null!==a&&a>l)return[l,a,s];null===l&&this.g(this.f?.s(i,e)),null===a&&this.g(this.f?.t(n,e)),null!=l&&null!==a&&a>l&&this.g(this.f?.u(l,a,e))}p(t,e){let i;for(let r=0;r<t.length;r++)if(v.test(t[r])){i=!1;let[n,s]=t[r].split(v);switch(n){case"id":this.d.id=s;break;case"width":let l=b(s);null!==l?this.d.width=l:i=!0;break;case"lines":let a=function(t){let e=parseInt(t,10);return Number.isNaN(e)?null:e}(s);null!==a?this.d.lines=a:i=!0;break;case"regionanchor":let o=w(s);null!==o?(this.d.regionAnchorX=o[0],this.d.regionAnchorY=o[1]):i=!0;break;case"viewportanchor":let h=w(s);null!==h?(this.d.viewportAnchorX=h[0],this.d.viewportAnchorY=h[1]):i=!0;break;case"scroll":"up"===s?this.d.scroll="up":i=!0;break;default:this.g(this.f?.v(n,s,e))}i&&this.g(this.f?.w(n,s,e))}}o(t,e){let i;for(let r=0;r<t.length;r++)if(i=!1,v.test(t[r])){let[n,s]=t[r].split(v);switch(n){case"region":let l=this.j[s];l&&(this.c.region=l);break;case"vertical":"lr"===s||"rl"===s?(this.c.vertical=s,this.c.region=null):i=!0;break;case"line":let[a,o]=s.split(",");if(a.includes("%")){let t=b(a);null!==t?(this.c.line=t,this.c.snapToLines=!1):i=!0}else{let t=function(t){let e=parseFloat(t);return Number.isNaN(e)?null:e}(a);null!==t?this.c.line=t:i=!0}C.test(o)?this.c.lineAlign=o:o&&(i=!0),"auto"!==this.c.line&&(this.c.region=null);break;case"position":let[h,c]=s.split(","),u=b(h);null!==u?this.c.position=u:i=!0,c&&E.test(c)?this.c.positionAlign=c:c&&(i=!0);break;case"size":let f=b(s);null!==f?(this.c.size=f,f<100&&(this.c.region=null)):i=!0;break;case"align":A.test(s)?this.c.align=s:i=!0;break;default:this.g(this.f?.x(n,s,e))}i&&this.g(this.f?.y(n,s,e))}}g(t){if(t){if(this.m.push(t),this.h.strict)throw this.h.cancel(),t;this.h.onError?.(t)}}}function S(t){let e=t.match(N);if(!e)return null;let i=e[1]?parseInt(e[1],10):0,r=parseInt(e[2],10),n=parseInt(e[3],10),s=e[4]?parseInt(e[4].padEnd(3,"0"),10):0;return i<0||r<0||n<0||s<0||r>59||n>59?null:3600*i+60*r+n+s/1e3}var z=Object.freeze({__proto__:null,VTTBlock:$,VTTParser:j,default:function(){return new j},parseVTTTimestamp:S});let M=/[0-9]/,V=/[\s\t]+/,B={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span",timestamp:"span"},H={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&nbsp;":"\xa0","&lrm;":"‎","&rlm;":"‏"},R=/&(?:amp|lt|gt|quot|#(0+)?39|nbsp|lrm|rlm);/g,F=new Set(["white","lime","cyan","red","yellow","magenta","blue","black"]),I=new Set(Object.keys(B));function O(t){let e="",i=1,r=[],n=[],s;for(let r=0;r<t.text.length;r++){let h=t.text[r];switch(i){case 1:"<"===h?(o(),i=2):e+=h;break;case 2:switch(h){case"\n":case"	":case" ":l(),i=4;break;case".":l(),i=3;break;case"/":i=5;break;case">":l(),i=1;break;default:!e&&M.test(h)&&(i=6),e+=h}break;case 3:switch(h){case"	":case" ":case"\n":a(),s&&s.class?.trim(),i=4;break;case".":a();break;case">":a(),s&&s.class?.trim(),i=1;break;default:e+=h}break;case 4:">"===h?(e=e.replace(V," "),s?.type==="v"?s.voice=P(e):s?.type==="lang"&&(s.lang=P(e)),e="",i=1):e+=h;break;case 5:">"===h&&(e="",s=n.pop(),i=1);break;case 6:if(">"===h){let r=S(e);null!==r&&r>=t.startTime&&r<=t.endTime&&(e="timestamp",l(),s.time=r),e="",i=1}else e+=h}}function l(){if(I.has(e)){var t;let i=s;s={tagName:B[t=e],type:t,children:[]},i?(n[n.length-1]!==i&&n.push(i),i.children.push(s)):r.push(s)}e="",i=1}function a(){if(s&&e){let t=e.replace("bg_","");F.has(t)?s[e.startsWith("bg_")?"bgColor":"color"]=t:s.class=s.class?s.class+" "+e:e}e=""}function o(){if(!e)return;let t={type:"text",data:P(e)};s?s.children.push(t):r.push(t),e=""}return 1===i&&o(),r}function P(t){return t.replace(R,t=>H[t]||"'")}function _(t,e,i){t.style.setProperty(`--${e}`,i+"")}function q(t,e,i=!0){t.setAttribute(`data-${e}`,!0===i?"":i+"")}function W(t,e){t.setAttribute("data-part",e)}function X(t){if(d)throw Error("[media-captions] called `createVTTCueTemplate` on the server - use `renderVTTCueString`");let e=document.createElement("template");return e.innerHTML=Y(t),{cue:t,content:e.content}}function Y(t,e=0){return D(O(t),e)}function D(t,e=0){let i,r="";for(let n of t)if("text"===n.type)r+=n.data;else{let t="timestamp"===n.type;(i={}).class=n.class,i.title="v"===n.type&&n.voice,i.lang="lang"===n.type&&n.lang,i["data-part"]="v"===n.type&&"voice",t&&(i["data-part"]="timed",i["data-time"]=n.time,i["data-future"]=n.time>e,i["data-past"]=n.time<e),i.style=`${n.color?`color: ${n.color};`:""}${n.bgColor?`background-color: ${n.bgColor};`:""}`;let s=Object.entries(i).filter(t=>t[1]).map(t=>`${t[0]}="${!0===t[1]?"":t[1]}"`).join(" ");r+=`<${n.tagName}${s?" "+s:""}>${D(n.children)}</${n.tagName}>`}return r}function G(t,e){if(!d)for(let i of t.querySelectorAll('[data-part="timed"]')){let t=Number(i.getAttribute("data-time"));Number.isNaN(t)||(t>e?q(i,"future"):i.removeAttribute("data-future"),t<e?q(i,"past"):i.removeAttribute("data-past"))}}let J=Symbol(0);function K(t){return t instanceof HTMLElement?{top:t.offsetTop,width:t.clientWidth,height:t.clientHeight,left:t.offsetLeft,right:t.offsetLeft+t.clientWidth,bottom:t.offsetTop+t.clientHeight}:{...t}}function U(t,e,i){switch(e){case"+x":t.left+=i,t.right+=i;break;case"-x":t.left-=i,t.right-=i;break;case"+y":t.top+=i,t.bottom+=i;break;case"-y":t.top-=i,t.bottom-=i}}function Q(t,e){return e.top>=0&&e.bottom<=t.height&&e.left>=0&&e.right<=t.width}function Z(t,e){return{top:e.top/t.height,left:e.left/t.width,right:(t.width-e.right)/t.width,bottom:(t.height-e.bottom)/t.height}}function tt(t,e){return e.top=e.top*t.height,e.left=e.left*t.width,e.right=t.width-e.right*t.width,e.bottom=t.height-e.bottom*t.height,e}let te=["top","left","right","bottom"];function ti(t,e,i,r){let n=Z(e,i);for(let e of te)_(t,`${r}-${e}`,100*n[e]+"%")}function tr(t,e,i,r){let n=1,s,l={...e};for(let o=0;o<r.length;o++){for(var a;function(t,e,i){switch(i){case"+x":return e.left<0;case"-x":return e.right>t.width;case"+y":return e.top<0;case"-y":return e.bottom>t.height}}(t,e,r[o])||Q(t,e)&&function(t,e){for(let r=0;r<e.length;r++){var i;if(i=e[r],t.left<=i.right&&t.right>=i.left&&t.top<=i.bottom&&t.bottom>=i.top)return e[r]}return null}(e,i);)U(e,r[o],1);if(Q(t,e))return e;let h=(a=e,Math.max(0,Math.min(t.width,a.right)-Math.max(0,a.left))*Math.max(0,Math.min(t.height,a.bottom)-Math.max(0,a.top))/(t.height*t.width));n>h&&(s={...e},n=h),e={...l}}return s||l}let tn=Symbol(0),ts=["-y","+y","-x","+x"];class tl{overlay;z;A=0;C="ltr";B=[];D=!1;E;j=new Map;l=new Map;get dir(){return this.C}set dir(t){this.C=t,q(this.overlay,"dir",t)}get currentTime(){return this.A}set currentTime(t){this.A=t,this.update()}constructor(t,e){this.overlay=t,this.dir=e?.dir??"ltr",t.setAttribute("translate","yes"),t.setAttribute("aria-live","off"),t.setAttribute("aria-atomic","true"),W(t,"captions"),this.G(),this.E=new ResizeObserver(this.I.bind(this)),this.E.observe(t)}changeTrack({regions:t,cues:e}){for(let i of(this.reset(),this.J(t),e))this.l.set(i,null);this.update()}addCue(t){this.l.set(t,null),this.update()}removeCue(t){this.l.delete(t),this.update()}update(t=!1){this.H(t)}reset(){this.l.clear(),this.j.clear(),this.B=[],this.overlay.textContent=""}destroy(){this.reset(),this.E.disconnect()}I(){this.D=!0,this.K()}K=(function(t,e){let i=null,r;function n(){s(),t(...r),r=void 0}function s(){clearTimeout(i),i=null}return function(){r=[].slice.call(arguments),s(),i=setTimeout(n,e)}})(()=>{for(let t of(this.D=!1,this.G(),this.j.values()))t[J]=null;for(let t of this.l.values())t&&(t[J]=null);this.H(!0)},50);G(){this.z=K(this.overlay),_(this.overlay,"overlay-width",this.z.width+"px"),_(this.overlay,"overlay-height",this.z.height+"px")}H(t=!1){if(!this.l.size||this.D)return;let e,i=[...this.l.keys()].filter(t=>this.A>=t.startTime&&this.A<=t.endTime).sort((t,e)=>t.startTime!==e.startTime?t.startTime-e.startTime:t.endTime-e.endTime),r=i.map(t=>t.region);for(let n=0;n<this.B.length;n++){if(e=this.B[n],i[n]===e)continue;if(e.region&&!r.includes(e.region)){let i=this.j.get(e.region.id);i&&(i.removeAttribute("data-active"),t=!0)}let s=this.l.get(e);s&&(s.remove(),t=!0)}for(let r=0;r<i.length;r++){e=i[r];let n=this.l.get(e);n||this.l.set(e,n=this.L(e));let s=this.F(e)&&this.j.get(e.region.id);s&&!s.hasAttribute("data-active")&&(requestAnimationFrame(()=>q(s,"active")),t=!0),n.isConnected||((s||this.overlay).append(n),t=!0)}if(t){let t=[],r=new Set;for(let n=i.length-1;n>=0;n--){if(e=i[n],r.has(e.region||e))continue;let s=this.F(e),l=s?this.j.get(e.region.id):this.l.get(e);s?t.push(function(t,e,i,r){let n=Array.from(i.querySelectorAll('[data-part="cue-display"]')),s=0,l=Math.max(0,n.length-e.lines);for(let t=n.length-1;t>=l;t--)s+=n[t].offsetHeight;_(i,"region-height",s+"px"),i[J]||(i[J]=Z(t,K(i)));let a={...i[J]};return(a=tt(t,a)).width=i.clientWidth,a.height=s,a.right=a.left+a.width,a.bottom=a.top+s,a=tr(t,a,r,ts),ti(i,t,a,"region"),a}(this.z,e.region,l,t)):t.push(function(t,e,i,r){let n=i.firstElementChild,s="auto"===e.line?e.snapToLines?-1:100:e.line,l,a=[];if(i[J]||(i[J]=function(t,e){let i=K(e),r=function(t){let e={};for(let i of te)e[i]=parseFloat(t.style.getPropertyValue(`--cue-${i}`));return e}(e);if(e[tn]=!1,r.top&&(i.top=r.top,i.bottom=r.top+i.height,e[tn]="top"),r.bottom){let n=t.height-r.bottom;i.top=n-i.height,i.bottom=n,e[tn]="bottom"}return r.left&&(i.left=r.left),r.right&&(i.right=t.width-r.right),Z(t,i)}(t,i)),l=tt(t,{...i[J]}),i[tn])a=["top"===i[tn]?"+y":"-y","+x","-x"];else if(e.snapToLines){let i;switch(e.vertical){case"":a=["+y","-y"],i="height";break;case"rl":a=["+x","-x"],i="width";break;case"lr":a=["-x","+x"],i="width"}let r=parseFloat(getComputedStyle(n).lineHeight)||0,o=r*Math.round(s),h=t[i]+r,c=a[0];Math.abs(o)>h&&(o=Math.ceil(h/r)*r*(o<0?-1:1)),s<0&&(o+=""===e.vertical?t.height:t.width,a=a.reverse()),U(l,c,o)}else{let i=""===e.vertical,r=i?"+y":"+x",n=i?l.height:l.width;U(l,r,(i?t.height:t.width)*s/100),U(l,r,"center"===e.lineAlign?n/2:"end"===e.lineAlign?n:0),a=i?["-y","+y","-x","+x"]:["-x","+x","-y","+y"]}return l=tr(t,l,r,a),ti(i,t,l,"cue"),l}(this.z,e,l,t)),r.add(s?e.region:e)}}G(this.overlay,this.A),this.B=i}J(t){if(t)for(let e of t){let t=this.M(e);this.j.set(e.id,t),this.overlay.append(t)}}M(t){let e=document.createElement("div");return W(e,"region"),q(e,"id",t.id),q(e,"scroll",t.scroll),_(e,"region-width",t.width+"%"),_(e,"region-anchor-x",t.regionAnchorX),_(e,"region-anchor-y",t.regionAnchorY),_(e,"region-viewport-anchor-x",t.viewportAnchorX),_(e,"region-viewport-anchor-y",t.viewportAnchorY),_(e,"region-lines",t.lines),e}L(t){let e=document.createElement("div"),i=function(t){if("auto"===t.position)switch(t.align){case"start":case"left":return 0;case"right":case"end":return 100;default:return 50}return t.position}(t),r=function(t,e){if("auto"===t.positionAlign)switch(t.align){case"start":return"ltr"===e?"line-left":"line-right";case"end":return"ltr"===e?"line-right":"line-left";case"center":return"center";default:return`line-${t.align}`}return t.positionAlign}(t,this.C);if(W(e,"cue-display"),""!==t.vertical&&q(e,"vertical"),_(e,"cue-text-align",t.align),t.style)for(let i of Object.keys(t.style))e.style.setProperty(i,t.style[i]);if(this.F(t))_(e,"cue-offset",`${i-("line-right"===r?100:"center"===r?50:0)}%`);else if(_(e,"cue-writing-mode",""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl"),!t.style?.["--cue-width"]){let n=i;"line-left"===r?n=100-i:"center"===r&&i<=50?n=2*i:"center"===r&&i>50&&(n=(100-i)*2);let s=t.size<n?t.size:n;""===t.vertical?_(e,"cue-width",s+"%"):_(e,"cue-height",s+"%")}let n=document.createElement("div");return W(n,"cue"),t.id&&q(n,"id",t.id),n.innerHTML=Y(t),e.append(n),e}F(t){return t.region&&100===t.size&&""===t.vertical&&"auto"===t.line}}}}]);