"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5042],{27485:function(t,e,i){let s,n,a,l;i.d(e,{$P:function(){return Y},Be:function(){return WK},Cv:function(){return Wf},DR:function(){return l9},Er:function(){return W_},Ew:function(){return z},F$:function(){return WV},FA:function(){return aC},Fl:function(){return Wd},G6:function(){return ll},G9:function(){return S},HV:function(){return t4},Id:function(){return Wj},Je:function(){return Wp},K3:function(){return ye},LD:function(){return WI},LK:function(){return s8},QF:function(){return Wv},Rt:function(){return Wm},S3:function(){return Wc},TO:function(){return Wy},UP:function(){return Wr},Uf:function(){return WJ},V6:function(){return hS},Vi:function(){return WA},W6:function(){return m},WU:function(){return WP},WV:function(){return WY},WX:function(){return ir},Xm:function(){return WD},ZJ:function(){return WF},Zf:function(){return WO},_1:function(){return Wh},_S:function(){return tG},_e:function(){return WT},a2:function(){return ip},al:function(){return WG},bj:function(){return WM},bx:function(){return Wo},cA:function(){return W$},cj:function(){return k},dc:function(){return WC},e0:function(){return WU},eV:function(){return Wq},fS:function(){return aK},fZ:function(){return WW},gU:function(){return te},gV:function(){return WH},gq:function(){return Wb},hA:function(){return WN},ib:function(){return WL},il:function(){return Wu},j9:function(){return W9},jh:function(){return WR},kA:function(){return tl},kH:function(){return tj},lk:function(){return tr},mr:function(){return hy},n8:function(){return tW},nA:function(){return tq},nQ:function(){return X},nl:function(){return tE},nq:function(){return m4},ns:function(){return Wk},qG:function(){return WS},r4:function(){return WZ},tF:function(){return E},tn:function(){return D},u9:function(){return WE},v$:function(){return Wx},ve:function(){return Z},xu:function(){return W2},zY:function(){return Wg},zh:function(){return Ww}});var h,r,o=i(52396),u=i(21862),c=i(93936),d=i(79693),_=i(24978),p=i(21135),v=i(2265),f=i(34967),w=i(8143);function g(t){return!(0,f.isString)(t)&&"width"in t&&"height"in t&&(0,f.isNumber)(t.width)&&(0,f.isNumber)(t.height)}let m="undefined"==typeof document,b=m?"":(null===(h=navigator)||void 0===h?void 0:h.userAgent.toLowerCase())||"",k=!m&&/iphone|ipad|ipod|ios|crios|fxios/i.test(b),y=!m&&/(iphone|ipod)/gi.test((null===(r=navigator)||void 0===r?void 0:r.platform)||""),S=!m&&!!window.chrome,W=!m&&(!!window.safari||k);function $(){return!m&&!(0,f.isUndefined)(window.screen.orientation)&&!(0,f.isUndefined)(window.screen.orientation.lock)&&(0,f.isFunction)(screen.orientation.unlock)}function M(t,e){return!m&&(t||(t=document.createElement("audio")),t.canPlayType(e).length>0)}function x(t,e){return!m&&(t||(t=document.createElement("video")),t.canPlayType(e).length>0)}function T(t){return!m&&(t||(t=document.createElement("video")),t.canPlayType("application/vnd.apple.mpegurl").length>0)}function P(t){return!m&&!!document.pictureInPictureEnabled&&!(null==t?void 0:t.disablePictureInPicture)}function A(t){return!m&&(0,f.isFunction)(null==t?void 0:t.webkitSupportsPresentationMode)&&(0,f.isFunction)(null==t?void 0:t.webkitSetPresentationMode)}async function C(){let t=document.createElement("video");return t.volume=.5,await (0,f.waitTimeout)(0),.5===t.volume}function E(){var t,e,i,s,n,a,l,h;if(m)return!1;let r=m?void 0:null!==(n=null!==(s=null===(t=window)||void 0===t?void 0:t.ManagedMediaSource)&&void 0!==s?s:null===(e=window)||void 0===e?void 0:e.MediaSource)&&void 0!==n?n:null===(i=window)||void 0===i?void 0:i.WebKitMediaSource;if((0,f.isUndefined)(r))return!1;let o=r&&(0,f.isFunction)(r.isTypeSupported)&&r.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),u=m?void 0:null!==(h=null===(a=window)||void 0===a?void 0:a.SourceBuffer)&&void 0!==h?h:null===(l=window)||void 0===l?void 0:l.WebKitSourceBuffer,c=(0,f.isUndefined)(u)||!(0,f.isUndefined)(u.prototype)&&(0,f.isFunction)(u.prototype.appendBuffer)&&(0,f.isFunction)(u.prototype.remove);return!!o&&!!c}var q=new WeakMap;class D{get length(){return(0,o._)(this,q).length}start(t){var e;return null!==(e=(0,o._)(this,q)[t][0])&&void 0!==e?e:1/0}end(t){var e;return null!==(e=(0,o._)(this,q)[t][1])&&void 0!==e?e:1/0}constructor(t,e){(0,u._)(this,q,{writable:!0,value:void 0}),(0,f.isArray)(t)?(0,c._)(this,q,t):(0,f.isUndefined)(t)||(0,f.isUndefined)(e)?(0,c._)(this,q,[]):(0,c._)(this,q,[[t,e]])}}function O(t){if(!t.length)return null;let e=t.start(0);for(let i=1;i<t.length;i++){let s=t.start(i);s<e&&(e=s)}return e}function L(t){if(!t.length)return null;let e=t.end(0);for(let i=1;i<t.length;i++){let s=t.end(i);s>e&&(e=s)}return e}let I=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx|flac)($|\?)/i,F=new Set(["audio/mpeg","audio/ogg","audio/3gp","audio/mp3","audio/webm","audio/flac","audio/m4a","audio/m4b","audio/mp4a","audio/mp4"]),V=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,R=new Set(["video/mp4","video/webm","video/3gp","video/ogg","video/avi","video/mpeg"]),N=/\.(m3u8)($|\?)/i,G=/\.(mpd)($|\?)/i,j=new Set(["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]),K=new Set(["application/dash+xml"]);function U(t){let{src:e,type:i}=t;return(0,f.isString)(e)?I.test(e)||F.has(i)||e.startsWith("blob:")&&"audio/object"===i:"audio/object"===i}function H(t){return(0,f.isString)(t.src)?V.test(t.src)||R.has(t.type)||t.src.startsWith("blob:")&&"video/object"===t.type||B(t)&&(m||T()):"video/object"===t.type}function B(t){let{src:e,type:i}=t;return(0,f.isString)(e)&&N.test(e)||j.has(i)}function Q(t){let{src:e,type:i}=t;return(0,f.isString)(e)&&G.test(e)||K.has(i)}function z(t){return(0,f.isString)(t.src)&&(U(t)||H(t)||B(t))}function X(t,e){let i=new URL(t);for(let t of Object.keys(e))i.searchParams.set(t,e[t]+"");return i.toString()}function Y(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"preconnect";if(m)return!1;let i=document.querySelector('link[href="'.concat(t,'"]'));if(!(0,f.isNull)(i))return!0;let s=document.createElement("link");return s.rel=e,s.href=t,s.crossOrigin="true",document.head.append(s),!0}let J={};function Z(t){if(J[t])return J[t].promise;let e=(0,f.deferredPromise)(),i=document.querySelector('script[src="'.concat(t,'"]'));if(!(0,f.isNull)(i))return e.resolve(),e.promise;J[t]=e;let s=document.createElement("script");return s.src=t,s.onload=()=>{e.resolve(),delete J[t]},s.onerror=()=>{e.reject(),delete J[t]},setTimeout(()=>document.head.append(s),0),e.promise}function tt(t){return"use-credentials"===t?"include":(0,f.isString)(t)?"same-origin":void 0}function te(t){let{title:e,src:i,download:s}=t,n=(0,f.isBoolean)(s)||""===s?i.src:(0,f.isString)(s)?s:null==s?void 0:s.url;return!function(t){let{url:e,src:i,download:s}=t;return(0,f.isString)(e)&&(s&&!0!==s||U(i)||H(i))}({url:n,src:i,download:s})?null:{url:n,name:!(0,f.isBoolean)(s)&&!(0,f.isString)(s)&&(null==s?void 0:s.filename)||e.toLowerCase()||"media"}}let ti=Symbol(0),ts=Symbol(0),tn=Symbol(0),ta=Symbol(0),tl={crossOrigin:ti,readyState:ts,updateActiveCues:tn,canLoad:ta,onModeChange:Symbol(0),native:Symbol(0),nativeHLS:Symbol(0)};function th(t,e){return e>=t.startTime&&e<t.endTime}function tr(t,e,i){let s=null,n=(0,f.getScope)();function a(){let a=(0,f.isString)(e)?[e]:e,l=t.toArray().find(t=>a.includes(t.kind)&&"showing"===t.mode);if(l!==s){if(!l){i(null),s=null;return}2==l.readyState?i(l):(i(null),(0,f.scoped)(()=>{let t=(0,f.listenEvent)(l,"load",()=>{i(l),t()},{once:!0})},n)),s=l}}return a(),(0,f.listenEvent)(t,"mode-change",a)}var to=new WeakMap,tu=new WeakMap,tc=new WeakMap,td=new WeakMap,t_=new WeakMap,tp=new WeakMap,tv=new WeakMap,tf=new WeakSet,tw=new WeakSet,tg=new WeakSet,tm=new WeakSet,tb=new WeakSet,tk=new WeakSet;let ty=tl.updateActiveCues,tS=tl.canLoad;class tW extends f.EventsTarget{static createId(t){var e,i;return"vds-".concat(t.type,"-").concat(t.kind,"-").concat(null!==(i=null!==(e=t.src)&&void 0!==e?e:t.label)&&void 0!==i?i:"?")}get metadata(){return(0,o._)(this,td)}get regions(){return(0,o._)(this,t_)}get cues(){return(0,o._)(this,tp)}get activeCues(){return(0,o._)(this,tv)}get readyState(){return this[tl.readyState]}get mode(){return(0,o._)(this,tc)}set mode(t){this.setMode(t)}addCue(t,e){let i=0,s=(0,o._)(this,tp).length;for(i=0;i<s&&!(t.endTime<=(0,o._)(this,tp)[i].startTime);i++);if(i===s?(0,o._)(this,tp).push(t):(0,o._)(this,tp).splice(i,0,t),!(t instanceof TextTrackCue)){var n;null===(n=this[tl.native])||void 0===n||n.track.addCue(t)}this.dispatchEvent(new f.DOMEvent("add-cue",{detail:t,trigger:e})),th(t,(0,o._)(this,tu))&&this[tl.updateActiveCues]((0,o._)(this,tu),e)}removeCue(t,e){let i=(0,o._)(this,tp).indexOf(t);if(i>=0){var s;let n=(0,o._)(this,tv).includes(t);(0,o._)(this,tp).splice(i,1),null===(s=this[tl.native])||void 0===s||s.track.removeCue(t),this.dispatchEvent(new f.DOMEvent("remove-cue",{detail:t,trigger:e})),n&&this[tl.updateActiveCues]((0,o._)(this,tu),e)}}setMode(t,e){var i;(0,o._)(this,tc)!==t&&((0,c._)(this,tc,t),"disabled"===t?((0,c._)(this,tv,[]),(0,_._)(this,tk,tA).call(this)):2===this.readyState?this[tl.updateActiveCues]((0,o._)(this,tu),e):(0,_._)(this,tw,tM).call(this),this.dispatchEvent(new f.DOMEvent("mode-change",{detail:this,trigger:e})),null===(i=this[tl.onModeChange])||void 0===i||i.call(this))}[ty](t,e){if((0,c._)(this,tu,t),"disabled"===this.mode||!(0,o._)(this,tp).length)return;let i=[];for(let e=0,s=(0,o._)(this,tp).length;e<s;e++){let s=(0,o._)(this,tp)[e];th(s,t)&&i.push(s)}let s=i.length!==(0,o._)(this,tv).length;if(!s){for(let t=0;t<i.length;t++)if(!(0,o._)(this,tv).includes(i[t])){s=!0;break}}(0,c._)(this,tv,i),s&&(0,_._)(this,tk,tA).call(this,e)}[tS](){(0,c._)(this,to,!0),"disabled"!==(0,o._)(this,tc)&&(0,_._)(this,tw,tM).call(this)}constructor(t){for(let e of(super(),(0,p._)(this,tf),(0,p._)(this,tw),(0,p._)(this,tg),(0,p._)(this,tm),(0,p._)(this,tb),(0,p._)(this,tk),(0,u._)(this,to,{writable:!0,value:void 0}),(0,u._)(this,tu,{writable:!0,value:void 0}),(0,u._)(this,tc,{writable:!0,value:void 0}),(0,u._)(this,td,{writable:!0,value:void 0}),(0,u._)(this,t_,{writable:!0,value:void 0}),(0,u._)(this,tp,{writable:!0,value:void 0}),(0,u._)(this,tv,{writable:!0,value:void 0}),this.id="",this.label="",this.language="",this.default=!1,(0,c._)(this,to,!1),(0,c._)(this,tu,0),(0,c._)(this,tc,"disabled"),(0,c._)(this,td,{}),(0,c._)(this,t_,[]),(0,c._)(this,tp,[]),(0,c._)(this,tv,[]),this[s]=0,this[n]=null,this[a]=null,Object.keys(t)))this[e]=t[e];this.type||(this.type="vtt"),!m&&t.content?(0,_._)(this,tf,t$).call(this,t):t.src||(this[tl.readyState]=2)}}function t$(t){i.e(7922).then(i.bind(i,17922)).then(e=>{let{parseText:i,VTTCue:s,VTTRegion:n}=e;(0,f.isString)(t.content)&&"json"!==t.type?i(t.content,{type:t.type}).then(t=>{let{cues:e,regions:i}=t;(0,c._)(this,tp,e),(0,c._)(this,t_,i),(0,_._)(this,tg,tx).call(this)}):((0,_._)(this,tb,tP).call(this,t.content,s,n),3!==this.readyState&&(0,_._)(this,tg,tx).call(this))})}async function tM(){if((0,o._)(this,to)&&!(this[tl.readyState]>0)){if(this[tl.readyState]=1,this.dispatchEvent(new f.DOMEvent("load-start")),!this.src){(0,_._)(this,tg,tx).call(this);return}try{var t,e;let{parseResponse:s,VTTCue:n,VTTRegion:a}=await i.e(7922).then(i.bind(i,17922)),l=null===(t=this[tl.crossOrigin])||void 0===t?void 0:t.call(this),h=fetch(this.src,{headers:"json"===this.type?{"Content-Type":"application/json"}:void 0,credentials:tt(l)});if("json"===this.type)(0,_._)(this,tb,tP).call(this,await (await h).text(),n,a);else{let{errors:t,metadata:i,regions:n,cues:a}=await s(h,{type:this.type,encoding:this.encoding});if((null===(e=t[0])||void 0===e?void 0:e.code)===0)throw t[0];(0,c._)(this,td,i),(0,c._)(this,t_,n),(0,c._)(this,tp,a)}(0,_._)(this,tg,tx).call(this)}catch(t){(0,_._)(this,tm,tT).call(this,t)}}}function tx(){if(this[tl.readyState]=2,!this.src||"vtt"!==this.type){let t=this[tl.native];if(t&&!t.managed)for(let e of(0,o._)(this,tp))t.track.addCue(e)}let t=new f.DOMEvent("load");this[tl.updateActiveCues]((0,o._)(this,tu),t),this.dispatchEvent(t)}function tT(t){this[tl.readyState]=3,this.dispatchEvent(new f.DOMEvent("error",{detail:t}))}function tP(t,e,i){try{let{regions:s,cues:n}=function(t,e,i){let s=(0,f.isString)(t)?JSON.parse(t):t,n=[],a=[];return s.regions&&i&&(n=s.regions.map(t=>Object.assign(new i,t))),(s.cues||(0,f.isArray)(s))&&(a=((0,f.isArray)(s)?s:s.cues).filter(t=>(0,f.isNumber)(t.startTime)&&(0,f.isNumber)(t.endTime)).map(t=>Object.assign(new e(0,0,""),t))),{regions:n,cues:a}}(t,e,i);(0,c._)(this,t_,s),(0,c._)(this,tp,n)}catch(t){(0,_._)(this,tm,tT).call(this,t)}}function tA(t){this.dispatchEvent(new f.DOMEvent("cue-change",{trigger:t}))}s=tl.readyState,tl.crossOrigin,n=tl.onModeChange,a=tl.native;let tC=/captions|subtitles/;function tE(t){return tC.test(t.kind)}let tq=new f.State({artist:"",artwork:null,audioTrack:null,audioTracks:[],autoPlay:!1,autoPlayError:null,audioGain:null,buffered:new D,canLoad:!1,canLoadPoster:!1,canFullscreen:!1,canOrientScreen:$(),canPictureInPicture:!1,canPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,get iOSControls(){return y&&"video"===this.mediaType&&(!this.playsInline||!f.fscreen.fullscreenEnabled&&this.fullscreen)},get nativeControls(){return this.controls||this.iOSControls},controlsVisible:!1,get controlsHidden(){return!this.controlsVisible},crossOrigin:null,ended:!1,error:null,fullscreen:!1,get loop(){return this.providedLoop||this.userPrefersLoop},logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new D,playing:!1,playsInline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,canSetAudioGain:!1,seekable:new D,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,get hasCaptions(){return this.textTracks.filter(tE).length>0},volume:1,waiting:!1,realCurrentTime:0,get currentTime(){return this.ended?this.duration:this.clipStartTime>0?Math.max(0,Math.min(this.realCurrentTime-this.clipStartTime,this.duration)):this.realCurrentTime},providedDuration:-1,intrinsicDuration:0,get duration(){return this.seekableWindow},get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return"unknown"!==this.providedViewType?this.providedViewType:this.inferredViewType},get streamType(){return"unknown"!==this.providedStreamType?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){var tD;return Math.max(null!==(tD=O(this.buffered))&&void 0!==tD?tD:0,this.clipStartTime)},get bufferedEnd(){var tO;let t=null!==(tO=L(this.buffered))&&void 0!==tO?tO:0;return Math.min(this.seekableEnd,Math.max(0,t-this.clipStartTime))},get bufferedWindow(){return Math.max(0,this.bufferedEnd-this.bufferedStart)},get seekableStart(){var tL;if(this.isLiveDVR&&this.liveDVRWindow>0)return Math.max(0,this.seekableEnd-this.liveDVRWindow);return Math.max(null!==(tL=O(this.seekable))&&void 0!==tL?tL:0,this.clipStartTime)},get seekableEnd(){var tI;if(this.providedDuration>0)return this.providedDuration;let t=this.liveSyncPosition>0?this.liveSyncPosition:this.canPlay?null!==(tI=L(this.seekable))&&void 0!==tI?tI:1/0:0;return this.clipEndTime>0?Math.min(this.clipEndTime,t):t},get seekableWindow(){let t=this.seekableEnd-this.seekableStart;return isNaN(t)?1/0:Math.max(0,t)},canAirPlay:!1,canGoogleCast:!1,remotePlaybackState:"disconnected",remotePlaybackType:"none",remotePlaybackLoader:null,remotePlaybackInfo:null,get isAirPlayConnected(){return"airplay"===this.remotePlaybackType&&"connected"===this.remotePlaybackState},get isGoogleCastConnected(){return"google-cast"===this.remotePlaybackType&&"connected"===this.remotePlaybackState},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,lastKeyboardAction:null,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.duration)&&(!this.isLiveDVR||this.duration>=this.liveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.duration)},get liveEdgeStart(){return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,this.seekableEnd-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},get isLiveDVR(){return/:dvr/.test(this.streamType)},get liveDVRWindow(){return Math.max(this.inferredLiveDVRWindow,this.minLiveDVRWindow)},autoPlaying:!1,providedTitle:"",inferredTitle:"",providedLoop:!1,userPrefersLoop:!1,providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null,inferredLiveDVRWindow:0,savedState:null}),tF=new Set(["autoPlayError","autoPlaying","buffered","canPlay","error","paused","played","playing","seekable","seeking","waiting"]),tV=new Set([...tF,"ended","inferredPoster","inferredStreamType","inferredTitle","intrinsicDuration","inferredLiveDVRWindow","liveSyncPosition","realCurrentTime","savedState","started","userBehindLiveEdge"]);function tR(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e?tF:tV;tq.reset(t,t=>i.has(t)),(0,f.tick)()}function tN(t,e){let i=t+e.clipStartTime(),s=Math.floor(t)===Math.floor(e.seekableStart()),n=Math.floor(i)===Math.floor(e.seekableEnd());return s?e.seekableStart():n?e.seekableEnd():e.isLiveDVR()&&e.liveDVRWindow()>0&&i<e.seekableEnd()-e.liveDVRWindow()?e.bufferedStart():Math.min(Math.max(e.seekableStart()+.1,i),e.seekableEnd()-.1)}let tG=(0,f.createContext)();function tj(){return(0,f.useContext)(tG)}var tK=new WeakMap,tU=new WeakMap,tH=new WeakMap,tB=new WeakMap,tQ=new WeakSet,tz=new WeakSet;class tX{setTarget(t){(0,c._)(this,tK,t)}getPlayer(t){var e;return(0,o._)(this,tU)||null===(e=null!=t?t:(0,o._)(this,tK))||void 0===e||e.dispatchEvent(new f.DOMEvent("find-media-player",{detail:t=>void(0,c._)(this,tU,t),bubbles:!0,composed:!0})),(0,o._)(this,tU)}setPlayer(t){(0,c._)(this,tU,t)}startLoading(t){(0,_._)(this,tQ,tY).call(this,"media-start-loading",t)}startLoadingPoster(t){(0,_._)(this,tQ,tY).call(this,"media-poster-start-loading",t)}requestAirPlay(t){(0,_._)(this,tQ,tY).call(this,"media-airplay-request",t)}requestGoogleCast(t){(0,_._)(this,tQ,tY).call(this,"media-google-cast-request",t)}play(t){(0,_._)(this,tQ,tY).call(this,"media-play-request",t)}pause(t){(0,_._)(this,tQ,tY).call(this,"media-pause-request",t)}mute(t){(0,_._)(this,tQ,tY).call(this,"media-mute-request",t)}unmute(t){(0,_._)(this,tQ,tY).call(this,"media-unmute-request",t)}enterFullscreen(t,e){(0,_._)(this,tQ,tY).call(this,"media-enter-fullscreen-request",e,t)}exitFullscreen(t,e){(0,_._)(this,tQ,tY).call(this,"media-exit-fullscreen-request",e,t)}lockScreenOrientation(t,e){(0,_._)(this,tQ,tY).call(this,"media-orientation-lock-request",e,t)}unlockScreenOrientation(t){(0,_._)(this,tQ,tY).call(this,"media-orientation-unlock-request",t)}enterPictureInPicture(t){(0,_._)(this,tQ,tY).call(this,"media-enter-pip-request",t)}exitPictureInPicture(t){(0,_._)(this,tQ,tY).call(this,"media-exit-pip-request",t)}seeking(t,e){(0,_._)(this,tQ,tY).call(this,"media-seeking-request",e,t)}seek(t,e){(0,_._)(this,tQ,tY).call(this,"media-seek-request",e,t)}seekToLiveEdge(t){(0,_._)(this,tQ,tY).call(this,"media-live-edge-request",t)}changeDuration(t,e){(0,_._)(this,tQ,tY).call(this,"media-duration-change-request",e,t)}changeClipStart(t,e){(0,_._)(this,tQ,tY).call(this,"media-clip-start-change-request",e,t)}changeClipEnd(t,e){(0,_._)(this,tQ,tY).call(this,"media-clip-end-change-request",e,t)}changeVolume(t,e){(0,_._)(this,tQ,tY).call(this,"media-volume-change-request",e,Math.max(0,Math.min(1,t)))}changeAudioTrack(t,e){(0,_._)(this,tQ,tY).call(this,"media-audio-track-change-request",e,t)}changeQuality(t,e){(0,_._)(this,tQ,tY).call(this,"media-quality-change-request",e,t)}requestAutoQuality(t){this.changeQuality(-1,t)}changeTextTrackMode(t,e,i){(0,_._)(this,tQ,tY).call(this,"media-text-track-change-request",i,{index:t,mode:e})}changePlaybackRate(t,e){(0,_._)(this,tQ,tY).call(this,"media-rate-change-request",e,t)}changeAudioGain(t,e){(0,_._)(this,tQ,tY).call(this,"media-audio-gain-change-request",e,t)}resumeControls(t){(0,_._)(this,tQ,tY).call(this,"media-resume-controls-request",t)}pauseControls(t){(0,_._)(this,tQ,tY).call(this,"media-pause-controls-request",t)}togglePaused(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.state.paused?this.play(t):this.pause(t))}toggleControls(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.controls.showing?e.controls.hide(0,t):e.controls.show(0,t))}toggleMuted(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.state.muted?this.unmute(t):this.mute(t))}toggleFullscreen(t,e){let i=this.getPlayer(null==e?void 0:e.target);i&&(i.state.fullscreen?this.exitFullscreen(t,e):this.enterFullscreen(t,e))}togglePictureInPicture(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.state.pictureInPicture?this.exitPictureInPicture(t):this.enterPictureInPicture(t))}showCaptions(t){let e=this.getPlayer(null==t?void 0:t.target);if(!e)return;let i=e.state.textTracks,s=(0,o._)(this,tH);i[s]&&tE(i[s])||(s=-1),-1===s&&(s=i.findIndex(t=>tE(t)&&t.default)),-1===s&&(s=i.findIndex(t=>tE(t))),s>=0&&this.changeTextTrackMode(s,"showing",t),(0,c._)(this,tH,-1)}disableCaptions(t){let e=this.getPlayer(null==t?void 0:t.target);if(!e)return;let i=e.state.textTracks,s=e.state.textTrack;if(s){let e=i.indexOf(s);this.changeTextTrackMode(e,"disabled",t),(0,c._)(this,tH,e)}}toggleCaptions(t){let e=this.getPlayer(null==t?void 0:t.target);e&&(e.state.textTrack?this.disableCaptions():this.showCaptions())}userPrefersLoopChange(t,e){(0,_._)(this,tQ,tY).call(this,"media-user-loop-change-request",e,t)}constructor(t){(0,p._)(this,tQ),(0,p._)(this,tz),(0,u._)(this,tK,{writable:!0,value:void 0}),(0,u._)(this,tU,{writable:!0,value:void 0}),(0,u._)(this,tH,{writable:!0,value:void 0}),(0,u._)(this,tB,{writable:!0,value:void 0}),(0,c._)(this,tK,null),(0,c._)(this,tU,null),(0,c._)(this,tH,-1),(0,c._)(this,tB,t)}}function tY(t,e,i){var s,n,a;let l=new f.DOMEvent(t,{bubbles:!0,composed:!0,cancelable:!0,detail:i,trigger:e}),h=(null==e?void 0:e.target)||null;h&&h instanceof f.Component&&(h=h.el),h=!h||h===document||h===window||h===document.body||(null===(s=(0,o._)(this,tU))||void 0===s?void 0:s.el)&&h instanceof Node&&!(0,o._)(this,tU).el.contains(h)?null!==(a=(0,o._)(this,tK))&&void 0!==a?a:null===(n=this.getPlayer())||void 0===n?void 0:n.el:null!=h?h:(0,o._)(this,tK),(0,o._)(this,tU)&&("media-play-request"!==t||(0,o._)(this,tU).state.canLoad)?(0,o._)(this,tU).canPlayQueue.enqueue(t,()=>null==h?void 0:h.dispatchEvent(l)):null==h||h.dispatchEvent(l)}var tJ=new WeakMap;class tZ{async getVolume(){return(0,o._)(this,tJ).volume}async setVolume(t){(0,o._)(this,tJ).volume=t,this.save()}async getMuted(){return(0,o._)(this,tJ).muted}async setMuted(t){(0,o._)(this,tJ).muted=t,this.save()}async getTime(){return(0,o._)(this,tJ).time}async setTime(t,e){let i=t<0;(0,o._)(this,tJ).time=i?null:t,i||e?this.saveTime():this.saveTimeThrottled()}async getLang(){return(0,o._)(this,tJ).lang}async setLang(t){(0,o._)(this,tJ).lang=t,this.save()}async getCaptions(){return(0,o._)(this,tJ).captions}async setCaptions(t){(0,o._)(this,tJ).captions=t,this.save()}async getPlaybackRate(){return(0,o._)(this,tJ).rate}async setPlaybackRate(t){(0,o._)(this,tJ).rate=t,this.save()}async getAudioGain(){return(0,o._)(this,tJ).audioGain}async setAudioGain(t){(0,o._)(this,tJ).audioGain=t,this.save()}async getVideoQuality(){return(0,o._)(this,tJ).quality}async setVideoQuality(t){(0,o._)(this,tJ).quality=t,this.save()}onChange(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"vds-player",s=i?localStorage.getItem(i):null,n=e?localStorage.getItem(e):null;this.playerId=i,this.mediaId=e,(0,c._)(this,tJ,{volume:null,muted:null,audioGain:null,lang:null,captions:null,rate:null,quality:null,...s?JSON.parse(s):{},time:n?+n:null})}save(){if(m||!this.playerId)return;let t=JSON.stringify({...(0,o._)(this,tJ),time:void 0});localStorage.setItem(this.playerId,t)}saveTime(){var t;if(m||!this.mediaId)return;let e=(null!==(t=(0,o._)(this,tJ).time)&&void 0!==t?t:0).toString();localStorage.setItem(this.mediaId,e)}constructor(){(0,u._)(this,tJ,{writable:!0,value:void 0}),this.playerId="vds-player",this.mediaId=null,(0,c._)(this,tJ,{volume:null,muted:null,audioGain:null,time:null,lang:null,captions:null,rate:null,quality:null}),this.saveTimeThrottled=(0,f.functionThrottle)(this.saveTime.bind(this),1e3)}}let t0=Symbol(0),t1=Symbol(0),t2=Symbol(0),t3=Symbol(0),t5=Symbol(0),t9=Symbol(0),t4={add:t0,remove:t1,reset:t2,select:t3,readonly:t5,setReadonly:t9,onReset:Symbol(0),onRemove:Symbol(0),onUserSelect:Symbol(0)},t6=Symbol.iterator,t7=t4.add,t8=t4.remove,et=t4.reset,ee=t4.setReadonly;class ei extends f.EventsTarget{get length(){return this.items.length}get readonly(){return this[t4.readonly]}indexOf(t){return this.items.indexOf(t)}getById(t){var e;return""===t?null:null!==(e=this.items.find(e=>e.id===t))&&void 0!==e?e:null}toArray(){return[...this.items]}[t6](){return this.items.values()}[t7](t,e){let i=this.items.length;""+i in this||Object.defineProperty(this,i,{get(){return this.items[i]}}),this.items.includes(t)||(this.items.push(t),this.dispatchEvent(new f.DOMEvent("add",{detail:t,trigger:e})))}[t8](t,e){let i=this.items.indexOf(t);if(i>=0){var s;null===(s=this[t4.onRemove])||void 0===s||s.call(this,t,e),this.items.splice(i,1),this.dispatchEvent(new f.DOMEvent("remove",{detail:t,trigger:e}))}}[et](t){var e;for(let e of[...this.items])this[t4.remove](e,t);this.items=[],this[t4.setReadonly](!1,t),null===(e=this[t4.onReset])||void 0===e||e.call(this)}[ee](t,e){this[t4.readonly]!==t&&(this[t4.readonly]=t,this.dispatchEvent(new f.DOMEvent("readonly-change",{detail:t,trigger:e})))}constructor(...t){super(...t),this.items=[],this[l]=!1}}l=t4.readonly;let es=Symbol(0);class en extends ei{get selected(){var t;return null!==(t=this.items.find(t=>t.selected))&&void 0!==t?t:null}get selectedIndex(){return this.items.findIndex(t=>t.selected)}[t4.onRemove](t,e){this[t4.select](t,!1,e)}[t4.add](t,e){t[es]=!1,Object.defineProperty(t,"selected",{get(){return this[es]},set:e=>{var i;this.readonly||(null===(i=this[t4.onUserSelect])||void 0===i||i.call(this),this[t4.select](t,e))}}),super[t4.add](t,e)}[t4.select](t,e,i){if(e===(null==t?void 0:t[es]))return;let s=this.selected;t&&(t[es]=e),(e?s!==t:s===t)&&(s&&(s[es]=!1),this.dispatchEvent(new f.DOMEvent("change",{detail:{prev:s,current:this.selected},trigger:i})))}}class ea extends en{}function el(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number(t.toFixed(e))}function eh(t){var e,i;return null!==(i=null===(e=String(t).split(".")[1])||void 0===e?void 0:e.length)&&void 0!==i?i:0}function er(t,e,i){return Math.max(t,Math.min(i,e))}function eo(t,e){let i=e.composedPath()[0];return(0,f.isDOMNode)(i)&&t.contains(i)}let eu=new Set;if(!m){let t=function(){for(let t of eu)try{t()}catch(t){}window.requestAnimationFrame(t)};t()}function ec(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}function ed(t,e){if(!(t.hasAttribute("aria-label")||t.hasAttribute("data-no-label"))){if(!(0,f.isFunction)(e)){(0,f.setAttribute)(t,"aria-label",e);return}m?i():(0,f.effect)(i)}function i(){(0,f.setAttribute)(t,"aria-label",e())}}function e_(t){let e=getComputedStyle(t);return"none"!==e.display&&parseInt(e.opacity)>0}function ep(t,e){var i;return i=()=>e(!!t&&("checkVisibility"in t?t.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}):e_(t))),eu.add(i),()=>eu.delete(i)}function ev(t,e,i){for(;e;){if(e===t)return!0;if(null==i?void 0:i(e))break;e=e.parentElement}return!1}function ef(t,e){return new f.EventsController(t).add("pointerup",t=>{0!==t.button||t.defaultPrevented||e(t)}).add("keydown",t=>{(0,f.isKeyboardClick)(t)&&e(t)})}function ew(t){return(0,f.isTouchEvent)(t)&&(t.touches.length>1||t.changedTouches.length>1)}function eg(t){if(m)return t();let e=(0,f.getScope)(),i=window.requestAnimationFrame(()=>{(0,f.scoped)(t,e),i=-1});return()=>void window.cancelAnimationFrame(i)}function em(t,e,i,s){let{offsetVarName:n,xOffset:a,yOffset:l,...h}=s;if(!t)return;let r=i.replace(" ","-").replace("-center","");if((0,f.setStyle)(t,"visibility",e?null:"hidden"),!e)return;let o=i.includes("top"),u=t=>i.includes("left")?"calc(-1 * ".concat(t,")"):t,c=t=>o?"calc(-1 * ".concat(t,")"):t;return(0,w.Me)(e,t,()=>{var s;(0,w.oo)(e,t,{placement:r,middleware:[...null!==(s=h.middleware)&&void 0!==s?s:[],(0,w.RR)({fallbackAxisSideDirection:"start",crossAxis:!1}),(0,w.uY)()],...h}).then(e=>{var s;let{x:h,y:r,middlewareData:d}=e,_=!!(null===(s=d.flip)||void 0===s?void 0:s.index);o=i.includes(_?"bottom":"top"),t.setAttribute("data-placement",_?i.startsWith("top")?i.replace("top","bottom"):i.replace("bottom","top"):i),Object.assign(t.style,{top:"calc(".concat(r+"px"," + ").concat(c(l?l+"px":"var(--".concat(n,"-y-offset, 0px)")),")"),left:"calc(".concat(h+"px"," + ").concat(u(a?a+"px":"var(--".concat(n,"-x-offset, 0px)")),")")})})})}function eb(t){return t instanceof HTMLElement}var ek=new WeakMap,ey=new WeakMap,eS=new WeakMap,eW=new WeakMap,e$=new WeakSet,eM=new WeakSet,ex=new WeakSet,eT=new WeakSet;class eP{canRender(t,e){return!!e}attach(t){(0,c._)(this,ey,t),t&&(t.textTracks.onchange=(0,_._)(this,eT,eq).bind(this))}addTrack(t){(0,o._)(this,eW).add(t),(0,_._)(this,e$,eA).call(this,t)}removeTrack(t){var e,i;null===(i=t[tl.native])||void 0===i||null===(e=i.remove)||void 0===e||e.call(i),t[tl.native]=null,(0,o._)(this,eW).delete(t)}changeTrack(t){let e=null==t?void 0:t[tl.native];e&&"showing"!==e.track.mode&&(e.track.mode="showing"),(0,c._)(this,eS,t)}setDisplay(t){(0,c._)(this,ek,t),(0,_._)(this,eT,eq).call(this)}detach(){for(let t of((0,o._)(this,ey)&&((0,o._)(this,ey).textTracks.onchange=null),(0,o._)(this,eW)))this.removeTrack(t);(0,o._)(this,eW).clear(),(0,c._)(this,ey,null),(0,c._)(this,eS,null)}constructor(){(0,p._)(this,e$),(0,p._)(this,eM),(0,p._)(this,ex),(0,p._)(this,eT),(0,u._)(this,ek,{writable:!0,value:void 0}),(0,u._)(this,ey,{writable:!0,value:void 0}),(0,u._)(this,eS,{writable:!0,value:void 0}),(0,u._)(this,eW,{writable:!0,value:void 0}),this.priority=0,(0,c._)(this,ek,!0),(0,c._)(this,ey,null),(0,c._)(this,eS,null),(0,c._)(this,eW,new Set)}}function eA(t){var e,i;if(!(0,o._)(this,ey))return;let s=null!==(i=t[e=tl.native])&&void 0!==i?i:t[e]=(0,_._)(this,eM,eC).call(this,t);eb(s)&&((0,o._)(this,ey).append(s),s.track.mode=s.default?"showing":"disabled")}function eC(t){let e=document.createElement("track"),i=t.default||"showing"===t.mode,s=t.src&&"vtt"===t.type;return e.id=t.id,e.src=s?t.src:"",e.label=t.label,e.kind=t.kind,e.default=i,t.language&&(e.srclang=t.language),i&&!s&&(0,_._)(this,ex,eE).call(this,t,e.track),e}function eE(t,e){var i;if((!t.src||"vtt"!==t.type)&&(null===(i=e.cues)||void 0===i||!i.length))for(let i of t.cues)e.addCue(i)}function eq(t){for(let e of(0,o._)(this,eW)){let i=e[tl.native];if(!i)continue;if(!(0,o._)(this,ek)){i.track.mode=i.managed?"hidden":"disabled";continue}let s="showing"===i.track.mode;s&&(0,_._)(this,ex,eE).call(this,e,i.track),e.setMode(s?"showing":"disabled",t)}}var eD=new WeakMap,eO=new WeakMap,eL=new WeakMap,eI=new WeakMap,eF=new WeakMap,eV=new WeakMap,eR=new WeakMap,eN=new WeakSet,eG=new WeakSet,ej=new WeakSet,eK=new WeakSet,eU=new WeakSet,eH=new WeakSet,eB=new WeakSet;class eQ{add(t){(0,o._)(this,eL).push(t),(0,f.untrack)((0,_._)(this,eH,e0).bind(this))}remove(t){t.detach(),(0,o._)(this,eL).splice((0,o._)(this,eL).indexOf(t),1),(0,f.untrack)((0,_._)(this,eH,e0).bind(this))}attachVideo(t){requestAnimationFrame(()=>{if((0,c._)(this,eD,t),t)for(let e of((0,c._)(this,eV,new eP),(0,o._)(this,eV).attach(t),(0,o._)(this,eO)))(0,_._)(this,eG,eX).call(this,e);(0,_._)(this,eH,e0).call(this)})}constructor(t){(0,p._)(this,eN),(0,p._)(this,eG),(0,p._)(this,ej),(0,p._)(this,eK),(0,p._)(this,eU),(0,p._)(this,eH),(0,p._)(this,eB),(0,u._)(this,eD,{writable:!0,value:void 0}),(0,u._)(this,eO,{writable:!0,value:void 0}),(0,u._)(this,eL,{writable:!0,value:void 0}),(0,u._)(this,eI,{writable:!0,value:void 0}),(0,u._)(this,eF,{writable:!0,value:void 0}),(0,u._)(this,eV,{writable:!0,value:void 0}),(0,u._)(this,eR,{writable:!0,value:void 0}),(0,c._)(this,eD,null),(0,c._)(this,eL,[]),(0,c._)(this,eF,!1),(0,c._)(this,eV,null),(0,c._)(this,eR,null),(0,c._)(this,eI,t);let e=t.textTracks;(0,c._)(this,eO,e),(0,f.effect)((0,_._)(this,eN,ez).bind(this)),(0,f.onDispose)((0,_._)(this,eB,e1).bind(this)),new f.EventsController(e).add("add",(0,_._)(this,eK,eJ).bind(this)).add("remove",(0,_._)(this,eU,eZ).bind(this)).add("mode-change",(0,_._)(this,eH,e0).bind(this))}}function ez(){let{nativeControls:t}=(0,o._)(this,eI).$state;(0,c._)(this,eF,t()),(0,_._)(this,eH,e0).call(this)}function eX(t){var e;tE(t)&&(null===(e=(0,o._)(this,eV))||void 0===e||e.addTrack(t))}function eY(t){var e;tE(t)&&(null===(e=(0,o._)(this,eV))||void 0===e||e.removeTrack(t))}function eJ(t){(0,_._)(this,eG,eX).call(this,t.detail)}function eZ(t){(0,_._)(this,ej,eY).call(this,t.detail)}function e0(){var t,e,i,s,n,a,l;let h=(0,o._)(this,eO).selected;if((0,o._)(this,eD)&&((0,o._)(this,eF)||(null==h?void 0:h[tl.nativeHLS]))){null===(i=(0,o._)(this,eR))||void 0===i||i.changeTrack(null),null===(s=(0,o._)(this,eV))||void 0===s||s.setDisplay(!0),null===(n=(0,o._)(this,eV))||void 0===n||n.changeTrack(h);return}if(null===(t=(0,o._)(this,eV))||void 0===t||t.setDisplay(!1),null===(e=(0,o._)(this,eV))||void 0===e||e.changeTrack(null),!h){null===(a=(0,o._)(this,eR))||void 0===a||a.changeTrack(null);return}let r=(0,o._)(this,eL).sort((t,e)=>t.priority-e.priority).find(t=>t.canRender(h,(0,o._)(this,eD)));(0,o._)(this,eR)!==r&&(null===(l=(0,o._)(this,eR))||void 0===l||l.detach(),null==r||r.attach((0,o._)(this,eD)),(0,c._)(this,eR,null!=r?r:null)),null==r||r.changeTrack(h)}function e1(){var t,e;null===(t=(0,o._)(this,eV))||void 0===t||t.detach(),(0,c._)(this,eV,null),null===(e=(0,o._)(this,eR))||void 0===e||e.detach(),(0,c._)(this,eR,null)}var e2=new WeakMap,e3=new WeakMap,e5=new WeakMap,e9=new WeakMap,e4=new WeakMap,e6=new WeakMap,e7=new WeakMap,e8=new WeakSet,it=new WeakSet,ie=new WeakSet;let ii=tl.canLoad;class is extends ei{get selected(){let t=this.items.find(t=>"showing"===t.mode&&tE(t));return null!=t?t:null}get selectedIndex(){let t=this.selected;return t?this.indexOf(t):-1}get preferredLang(){return(0,o._)(this,e9)}set preferredLang(t){(0,c._)(this,e9,t),(0,_._)(this,ie,ih).call(this,t)}add(t,e){let i=t instanceof tW?t:new tW(t),s="captions"===t.kind||"subtitles"===t.kind?"captions":t.kind;return(0,o._)(this,e3)[s]&&t.default&&delete t.default,i.addEventListener("mode-change",(0,o._)(this,e7)),this[t4.add](i,e),i[tl.crossOrigin]=this[tl.crossOrigin],(0,o._)(this,e2)&&i[tl.canLoad](),t.default&&((0,o._)(this,e3)[s]=i),(0,o._)(this,e4).call(this),this}remove(t,e){if((0,c._)(this,e6,t),this.items.includes(t))return t===(0,o._)(this,e3)[t.kind]&&delete o._(this,e3)[t.kind],t.mode="disabled",t[tl.onModeChange]=null,t.removeEventListener("mode-change",(0,o._)(this,e7)),this[t4.remove](t,e),(0,c._)(this,e6,null),this}clear(t){for(let e of[...this.items])this.remove(e,t);return this}getByKind(t){let e=Array.isArray(t)?t:[t];return this.items.filter(t=>e.includes(t.kind))}[ii](){if(!(0,o._)(this,e2)){for(let t of this.items)t[tl.canLoad]();(0,c._)(this,e2,!0),(0,o._)(this,e4).call(this)}}setStorage(t){(0,c._)(this,e5,t)}constructor(){super(),(0,p._)(this,e8),(0,p._)(this,it),(0,p._)(this,ie),(0,u._)(this,e2,{writable:!0,value:void 0}),(0,u._)(this,e3,{writable:!0,value:void 0}),(0,u._)(this,e5,{writable:!0,value:void 0}),(0,u._)(this,e9,{writable:!0,value:void 0}),(0,u._)(this,e4,{writable:!0,value:void 0}),(0,u._)(this,e6,{writable:!0,value:void 0}),(0,u._)(this,e7,{writable:!0,value:void 0}),(0,c._)(this,e2,!1),(0,c._)(this,e3,{}),(0,c._)(this,e5,null),(0,c._)(this,e9,null),(0,c._)(this,e4,(0,f.functionDebounce)(async()=>{var t;if(!(0,o._)(this,e2))return;!(0,o._)(this,e9)&&(0,o._)(this,e5)&&(0,c._)(this,e9,await (0,o._)(this,e5).getLang());let e=await (null===(t=(0,o._)(this,e5))||void 0===t?void 0:t.getCaptions());for(let t of[["captions","subtitles"],"chapters","descriptions","metadata"]){let i=this.getByKind(t);if(i.find(t=>"showing"===t.mode))continue;let s=(0,o._)(this,e9)?i.find(t=>t.language===(0,o._)(this,e9)):null,n=(0,f.isArray)(t)?(0,o._)(this,e3)[t.find(t=>(0,o._)(this,e3)[t])||""]:(0,o._)(this,e3)[t],a=null!=s?s:n,l=a&&tE(a);a&&(!l||!1!==e)&&(a.mode="showing",l&&(0,_._)(this,it,il).call(this,a))}},300)),(0,c._)(this,e6,null),(0,c._)(this,e7,(0,_._)(this,e8,ia).bind(this))}}function ia(t){let e=t.detail;if((0,o._)(this,e5)&&tE(e)&&e!==(0,o._)(this,e6)&&(0,_._)(this,it,il).call(this,e),"showing"===e.mode){let t=tE(e)?["captions","subtitles"]:[e.kind];for(let i of this.items)"showing"===i.mode&&i!=e&&t.includes(i.kind)&&(i.mode="disabled")}this.dispatchEvent(new f.DOMEvent("mode-change",{detail:t.detail,trigger:t}))}function il(t){var e,i;"disabled"!==t.mode&&(0,_._)(this,ie,ih).call(this,t.language),null===(i=(0,o._)(this,e5))||void 0===i||null===(e=i.setCaptions)||void 0===e||e.call(i,"showing"===t.mode)}function ih(t){var e,i;null===(i=(0,o._)(this,e5))||void 0===i||null===(e=i.setLang)||void 0===e||e.call(i,(0,c._)(this,e9,t))}tl.crossOrigin;let ir={setAuto:Symbol(0),enableAuto:Symbol(0)};var io=new WeakMap;let iu=t4.onUserSelect,ic=t4.onReset,id=ir.setAuto;class i_ extends en{get auto(){return(0,o._)(this,io)||this.readonly}[iu](){this[ir.setAuto](!1)}[ic](t){this[ir.enableAuto]=void 0,this[ir.setAuto](!1,t)}autoSelect(t){var e;!(this.readonly||(0,o._)(this,io))&&this[ir.enableAuto]&&(null===(e=this[ir.enableAuto])||void 0===e||e.call(this,t),this[ir.setAuto](!0,t))}getBySrc(t){return this.items.find(e=>e.src===t)}[id](t,e){(0,o._)(this,io)!==t&&((0,c._)(this,io,t),this.dispatchEvent(new f.DOMEvent("auto-change",{detail:t,trigger:e})))}constructor(...t){super(...t),(0,u._)(this,io,{writable:!0,value:void 0}),(0,c._)(this,io,!1),this.switch="current"}}function ip(t,e){return[...t].sort(e?iw:iv)}function iv(t,e){var i,s;return t.height===e.height?(null!==(i=t.bitrate)&&void 0!==i?i:0)-(null!==(s=e.bitrate)&&void 0!==s?s:0):t.height-e.height}function iw(t,e){var i,s;return e.height===t.height?(null!==(i=e.bitrate)&&void 0!==i?i:0)-(null!==(s=t.bitrate)&&void 0!==s?s:0):e.height-t.height}ir.enableAuto;class ig extends f.ViewController{}let im=new Set(["Shift","Alt","Meta","Ctrl"]),ib='input, textarea, select, [contenteditable], [role^="menuitem"], [role="timer"]';var ik=new WeakMap,iy=new WeakSet,iS=new WeakSet,iW=new WeakSet,i$=new WeakSet,iM=new WeakSet,ix=new WeakMap,iT=new WeakSet,iP=new WeakMap,iA=new WeakSet,iC=new WeakSet;class iE extends ig{onConnect(){(0,f.effect)((0,_._)(this,iy,iq).bind(this))}constructor(t){super(),(0,p._)(this,iy),(0,p._)(this,iS),(0,p._)(this,iW),(0,p._)(this,i$),(0,p._)(this,iM),(0,p._)(this,iT),(0,p._)(this,iA),(0,p._)(this,iC),(0,u._)(this,ik,{writable:!0,value:void 0}),(0,u._)(this,ix,{writable:!0,value:void 0}),(0,u._)(this,iP,{writable:!0,value:void 0}),(0,c._)(this,iP,null),(0,c._)(this,ik,t)}}function iq(){let{keyDisabled:t,keyTarget:e}=this.$props;if(t())return;let i="player"===e()?this.el:document,s=(0,f.signal)(!1);i===this.el?new f.EventsController(this.el).add("focusin",()=>s.set(!0)).add("focusout",t=>{this.el.contains(t.target)||s.set(!1)}):((0,f.peek)(s)||s.set(document.querySelector("[data-media-player]")===this.el),(0,f.listenEvent)(document,"focusin",t=>{let e=t.composedPath().find(t=>t instanceof Element&&"media-player"===t.localName);void 0!==e&&s.set(this.el===e)})),(0,f.effect)(()=>{s()&&new f.EventsController(i).add("keyup",(0,_._)(this,iS,iD).bind(this)).add("keydown",(0,_._)(this,iW,iO).bind(this)).add("keydown",(0,_._)(this,i$,iL).bind(this),{capture:!0})})}function iD(t){let e=document.activeElement;if(!t.key||!this.$state.canSeek()||(null==e?void 0:e.matches(ib)))return;let{method:i,value:s}=(0,_._)(this,iM,iI).call(this,t);if(!(0,f.isString)(s)&&!(0,f.isArray)(s)){var n,a;null==s||null===(n=s.onKeyUp)||void 0===n||n.call(s,{event:t,player:(0,o._)(this,ik).player,remote:(0,o._)(this,ik).remote}),null==s||null===(a=s.callback)||void 0===a||a.call(s,t,(0,o._)(this,ik).remote);return}if((null==i?void 0:i.startsWith("seek"))&&(t.preventDefault(),t.stopPropagation(),(0,o._)(this,iP)?((0,_._)(this,iA,iV).call(this,t,"seekForward"===i),(0,c._)(this,iP,null)):((0,o._)(this,ik).remote.seek((0,o._)(this,ix),t),(0,c._)(this,ix,void 0))),null==i?void 0:i.startsWith("volume")){let e=this.el.querySelector("[data-media-volume-slider]");null==e||e.dispatchEvent(new KeyboardEvent("keyup",{key:"volumeUp"===i?"Up":"Down",shiftKey:t.shiftKey,trigger:t}))}}function iO(t){var e,i,s,n;if(!t.key||im.has(t.key))return;let a=document.activeElement;if((null==a?void 0:a.matches(ib))||(0,f.isKeyboardClick)(t)&&(null==a?void 0:a.matches('button, [role="button"]')))return;let{method:l,value:h}=(0,_._)(this,iM,iI).call(this,t),r=!t.metaKey&&/^[0-9]$/.test(t.key);if(!(0,f.isString)(h)&&!(0,f.isArray)(h)&&!r){null==h||null===(e=h.onKeyDown)||void 0===e||e.call(h,{event:t,player:(0,o._)(this,ik).player,remote:(0,o._)(this,ik).remote}),null==h||null===(i=h.callback)||void 0===i||i.call(h,t,(0,o._)(this,ik).remote);return}if(!l&&r){t.preventDefault(),t.stopPropagation(),(0,o._)(this,ik).remote.seek(this.$state.duration()/10*Number(t.key),t);return}if(l){switch(t.preventDefault(),t.stopPropagation(),l){case"seekForward":case"seekBackward":(0,_._)(this,iC,iR).call(this,t,l,"seekForward"===l);break;case"volumeUp":case"volumeDown":let e=this.el.querySelector("[data-media-volume-slider]");if(e)e.dispatchEvent(new KeyboardEvent("keydown",{key:"volumeUp"===l?"Up":"Down",shiftKey:t.shiftKey,trigger:t}));else{let e=t.shiftKey?.1:.05;(0,o._)(this,ik).remote.changeVolume(this.$state.volume()+("volumeUp"===l?+e:-e),t)}break;case"toggleFullscreen":(0,o._)(this,ik).remote.toggleFullscreen("prefer-media",t);break;case"speedUp":case"slowDown":let i=this.$state.playbackRate();(0,o._)(this,ik).remote.changePlaybackRate(Math.max(.25,Math.min(2,i+("speedUp"===l?.25:-.25))),t);break;default:null===(s=(n=(0,o._)(this,ik).remote)[l])||void 0===s||s.call(n,t)}this.$state.lastKeyboardAction.set({action:l,event:t})}}function iL(t){var e,i;i=e=t.target,(!m&&i instanceof HTMLAudioElement||!m&&e instanceof HTMLVideoElement)&&(0,_._)(this,iM,iI).call(this,t).method&&t.preventDefault()}function iI(t){let e={...this.$props.keyShortcuts(),...(0,o._)(this,ik).ariaKeys},i=Object.keys(e).find(i=>{var s;let n=e[i],a=(0,f.isArray)(n)?n.join(" "):(0,f.isString)(n)?n:null==n?void 0:n.keys,l=null===(s=(0,f.isArray)(a)?a:null==a?void 0:a.split(" "))||void 0===s?void 0:s.map(t=>t.replace(/Shift\+(\d)/g,(t,e)=>iN[e-1]).replace(/Control/g,"Ctrl").split("+"));return null==l?void 0:l.some(e=>{let i=new Set(e.filter(t=>im.has(t)));for(let e of im){let s=e.toLowerCase()+"Key";if(!i.has(e)&&t[s])return!1}return e.every(e=>im.has(e)?t[e.toLowerCase()+"Key"]:t.key===e.replace("Space"," "))})});return{method:i,value:i?e[i]:null}}function iF(t,e){var i;let s=t.shiftKey?10:5;return(0,c._)(this,ix,Math.max(0,Math.min((null!==(i=(0,o._)(this,ix))&&void 0!==i?i:this.$state.currentTime())+("seekForward"===e?+s:-s),this.$state.duration())))}function iV(t,e){var i;null===(i=(0,o._)(this,iP))||void 0===i||i.dispatchEvent(new KeyboardEvent(t.type,{key:e?"Right":"Left",shiftKey:t.shiftKey,trigger:t}))}function iR(t,e,i){this.$state.canSeek()&&((0,o._)(this,iP)||(0,c._)(this,iP,this.el.querySelector("[data-media-time-slider]")),(0,o._)(this,iP)?(0,_._)(this,iA,iV).call(this,t,i):(0,o._)(this,ik).remote.seeking((0,_._)(this,iT,iF).call(this,t,e),t))}let iN=["!","@","#","$","%","^","&","*","(",")"];var iG=new WeakMap;class ij extends f.ViewController{onAttach(t){let{$props:e,ariaKeys:i}=tj(),s=t.getAttribute("aria-keyshortcuts");if(s){i[(0,o._)(this,iG)]=s,m||(0,f.onDispose)(()=>{delete i[o._(this,iG)]});return}let n=e.keyShortcuts()[(0,o._)(this,iG)];if(n){let e=(0,f.isArray)(n)?n.join(" "):(0,f.isString)(n)?n:null==n?void 0:n.keys;t.setAttribute("aria-keyshortcuts",(0,f.isArray)(e)?e.join(" "):e)}}constructor(t){super(),(0,u._)(this,iG,{writable:!0,value:void 0}),(0,c._)(this,iG,t)}}var iK=new WeakMap,iU=new WeakMap,iH=new WeakMap,iB=new WeakMap,iQ=new WeakMap,iz=new WeakMap,iX=new WeakSet,iY=new WeakSet,iJ=new WeakSet,iZ=new WeakSet,i0=new WeakSet,i1=new WeakSet,i2=new WeakSet,i3=new WeakSet,i5=new WeakSet,i9=new WeakSet,i4=new WeakSet,i6=new WeakSet;class i7 extends ig{get canIdle(){return(0,o._)(this,iz).call(this)}set canIdle(t){(0,o._)(this,iz).set(t)}get hideOnMouseLeave(){let{hideControlsOnMouseLeave:t}=this.$props;return(0,o._)(this,iH).call(this)||t()}set hideOnMouseLeave(t){(0,o._)(this,iH).set(t)}get showing(){return this.$state.controlsVisible()}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;(0,_._)(this,i5,sh).call(this),(0,o._)(this,iU)||(0,_._)(this,i4,so).call(this,!0,t,e)}hide(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultDelay,e=arguments.length>1?arguments[1]:void 0;(0,_._)(this,i5,sh).call(this),(0,o._)(this,iU)||(0,_._)(this,i4,so).call(this,!1,t,e)}pause(t){(0,c._)(this,iU,!0),(0,_._)(this,i5,sh).call(this),(0,_._)(this,i4,so).call(this,!0,0,t)}resume(t){(0,c._)(this,iU,!1),this.$state.paused()||(0,_._)(this,i4,so).call(this,!1,this.defaultDelay,t)}onConnect(){(0,f.effect)((0,_._)(this,iX,i8).bind(this))}constructor(...t){super(...t),(0,p._)(this,iX),(0,p._)(this,iY),(0,p._)(this,iJ),(0,p._)(this,iZ),(0,p._)(this,i0),(0,p._)(this,i1),(0,p._)(this,i2),(0,p._)(this,i3),(0,p._)(this,i5),(0,p._)(this,i9),(0,p._)(this,i4),(0,p._)(this,i6),(0,u._)(this,iK,{writable:!0,value:void 0}),(0,u._)(this,iU,{writable:!0,value:void 0}),(0,u._)(this,iH,{writable:!0,value:void 0}),(0,u._)(this,iB,{writable:!0,value:void 0}),(0,u._)(this,iQ,{writable:!0,value:void 0}),(0,u._)(this,iz,{writable:!0,value:void 0}),(0,c._)(this,iK,-2),(0,c._)(this,iU,!1),(0,c._)(this,iH,(0,f.signal)(!1)),(0,c._)(this,iB,(0,f.signal)(!1)),(0,c._)(this,iQ,null),(0,c._)(this,iz,(0,f.signal)(!0)),this.defaultDelay=2e3}}function i8(){let{viewType:t}=this.$state;if(!this.el||!(0,o._)(this,iz).call(this))return;if("audio"===t()){this.show();return}(0,f.effect)((0,_._)(this,iY,st).bind(this)),(0,f.effect)((0,_._)(this,iJ,se).bind(this));let e=(0,_._)(this,iZ,si).bind(this),i=(0,_._)(this,i0,ss).bind(this),s=(0,_._)(this,i1,sn).bind(this);new f.EventsController(this.el).add("can-play",t=>this.show(0,t)).add("play",e).add("pause",i).add("end",s).add("auto-play-fail",i)}function st(){if(!this.el)return;let{started:t,pointer:e,paused:i}=this.$state;if(!t()||"fine"!==e())return;let s=new f.EventsController(this.el),n=this.hideOnMouseLeave;n&&(0,o._)(this,iB).call(this)||(0,f.effect)(()=>{i()||s.add("pointermove",(0,_._)(this,i9,sr).bind(this))}),n&&s.add("mouseenter",(0,_._)(this,i2,sa).bind(this)).add("mouseleave",(0,_._)(this,i3,sl).bind(this))}function se(){let{paused:t,started:e,autoPlayError:i}=this.$state;if(t()||i()&&!e())return;let s=(0,_._)(this,i9,sr).bind(this);(0,f.effect)(()=>{if(!this.el)return;let t=this.$state.pointer(),e=new f.EventsController(this.el);for(let i of["coarse"===t?"touchend":"pointerup","keydown"])e.add(i,s,{passive:!1})})}function si(t){t.triggers.hasType("ended")||(this.show(0,t),this.hide(void 0,t))}function ss(t){this.show(0,t)}function sn(t){let{loop:e}=this.$state;e()&&this.hide(0,t)}function sa(t){(0,o._)(this,iB).set(!1),this.show(0,t),this.hide(void 0,t)}function sl(t){(0,o._)(this,iB).set(!0),this.hide(0,t)}function sh(){window.clearTimeout((0,o._)(this,iK)),(0,c._)(this,iK,-1)}function sr(t){if(!(t.MEDIA_GESTURE||(0,o._)(this,iU)||ew(t))){if((0,f.isKeyboardEvent)(t)){if("Escape"===t.key){var e;null===(e=this.el)||void 0===e||e.focus(),(0,c._)(this,iQ,null)}else(0,o._)(this,iQ)&&(t.preventDefault(),requestAnimationFrame(()=>{var t;null===(t=(0,o._)(this,iQ))||void 0===t||t.focus(),(0,c._)(this,iQ,null)}))}this.show(0,t),this.hide(this.defaultDelay,t)}}function so(t,e,i){if(0===e){(0,_._)(this,i6,su).call(this,t,i);return}(0,c._)(this,iK,window.setTimeout(()=>{this.scope&&(0,_._)(this,i6,su).call(this,t&&!(0,o._)(this,iU),i)},e))}function su(t,e){var i;this.$state.controlsVisible()!==t&&(this.$state.controlsVisible.set(t),!t&&document.activeElement&&(null===(i=this.el)||void 0===i?void 0:i.contains(document.activeElement))&&((0,c._)(this,iQ,document.activeElement),requestAnimationFrame(()=>{var t;null===(t=this.el)||void 0===t||t.focus({preventScroll:!0})})),this.dispatch("controls-change",{detail:t,trigger:e}))}let sc=f.fscreen.fullscreenEnabled;var sd=new WeakMap,s_=new WeakMap,sp=new WeakSet,sv=new WeakSet,sf=new WeakSet;class sw extends f.ViewController{get active(){return(0,o._)(this,s_)}get supported(){return sc}onConnect(){new f.EventsController(f.fscreen).add("fullscreenchange",(0,_._)(this,sv,sm).bind(this)).add("fullscreenerror",(0,_._)(this,sf,sb).bind(this)),(0,f.onDispose)((0,_._)(this,sp,sg).bind(this))}async enter(){try{if((0,c._)(this,sd,!0),!this.el||sk(this.el))return;return sy(),f.fscreen.requestFullscreen(this.el)}catch(t){throw(0,c._)(this,sd,!1),t}}async exit(){if(this.el&&sk(this.el))return sy(),f.fscreen.exitFullscreen()}constructor(...t){super(...t),(0,p._)(this,sp),(0,p._)(this,sv),(0,p._)(this,sf),(0,u._)(this,sd,{writable:!0,value:void 0}),(0,u._)(this,s_,{writable:!0,value:void 0}),(0,c._)(this,sd,!1),(0,c._)(this,s_,!1)}}async function sg(){sc&&await this.exit()}function sm(t){let e=sk(this.el);e!==(0,o._)(this,s_)&&(e||(0,c._)(this,sd,!1),(0,c._)(this,s_,e),this.dispatch("fullscreen-change",{detail:e,trigger:t}))}function sb(t){(0,o._)(this,sd)&&(this.dispatch("fullscreen-error",{detail:null,trigger:t}),(0,c._)(this,sd,!1))}function sk(t){if(f.fscreen.fullscreenElement===t)return!0;try{return t.matches(f.fscreen.fullscreenPseudoClass)}catch(t){return!1}}function sy(){if(!sc)throw Error("[vidstack] no fullscreen API")}var sS=new WeakMap,sW=new WeakMap,s$=new WeakMap,sM=new WeakSet,sx=new WeakSet,sT=new WeakSet,sP=new WeakSet;class sA extends f.ViewController{get type(){return(0,o._)(this,sS).call(this)}get locked(){return(0,o._)(this,sW).call(this)}get portrait(){return(0,o._)(this,sS).call(this).startsWith("portrait")}get landscape(){return(0,o._)(this,sS).call(this).startsWith("landscape")}get supported(){return sA.supported}onConnect(){if(this.supported)(0,f.listenEvent)(screen.orientation,"change",(0,_._)(this,sx,sE).bind(this));else{let t=window.matchMedia("(orientation: landscape)");t.onchange=(0,_._)(this,sx,sE).bind(this),(0,f.onDispose)(()=>t.onchange=null)}(0,f.onDispose)((0,_._)(this,sM,sC).bind(this))}async lock(t){(0,f.peek)((0,o._)(this,sW))||(0,o._)(this,s$)===t||((0,_._)(this,sT,sq).call(this),await screen.orientation.lock(t),(0,o._)(this,sW).set(!0),(0,c._)(this,s$,t))}async unlock(){(0,f.peek)((0,o._)(this,sW))&&((0,_._)(this,sT,sq).call(this),(0,c._)(this,s$,void 0),await screen.orientation.unlock(),(0,o._)(this,sW).set(!1))}constructor(...t){super(...t),(0,p._)(this,sM),(0,p._)(this,sx),(0,p._)(this,sT),(0,p._)(this,sP),(0,u._)(this,sS,{writable:!0,value:void 0}),(0,u._)(this,sW,{writable:!0,value:void 0}),(0,u._)(this,s$,{writable:!0,value:void 0}),(0,c._)(this,sS,(0,f.signal)((0,_._)(this,sP,sD).call(this))),(0,c._)(this,sW,(0,f.signal)(!1))}}async function sC(){this.supported&&(0,o._)(this,sW).call(this)&&await this.unlock()}function sE(t){(0,o._)(this,sS).set((0,_._)(this,sP,sD).call(this)),this.dispatch("orientation-change",{detail:{orientation:(0,f.peek)((0,o._)(this,sS)),lock:(0,o._)(this,s$)},trigger:t})}function sq(){if(!this.supported)throw Error("[vidstack] no orientation API")}function sD(){return m?"portrait-primary":this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"}sA.supported=$();class sO{canPlay(t){return!!U(t)&&(m||!(0,f.isString)(t.src)||"?"===t.type||M(this.target,t.type))}mediaType(){return"audio"}async load(t){if(m)throw Error("[vidstack] can not load audio provider server-side");return new(await i.e(6382).then(i.bind(i,96382))).AudioProvider(this.target,t)}constructor(){this.name="audio"}}class sL{canPlay(t){return!!H(t)&&(m||!(0,f.isString)(t.src)||"?"===t.type||x(this.target,t.type))}mediaType(){return"video"}async load(t){if(m)throw Error("[vidstack] can not load video provider server-side");return new(await Promise.resolve().then(function(){return lh})).VideoProvider(this.target,t)}constructor(){this.name="video"}}class sI extends sL{canPlay(t){return sI.supported&&B(t)}async load(t){if(m)throw Error("[vidstack] can not load hls provider server-side");return new(await i.e(3901).then(i.bind(i,63901))).HLSProvider(this.target,t)}constructor(...t){super(...t),this.name="hls"}}sI.supported=E();let sF=null,sV=[],sR=[];function sN(){return null!=sF?sF:sF=new AudioContext}function sG(){sF&&0===sV.length&&0===sR.length&&sF.close().then(()=>{sF=null})}var sj=new WeakMap,sK=new WeakMap,sU=new WeakMap,sH=new WeakMap,sB=new WeakSet,sQ=new WeakSet;class sz{get currentGain(){var t,e,i;return null!==(i=null===(e=(0,o._)(this,sU))||void 0===e?void 0:null===(t=e.gain)||void 0===t?void 0:t.value)&&void 0!==i?i:null}get supported(){return!0}setGain(t){let e=this.currentGain;if(t!==this.currentGain){if(1===t&&1!==e){this.removeGain();return}!(0,o._)(this,sU)&&((0,c._)(this,sU,function(){let t=sN(),e=t.createGain();return e.connect(t.destination),sV.push(e),e}()),(0,o._)(this,sH)&&(0,o._)(this,sH).connect((0,o._)(this,sU))),(0,o._)(this,sH)||(0,c._)(this,sH,function(t,e){let i=sN().createMediaElementSource(t);return e&&i.connect(e),sR.push(i),i}((0,o._)(this,sj),(0,o._)(this,sU))),(0,o._)(this,sU).gain.value=t,(0,o._)(this,sK).call(this,t)}}removeGain(){(0,o._)(this,sU)&&((0,o._)(this,sH)&&(0,o._)(this,sH).connect(sN().destination),(0,_._)(this,sQ,sY).call(this),(0,o._)(this,sK).call(this,null))}destroy(){(0,_._)(this,sB,sX).call(this),(0,_._)(this,sQ,sY).call(this)}constructor(t,e){(0,p._)(this,sB),(0,p._)(this,sQ),(0,u._)(this,sj,{writable:!0,value:void 0}),(0,u._)(this,sK,{writable:!0,value:void 0}),(0,u._)(this,sU,{writable:!0,value:void 0}),(0,u._)(this,sH,{writable:!0,value:void 0}),(0,c._)(this,sU,null),(0,c._)(this,sH,null),(0,c._)(this,sj,t),(0,c._)(this,sK,e)}}function sX(){if((0,o._)(this,sH))try{!function(t){let e=sR.indexOf(t);-1!==e&&(sR.splice(e,1),t.disconnect(),sG())}((0,o._)(this,sH))}catch(t){}finally{(0,c._)(this,sH,null)}}function sY(){if((0,o._)(this,sU))try{!function(t){let e=sV.indexOf(t);-1!==e&&(sV.splice(e,1),t.disconnect(),sG())}((0,o._)(this,sU))}catch(t){}finally{(0,c._)(this,sU,null)}}let sJ=["focus","blur","visibilitychange","pageshow","pagehide"];var sZ=new WeakMap,s0=new WeakMap,s1=new WeakMap,s2=new WeakSet;class s3{connect(){let t=new f.EventsController(window),e=(0,_._)(this,s2,s5).bind(this);for(let i of sJ)t.add(i,e);W&&t.add("beforeunload",t=>{(0,c._)(this,s1,setTimeout(()=>{t.defaultPrevented||t.returnValue.length>0||((0,o._)(this,sZ).set("hidden"),(0,o._)(this,s0).set("hidden"))},0))})}get pageState(){return(0,o._)(this,sZ).call(this)}get visibility(){return(0,o._)(this,s0).call(this)}constructor(){(0,p._)(this,s2),(0,u._)(this,sZ,{writable:!0,value:void 0}),(0,u._)(this,s0,{writable:!0,value:void 0}),(0,u._)(this,s1,{writable:!0,value:void 0}),(0,c._)(this,sZ,(0,f.signal)(s9())),(0,c._)(this,s0,(0,f.signal)(m?"visible":document.visibilityState))}}function s5(t){W&&window.clearTimeout((0,o._)(this,s1)),("blur"!==t.type||"active"===(0,o._)(this,sZ).call(this))&&((0,o._)(this,sZ).set(s9(t)),(0,o._)(this,s0).set("hidden"==document.visibilityState?"hidden":"visible"))}function s9(t){return m||(null==t?void 0:t.type)==="blur"||"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive"}var s4=new WeakMap,s6=new WeakMap,s7=new WeakSet;class s8{start(){(0,f.isUndefined)((0,o._)(this,s4))&&(0,_._)(this,s7,nt).call(this)}stop(){(0,f.isNumber)((0,o._)(this,s4))&&window.cancelAnimationFrame((0,o._)(this,s4)),(0,c._)(this,s4,void 0)}constructor(t){(0,p._)(this,s7),(0,u._)(this,s4,{writable:!0,value:void 0}),(0,u._)(this,s6,{writable:!0,value:void 0}),(0,c._)(this,s6,t)}}function nt(){(0,c._)(this,s4,window.requestAnimationFrame(()=>{(0,f.isUndefined)((0,o._)(this,s4))||((0,o._)(this,s6).call(this),(0,_._)(this,s7,nt).call(this))}))}var ne=new WeakMap,ni=new WeakMap,ns=new WeakMap,nn=new WeakMap,na=new WeakMap,nl=new WeakMap,nh=new WeakMap,nr=new WeakMap,no=new WeakMap,nu=new WeakSet,nc=new WeakMap,nd=new WeakMap,n_=new WeakSet,np=new WeakSet,nv=new WeakSet,nf=new WeakSet,nw=new WeakMap,ng=new WeakMap,nm=new WeakSet,nb=new WeakSet,nk=new WeakSet,ny=new WeakSet,nS=new WeakSet,nW=new WeakSet,n$=new WeakSet,nM=new WeakSet,nx=new WeakSet,nT=new WeakSet,nP=new WeakSet,nA=new WeakSet,nC=new WeakSet,nE=new WeakSet,nq=new WeakSet,nD=new WeakSet,nO=new WeakSet,nL=new WeakSet,nI=new WeakSet,nF=new WeakSet,nV=new WeakSet,nR=new WeakSet,nN=new WeakSet,nG=new WeakSet,nj=new WeakSet,nK=new WeakSet,nU=new WeakSet;class nH{constructor(t,e){(0,u._)(this,no,{get:nB,set:void 0}),(0,p._)(this,nu),(0,p._)(this,n_),(0,p._)(this,np),(0,p._)(this,nv),(0,p._)(this,nf),(0,p._)(this,nm),(0,p._)(this,nb),(0,p._)(this,nk),(0,p._)(this,ny),(0,p._)(this,nS),(0,p._)(this,nW),(0,p._)(this,n$),(0,p._)(this,nM),(0,p._)(this,nx),(0,p._)(this,nT),(0,p._)(this,nP),(0,p._)(this,nA),(0,p._)(this,nC),(0,p._)(this,nE),(0,p._)(this,nq),(0,p._)(this,nD),(0,p._)(this,nO),(0,p._)(this,nL),(0,p._)(this,nI),(0,p._)(this,nF),(0,p._)(this,nV),(0,p._)(this,nR),(0,p._)(this,nN),(0,p._)(this,nG),(0,p._)(this,nj),(0,p._)(this,nK),(0,p._)(this,nU),(0,u._)(this,ne,{writable:!0,value:void 0}),(0,u._)(this,ni,{writable:!0,value:void 0}),(0,u._)(this,ns,{writable:!0,value:void 0}),(0,u._)(this,nn,{writable:!0,value:void 0}),(0,u._)(this,na,{writable:!0,value:void 0}),(0,u._)(this,nl,{writable:!0,value:void 0}),(0,u._)(this,nh,{writable:!0,value:void 0}),(0,u._)(this,nr,{writable:!0,value:void 0}),(0,u._)(this,nc,{writable:!0,value:void 0}),(0,u._)(this,nd,{writable:!0,value:void 0}),(0,u._)(this,nw,{writable:!0,value:void 0}),(0,u._)(this,ng,{writable:!0,value:void 0}),(0,c._)(this,ns,!1),(0,c._)(this,nn,!1),(0,c._)(this,na,!1),(0,c._)(this,nl,new s8((0,_._)(this,n_,nz).bind(this))),(0,c._)(this,nh,new s3),(0,c._)(this,nc,0),(0,c._)(this,nd,-1),(0,c._)(this,nw,void 0),(0,c._)(this,ng,void 0),(0,c._)(this,ne,t),(0,c._)(this,ni,e),(0,c._)(this,nr,new f.EventsController(t.media)),(0,_._)(this,np,nX).call(this),(0,o._)(this,nh).connect(),(0,f.effect)((0,_._)(this,nL,aa).bind(this)),(0,f.onDispose)((0,_._)(this,nu,nQ).bind(this))}}function nB(){return(0,o._)(this,ne).media}function nQ(){var t;(0,c._)(this,nn,!1),(0,c._)(this,na,!1),(0,o._)(this,nl).stop(),(0,o._)(this,nr).abort(),null===(t=(0,o._)(this,nw))||void 0===t||t.clear()}function nz(){let t=(0,o._)(this,no).currentTime;W&&t-(0,o._)(this,nd)<.35||(0,o._)(this,nc)===t||((0,_._)(this,nk,n0).call(this,t),(0,c._)(this,nc,t))}function nX(){(0,_._)(this,nm,nZ).call(this,"loadstart",(0,_._)(this,ny,n1)),(0,_._)(this,nm,nZ).call(this,"abort",(0,_._)(this,nS,n2)),(0,_._)(this,nm,nZ).call(this,"emptied",(0,_._)(this,nW,n3)),(0,_._)(this,nm,nZ).call(this,"error",(0,_._)(this,nU,ap)),(0,_._)(this,nm,nZ).call(this,"volumechange",(0,_._)(this,nV,ar))}function nY(){(0,o._)(this,nn)||((0,_._)(this,nm,nZ).call(this,"loadeddata",(0,_._)(this,n$,n5)),(0,_._)(this,nm,nZ).call(this,"loadedmetadata",(0,_._)(this,nM,n9)),(0,_._)(this,nm,nZ).call(this,"canplay",(0,_._)(this,nA,n8)),(0,_._)(this,nm,nZ).call(this,"canplaythrough",(0,_._)(this,nC,at)),(0,_._)(this,nm,nZ).call(this,"durationchange",(0,_._)(this,nF,ah)),(0,_._)(this,nm,nZ).call(this,"play",(0,_._)(this,nT,n6)),(0,_._)(this,nm,nZ).call(this,"progress",(0,_._)(this,nG,ac)),(0,_._)(this,nm,nZ).call(this,"stalled",(0,_._)(this,nq,ai)),(0,_._)(this,nm,nZ).call(this,"suspend",(0,_._)(this,nj,ad)),(0,_._)(this,nm,nZ).call(this,"ratechange",(0,_._)(this,nK,a_)),(0,c._)(this,nn,!0))}function nJ(){(0,o._)(this,na)||((0,_._)(this,nm,nZ).call(this,"pause",(0,_._)(this,nP,n7)),(0,_._)(this,nm,nZ).call(this,"playing",(0,_._)(this,nE,ae)),(0,_._)(this,nm,nZ).call(this,"seeked",(0,_._)(this,nR,ao)),(0,_._)(this,nm,nZ).call(this,"seeking",(0,_._)(this,nN,au)),(0,_._)(this,nm,nZ).call(this,"ended",(0,_._)(this,nO,an)),(0,_._)(this,nm,nZ).call(this,"waiting",(0,_._)(this,nD,as)),(0,c._)(this,na,!0))}function nZ(t,e){(0,o._)(this,nr).add(t,e.bind(this))}function n0(t,e){let i=Math.min(t,(0,o._)(this,ni).$state.seekableEnd());(0,o._)(this,ni).notify("time-change",i,e)}function n1(t){if(3===(0,o._)(this,no).networkState){(0,_._)(this,nS,n2).call(this,t);return}(0,_._)(this,nv,nY).call(this),(0,o._)(this,ni).notify("load-start",void 0,t)}function n2(t){(0,o._)(this,ni).notify("abort",void 0,t)}function n3(){(0,o._)(this,ni).notify("emptied",void 0,event)}function n5(t){(0,o._)(this,ni).notify("loaded-data",void 0,t)}function n9(t){(0,c._)(this,nc,0),(0,c._)(this,nd,-1),(0,_._)(this,nf,nJ).call(this),(0,o._)(this,ni).notify("loaded-metadata",void 0,t),(k||W&&B((0,o._)(this,ni).$state.source()))&&(0,o._)(this,ni).delegate.ready((0,_._)(this,nx,n4).call(this),t)}function n4(){return{provider:(0,f.peek)((0,o._)(this,ni).$provider),duration:(0,o._)(this,no).duration,buffered:(0,o._)(this,no).buffered,seekable:(0,o._)(this,no).seekable}}function n6(t){(0,o._)(this,ni).$state.canPlay&&(0,o._)(this,ni).notify("play",void 0,t)}function n7(t){(1!==(0,o._)(this,no).readyState||(0,o._)(this,ns))&&((0,c._)(this,ns,!1),(0,o._)(this,nl).stop(),(0,o._)(this,ni).notify("pause",void 0,t))}function n8(t){(0,o._)(this,ni).delegate.ready((0,_._)(this,nx,n4).call(this),t)}function at(t){(0,o._)(this,ni).$state.started()||(0,o._)(this,ni).notify("can-play-through",(0,_._)(this,nx,n4).call(this),t)}function ae(t){(0,o._)(this,no).paused||((0,c._)(this,ns,!1),(0,o._)(this,ni).notify("playing",void 0,t),(0,o._)(this,nl).start())}function ai(t){(0,o._)(this,ni).notify("stalled",void 0,t),(0,o._)(this,no).readyState<3&&((0,c._)(this,ns,!0),(0,o._)(this,ni).notify("waiting",void 0,t))}function as(t){(0,o._)(this,no).readyState<3&&((0,c._)(this,ns,!0),(0,o._)(this,ni).notify("waiting",void 0,t))}function an(t){(0,o._)(this,nl).stop(),(0,_._)(this,nk,n0).call(this,(0,o._)(this,no).duration,t),(0,o._)(this,ni).notify("end",void 0,t),(0,o._)(this,ni).$state.loop()&&(0,f.isNil)((0,o._)(this,no).controls)&&((0,o._)(this,no).controls=!1)}function aa(){let t=(0,o._)(this,ni).$state.paused(),e="hidden"===(0,o._)(this,nh).visibility;(t||e)&&(0,f.listenEvent)((0,o._)(this,no),"timeupdate",(0,_._)(this,nI,al).bind(this))}function al(t){(0,_._)(this,nk,n0).call(this,(0,o._)(this,no).currentTime,t)}function ah(t){(0,o._)(this,ni).$state.ended()&&(0,_._)(this,nk,n0).call(this,(0,o._)(this,no).duration,t),(0,o._)(this,ni).notify("duration-change",(0,o._)(this,no).duration,t)}function ar(t){let e={volume:(0,o._)(this,no).volume,muted:(0,o._)(this,no).muted};(0,o._)(this,ni).notify("volume-change",e,t)}function ao(t){(0,c._)(this,nd,(0,o._)(this,no).currentTime),(0,_._)(this,nk,n0).call(this,(0,o._)(this,no).currentTime,t),(0,o._)(this,ni).notify("seeked",(0,o._)(this,no).currentTime,t),Math.trunc((0,o._)(this,no).currentTime)===Math.trunc((0,o._)(this,no).duration)&&eh((0,o._)(this,no).duration)>eh((0,o._)(this,no).currentTime)&&((0,_._)(this,nk,n0).call(this,(0,o._)(this,no).duration,t),(0,o._)(this,no).ended||(0,o._)(this,ni).player.dispatch(new f.DOMEvent("media-play-request",{trigger:t})))}function au(t){(0,o._)(this,ni).notify("seeking",(0,o._)(this,no).currentTime,t)}function ac(t){let e={buffered:(0,o._)(this,no).buffered,seekable:(0,o._)(this,no).seekable};(0,o._)(this,ni).notify("progress",e,t)}function ad(t){(0,o._)(this,ni).notify("suspend",void 0,t)}function a_(t){(0,o._)(this,ni).notify("rate-change",(0,o._)(this,no).playbackRate,t)}function ap(t){let e=(0,o._)(this,no).error;if(!e)return;let i={message:e.message,code:e.code,mediaError:e};(0,o._)(this,ni).notify("error",i,t)}var av=new WeakMap,af=new WeakMap,aw=new WeakMap,ag=new WeakSet,am=new WeakSet,ab=new WeakSet,ak=new WeakSet,ay=new WeakSet;class aS{constructor(t,e){(0,u._)(this,aw,{get:aW,set:void 0}),(0,p._)(this,ag),(0,p._)(this,am),(0,p._)(this,ab),(0,p._)(this,ak),(0,p._)(this,ay),(0,u._)(this,av,{writable:!0,value:void 0}),(0,u._)(this,af,{writable:!0,value:void 0}),(0,c._)(this,av,t),(0,c._)(this,af,e),(0,o._)(this,aw).onaddtrack=(0,_._)(this,ag,a$).bind(this),(0,o._)(this,aw).onremovetrack=(0,_._)(this,am,aM).bind(this),(0,o._)(this,aw).onchange=(0,_._)(this,ab,ax).bind(this),(0,f.listenEvent)((0,o._)(this,af).audioTracks,"change",(0,_._)(this,ay,aP).bind(this))}}function aW(){return(0,o._)(this,av).media.audioTracks}function a$(t){let e=t.track;if(""===e.label)return;let i={id:e.id.toString()||"native-audio-".concat((0,o._)(this,af).audioTracks.length),label:e.label,language:e.language,kind:e.kind,selected:!1};(0,o._)(this,af).audioTracks[t4.add](i,t),e.enabled&&(i.selected=!0)}function aM(t){let e=(0,o._)(this,af).audioTracks.getById(t.track.id);e&&(0,o._)(this,af).audioTracks[t4.remove](e,t)}function ax(t){let e=(0,_._)(this,ak,aT).call(this);if(!e)return;let i=(0,o._)(this,af).audioTracks.getById(e.id);i&&(0,o._)(this,af).audioTracks[t4.select](i,!0,t)}function aT(){return Array.from((0,o._)(this,aw)).find(t=>t.enabled)}function aP(t){let{current:e}=t.detail;if(!e)return;let i=(0,o._)(this,aw).getTrackById(e.id);if(i){let t=(0,_._)(this,ak,aT).call(this);t&&(t.enabled=!1),i.enabled=!0}}var aA=new WeakSet;class aC{setup(){new nH(this,this.ctx),"audioTracks"in this.media&&new aS(this,this.ctx),(0,f.onDispose)(()=>{for(let t of(this.audioGain.destroy(),this.media.srcObject=null,this.media.removeAttribute("src"),this.media.querySelectorAll("source")))t.remove();this.media.load()})}get type(){return""}setPlaybackRate(t){this.media.playbackRate=t}async play(){return this.media.play()}async pause(){return this.media.pause()}setMuted(t){this.media.muted=t}setVolume(t){this.media.volume=t}setCurrentTime(t){this.media.currentTime=t}setPlaysInline(t){(0,f.setAttribute)(this.media,"playsinline",t)}async loadSource(t,e){let{src:i,type:s}=t;(this.media.preload=e||"",!m&&void 0!==window.MediaStream&&i instanceof window.MediaStream)?(this.removeSource(),this.media.srcObject=i):(this.media.srcObject=null,(0,f.isString)(i)?"?"!==s?this.appendSource({src:i,type:s}):(this.removeSource(),this.media.src=(0,_._)(this,aA,aE).call(this,i)):(this.removeSource(),this.media.src=window.URL.createObjectURL(i))),this.media.load(),this.currentSrc={src:i,type:s}}appendSource(t,e){let i=this.media.querySelector("source[data-vds]"),s=null!=i?i:document.createElement("source");(0,f.setAttribute)(s,"src",(0,_._)(this,aA,aE).call(this,t.src)),(0,f.setAttribute)(s,"type","?"!==t.type?t.type:e),(0,f.setAttribute)(s,"data-vds",""),i||this.media.append(s)}removeSource(){var t;null===(t=this.media.querySelector("source[data-vds]"))||void 0===t||t.remove()}constructor(t,e){(0,p._)(this,aA),this.scope=(0,f.createScope)(),this.currentSrc=null,this.media=t,this.ctx=e,this.audioGain=new sz(t,t=>{this.ctx.notify("audio-gain-change",t)})}}function aE(t){let{clipStartTime:e,clipEndTime:i}=this.ctx.$state,s=e(),n=i();return s>0&&n>0?"".concat(t,"#t=").concat(s,",").concat(n):s>0?"".concat(t,"#t=").concat(s):n>0?"".concat(t,"#t=0,").concat(n):t}var aq=new WeakMap,aD=new WeakMap,aO=new WeakMap,aL=new WeakMap,aI=new WeakSet,aF=new WeakSet,aV=new WeakSet;class aR{get supported(){return(0,o._)(this,aL).call(this)}async prompt(){if(!this.supported)throw Error("Not supported on this platform.");return"airplay"===this.type&&(0,o._)(this,aq).webkitShowPlaybackTargetPicker?(0,o._)(this,aq).webkitShowPlaybackTargetPicker():(0,o._)(this,aq).remote.prompt()}constructor(t,e){(0,p._)(this,aI),(0,p._)(this,aF),(0,p._)(this,aV),(0,u._)(this,aq,{writable:!0,value:void 0}),(0,u._)(this,aD,{writable:!0,value:void 0}),(0,u._)(this,aO,{writable:!0,value:void 0}),(0,u._)(this,aL,{writable:!0,value:void 0}),(0,c._)(this,aL,(0,f.signal)(!1)),(0,c._)(this,aq,t),(0,c._)(this,aD,e),(0,_._)(this,aI,aN).call(this)}}function aN(){var t;!m&&(null===(t=(0,o._)(this,aq))||void 0===t?void 0:t.remote)&&this.canPrompt&&((0,o._)(this,aq).remote.watchAvailability(t=>{(0,o._)(this,aL).set(t)}).catch(()=>{(0,o._)(this,aL).set(!1)}),(0,f.effect)((0,_._)(this,aF,aG).bind(this)))}function aG(){if(!(0,o._)(this,aL).call(this))return;let t=(0,_._)(this,aV,aj).bind(this);t(),(0,f.listenEvent)((0,o._)(this,aq),"playing",t);let e=new f.EventsController((0,o._)(this,aq).remote);for(let i of["connecting","connect","disconnect"])e.add(i,t)}function aj(t){let e=(0,o._)(this,aq).remote.state;if(e===(0,o._)(this,aO))return;let i={type:this.type,state:e};(0,o._)(this,aD).notify("remote-playback-change",i,t),(0,c._)(this,aO,e)}class aK extends aR{get canPrompt(){return"WebKitPlaybackTargetAvailabilityEvent"in window}constructor(...t){super(...t),this.type="airplay"}}var aU=new WeakMap,aH=new WeakMap,aB=new WeakSet,aQ=new WeakSet;class az{constructor(t,e){(0,p._)(this,aB),(0,p._)(this,aQ),(0,u._)(this,aU,{writable:!0,value:void 0}),(0,u._)(this,aH,{writable:!0,value:void 0}),(0,c._)(this,aU,t),(0,c._)(this,aH,e),t.textTracks.onaddtrack=(0,_._)(this,aB,aX).bind(this),(0,f.onDispose)((0,_._)(this,aQ,aY).bind(this))}}function aX(t){var e;let i=t.track;if(!i||Array.from((0,o._)(this,aU).children).find(t=>t.track===i))return;let s=new tW({id:i.id,kind:i.kind,label:null!==(e=i.label)&&void 0!==e?e:"",language:i.language,type:"vtt"});s[tl.native]={track:i},s[tl.readyState]=2,s[tl.nativeHLS]=!0;let n=0,a=t=>{if(i.cues)for(let e=n;e<i.cues.length;e++)s.addCue(i.cues[e],t),n++};a(t),i.oncuechange=a,(0,o._)(this,aH).textTracks.add(s,t),s.setMode(i.mode,t)}function aY(){for(let e of((0,o._)(this,aU).textTracks.onaddtrack=null,(0,o._)(this,aH).textTracks)){var t;let i=null===(t=e[tl.native])||void 0===t?void 0:t.track;(null==i?void 0:i.oncuechange)&&(i.oncuechange=null)}}var aJ=new WeakMap,aZ=new WeakMap,a0=new WeakSet,a1=new WeakSet,a2=new WeakMap;class a3{get active(){return document.pictureInPictureElement===(0,o._)(this,aJ)}get supported(){return P((0,o._)(this,aJ))}async enter(){return(0,o._)(this,aJ).requestPictureInPicture()}exit(){return document.exitPictureInPicture()}constructor(t,e){(0,p._)(this,a0),(0,p._)(this,a1),(0,u._)(this,aJ,{writable:!0,value:void 0}),(0,u._)(this,aZ,{writable:!0,value:void 0}),(0,u._)(this,a2,{writable:!0,value:void 0}),(0,c._)(this,a2,(t,e)=>{(0,o._)(this,aZ).notify("picture-in-picture-change",t,e)}),(0,c._)(this,aJ,t),(0,c._)(this,aZ,e),new f.EventsController(t).add("enterpictureinpicture",(0,_._)(this,a0,a5).bind(this)).add("leavepictureinpicture",(0,_._)(this,a1,a9).bind(this))}}function a5(t){(0,o._)(this,a2).call(this,!0,t)}function a9(t){(0,o._)(this,a2).call(this,!1,t)}var a4=new WeakMap,a6=new WeakMap,a7=new WeakMap,a8=new WeakSet;class lt{get mode(){return(0,o._)(this,a7)}get supported(){return A((0,o._)(this,a4))}async setPresentationMode(t){(0,o._)(this,a7)!==t&&(0,o._)(this,a4).webkitSetPresentationMode(t)}constructor(t,e){(0,p._)(this,a8),(0,u._)(this,a4,{writable:!0,value:void 0}),(0,u._)(this,a6,{writable:!0,value:void 0}),(0,u._)(this,a7,{writable:!0,value:void 0}),(0,c._)(this,a7,"inline"),(0,c._)(this,a4,t),(0,c._)(this,a6,e),(0,f.listenEvent)(t,"webkitpresentationmodechanged",(0,_._)(this,a8,le).bind(this))}}function le(t){var e;let i=(0,o._)(this,a7);(0,c._)(this,a7,(0,o._)(this,a4).webkitPresentationMode),null===(e=(0,o._)(this,a6).player)||void 0===e||e.dispatch(new f.DOMEvent("video-presentation-change",{detail:(0,o._)(this,a7),trigger:t})),["fullscreen","picture-in-picture"].forEach(e=>{((0,o._)(this,a7)===e||i===e)&&(0,o._)(this,a6).notify("".concat(e,"-change"),(0,o._)(this,a7)===e,t)})}var li=new WeakMap;class ls{get active(){return"fullscreen"===(0,o._)(this,li).mode}get supported(){return(0,o._)(this,li).supported}async enter(){(0,o._)(this,li).setPresentationMode("fullscreen")}async exit(){(0,o._)(this,li).setPresentationMode("inline")}constructor(t){(0,u._)(this,li,{writable:!0,value:void 0}),(0,c._)(this,li,t)}}var ln=new WeakMap;class la{get active(){return"picture-in-picture"===(0,o._)(this,ln).mode}get supported(){return(0,o._)(this,ln).supported}async enter(){(0,o._)(this,ln).setPresentationMode("picture-in-picture")}async exit(){(0,o._)(this,ln).setPresentationMode("inline")}constructor(t){(0,u._)(this,ln,{writable:!0,value:void 0}),(0,c._)(this,ln,t)}}class ll extends aC{get type(){return"video"}setup(){super.setup(),T(this.video)&&new az(this.video,this.ctx),this.ctx.textRenderers.attachVideo(this.video),(0,f.onDispose)(()=>{this.ctx.textRenderers.attachVideo(null)}),"video"===this.type&&this.ctx.notify("provider-setup",this)}get video(){return this.media}constructor(t,e){super(t,e),this.$$PROVIDER_TYPE="VIDEO",(0,f.scoped)(()=>{if(this.airPlay=new aK(t,e),A(t)){let i=new lt(t,e);this.fullscreen=new ls(i),this.pictureInPicture=new la(i)}else P(t)&&(this.pictureInPicture=new a3(t,e))},this.scope)}}var lh=Object.freeze({__proto__:null,VideoProvider:ll});function lr(t){try{let e=new Intl.DisplayNames(navigator.languages,{type:"language"}).of(t);return null!=e?e:null}catch(t){return null}}let lo=t=>"dash-".concat((0,f.camelToKebabCase)(t));var lu=new WeakMap,lc=new WeakMap,ld=new WeakMap,l_=new WeakMap,lp=new WeakMap,lv=new WeakSet,lf=new WeakSet,lw=new WeakSet,lg=new WeakSet,lm=new WeakMap,lb=new WeakMap,lk=new WeakSet,ly=new WeakSet,lS=new WeakSet,lW=new WeakSet,l$=new WeakSet,lM=new WeakSet,lx=new WeakSet,lT=new WeakSet,lP=new WeakMap,lA=new WeakSet,lC=new WeakSet,lE=new WeakSet,lq=new WeakSet,lD=new WeakSet,lO=new WeakSet,lL=new WeakSet,lI=new WeakSet;class lF{get instance(){return(0,o._)(this,ld)}setup(t){(0,c._)(this,ld,t().create());let e=(0,_._)(this,lg,lG).bind(this);for(let i of Object.values(t.events))(0,o._)(this,ld).on(i,e);for(let e of((0,o._)(this,ld).on(t.events.ERROR,(0,_._)(this,lM,lQ).bind(this)),(0,o._)(this,l_)))e((0,o._)(this,ld));(0,o._)(this,lc).player.dispatch("dash-instance",{detail:(0,o._)(this,ld)}),(0,o._)(this,ld).initialize((0,o._)(this,lu),void 0,!1),(0,o._)(this,ld).updateSettings({streaming:{text:{defaultEnabled:!1,dispatchForManualRendering:!0},buffer:{fastSwitchEnabled:!0}},...this.config}),(0,o._)(this,ld).on(t.events.FRAGMENT_LOADING_STARTED,(0,_._)(this,lx,lz).bind(this)),(0,o._)(this,ld).on(t.events.FRAGMENT_LOADING_COMPLETED,(0,_._)(this,lT,lX).bind(this)),(0,o._)(this,ld).on(t.events.MANIFEST_LOADED,(0,_._)(this,l$,lB).bind(this)),(0,o._)(this,ld).on(t.events.QUALITY_CHANGE_RENDERED,(0,_._)(this,lW,lH).bind(this)),(0,o._)(this,ld).on(t.events.TEXT_TRACKS_ADDED,(0,_._)(this,ly,lK).bind(this)),(0,o._)(this,ld).on(t.events.TRACK_CHANGE_RENDERED,(0,_._)(this,lS,lU).bind(this)),(0,o._)(this,lc).qualities[ir.enableAuto]=(0,_._)(this,lq,l0).bind(this),(0,f.listenEvent)((0,o._)(this,lc).qualities,"change",(0,_._)(this,lO,l2).bind(this)),(0,f.listenEvent)((0,o._)(this,lc).audioTracks,"change",(0,_._)(this,lL,l3).bind(this)),(0,c._)(this,lp,(0,f.effect)((0,_._)(this,lf,lR).bind(this)))}onInstance(t){return(0,o._)(this,l_).add(t),()=>(0,o._)(this,l_).delete(t)}loadSource(t){var e;(0,_._)(this,lI,l5).call(this),(0,f.isString)(t.src)&&(null===(e=(0,o._)(this,ld))||void 0===e||e.attachSource(t.src))}destroy(){var t,e;(0,_._)(this,lI,l5).call(this),null===(t=(0,o._)(this,ld))||void 0===t||t.destroy(),(0,c._)(this,ld,null),null===(e=(0,o._)(this,lp))||void 0===e||e.call(this),(0,c._)(this,lp,null)}constructor(t,e){(0,p._)(this,lv),(0,p._)(this,lf),(0,p._)(this,lw),(0,p._)(this,lg),(0,p._)(this,lk),(0,p._)(this,ly),(0,p._)(this,lS),(0,p._)(this,lW),(0,p._)(this,l$),(0,p._)(this,lM),(0,p._)(this,lx),(0,p._)(this,lT),(0,p._)(this,lA),(0,p._)(this,lC),(0,p._)(this,lE),(0,p._)(this,lq),(0,p._)(this,lD),(0,p._)(this,lO),(0,p._)(this,lL),(0,p._)(this,lI),(0,u._)(this,lu,{writable:!0,value:void 0}),(0,u._)(this,lc,{writable:!0,value:void 0}),(0,u._)(this,ld,{writable:!0,value:void 0}),(0,u._)(this,l_,{writable:!0,value:void 0}),(0,u._)(this,lp,{writable:!0,value:void 0}),(0,u._)(this,lm,{writable:!0,value:void 0}),(0,u._)(this,lb,{writable:!0,value:void 0}),(0,u._)(this,lP,{writable:!0,value:void 0}),(0,c._)(this,ld,null),(0,c._)(this,l_,new Set),(0,c._)(this,lp,null),this.config={},(0,c._)(this,lm,null),(0,c._)(this,lb,{}),(0,c._)(this,lP,-1),(0,c._)(this,lu,t),(0,c._)(this,lc,e)}}function lV(t){return new f.DOMEvent(lo(t.type),{detail:t})}function lR(){if(!(0,o._)(this,lc).$state.live())return;let t=new s8((0,_._)(this,lw,lN).bind(this));return t.start(),t.stop.bind(t)}function lN(){if(!(0,o._)(this,ld))return;let t=(0,o._)(this,ld).duration()-(0,o._)(this,ld).time();(0,o._)(this,lc).$state.liveSyncPosition.set(isNaN(t)?1/0:t)}function lG(t){var e;null===(e=(0,o._)(this,lc).player)||void 0===e||e.dispatch((0,_._)(this,lv,lV).call(this,t))}function lj(t){var e,i;let s=null===(e=(0,o._)(this,lm))||void 0===e?void 0:e[tl.native],n=(null==s?void 0:s.track).cues;if(!s||!n)return;let a=(0,o._)(this,lm).id,l=null!==(i=(0,o._)(this,lb)[a])&&void 0!==i?i:0,h=(0,_._)(this,lv,lV).call(this,t);for(let t=l;t<n.length;t++){let e=n[t];e.positionAlign||(e.positionAlign="auto"),(0,o._)(this,lm).addCue(e,h)}(0,o._)(this,lb)[a]=n.length}function lK(t){if(!(0,o._)(this,ld))return;let e=t.tracks,i=[...(0,o._)(this,lu).textTracks].filter(t=>"manualMode"in t),s=(0,_._)(this,lv,lV).call(this,t);for(let t=0;t<i.length;t++){var n,a,l,h,r,u;let d=e[t],_=i[t],p=new tW({id:"dash-".concat(d.kind,"-").concat(t),label:null!==(r=null!==(h=null!==(l=null!==(a=null==d?void 0:d.label)&&void 0!==a?a:null===(n=d.labels.find(t=>t.text))||void 0===n?void 0:n.text)&&void 0!==l?l:(null==d?void 0:d.lang)&&lr(d.lang))&&void 0!==h?h:null==d?void 0:d.lang)&&void 0!==r?r:void 0,language:null!==(u=d.lang)&&void 0!==u?u:void 0,kind:d.kind,default:d.defaultTrack});p[tl.native]={managed:!0,track:_},p[tl.readyState]=2,p[tl.onModeChange]=()=>{(0,o._)(this,ld)&&("showing"===p.mode?((0,o._)(this,ld).setTextTrack(t),(0,c._)(this,lm,p)):((0,o._)(this,ld).setTextTrack(-1),(0,c._)(this,lm,null)))},(0,o._)(this,lc).textTracks.add(p,s)}}function lU(t){let{mediaType:e,newMediaInfo:i}=t;if("audio"===e){let e=(0,o._)(this,lc).audioTracks.getById("dash-audio-".concat(i.index));if(e){let i=(0,_._)(this,lv,lV).call(this,t);(0,o._)(this,lc).audioTracks[t4.select](e,!0,i)}}}function lH(t){if("video"!==t.mediaType)return;let e=(0,o._)(this,lc).qualities[t.newQuality];if(e){let i=(0,_._)(this,lv,lV).call(this,t);(0,o._)(this,lc).qualities[t4.select](e,!0,i)}}function lB(t){if((0,o._)(this,lc).$state.canPlay()||!(0,o._)(this,ld))return;let{type:e,mediaPresentationDuration:i}=t.data,s=(0,_._)(this,lv,lV).call(this,t);(0,o._)(this,lc).notify("stream-type-change","static"!==e?"live":"on-demand",s),(0,o._)(this,lc).notify("duration-change",i,s),(0,o._)(this,lc).qualities[ir.setAuto](!0,s);let n=(0,o._)(this,ld).getVideoElement(),a=(0,o._)(this,ld).getTracksForTypeFromManifest("video",t.data),l=[...new Set(a.map(t=>t.mimeType))].find(t=>t&&x(n,t)),h=a.filter(t=>l===t.mimeType)[0],r=(0,o._)(this,ld).getTracksForTypeFromManifest("audio",t.data),u=[...new Set(r.map(t=>t.mimeType))].find(t=>t&&M(n,t));if(r=r.filter(t=>u===t.mimeType),h.bitrateList.forEach((t,e)=>{var i,n,a,l,r;let u={id:null!==(n=null===(i=t.id)||void 0===i?void 0:i.toString())&&void 0!==n?n:"dash-bitrate-".concat(e),width:null!==(a=t.width)&&void 0!==a?a:0,height:null!==(l=t.height)&&void 0!==l?l:0,bitrate:null!==(r=t.bandwidth)&&void 0!==r?r:0,codec:h.codec,index:e};(0,o._)(this,lc).qualities[t4.add](u,s)}),(0,f.isNumber)(h.index)){let t=(0,o._)(this,lc).qualities[h.index];t&&(0,o._)(this,lc).qualities[t4.select](t,!0,s)}r.forEach((t,e)=>{var i,n,a,l;let h=t.labels.find(t=>navigator.languages.some(e=>t.lang&&e.toLowerCase().startsWith(t.lang.toLowerCase())))||t.labels[0],r={id:"dash-audio-".concat(null==t?void 0:t.index),label:null!==(a=null!==(n=null!==(i=null==h?void 0:h.text)&&void 0!==i?i:t.lang&&lr(t.lang))&&void 0!==n?n:t.lang)&&void 0!==a?a:"",language:null!==(l=t.lang)&&void 0!==l?l:"",kind:"main",mimeType:t.mimeType,codec:t.codec,index:e};(0,o._)(this,lc).audioTracks[t4.add](r,s)}),n.dispatchEvent(new f.DOMEvent("canplay",{trigger:s}))}function lQ(t){let{type:e,error:i}=t;27===i.code?(0,_._)(this,lA,lY).call(this,i):(0,_._)(this,lE,lZ).call(this,i)}function lz(){(0,o._)(this,lP)>=0&&(0,_._)(this,lC,lJ).call(this)}function lX(t){"text"===t.mediaType&&requestAnimationFrame((0,_._)(this,lk,lj).bind(this,t))}function lY(t){var e;(0,_._)(this,lC,lJ).call(this),null===(e=(0,o._)(this,ld))||void 0===e||e.play(),(0,c._)(this,lP,window.setTimeout(()=>{(0,c._)(this,lP,-1),(0,_._)(this,lE,lZ).call(this,t)},5e3))}function lJ(){clearTimeout((0,o._)(this,lP)),(0,c._)(this,lP,-1)}function lZ(t){var e;(0,o._)(this,lc).notify("error",{message:null!==(e=t.message)&&void 0!==e?e:"",code:1,error:t})}function l0(){var t;(0,_._)(this,lD,l1).call(this,"video",!0);let{qualities:e}=(0,o._)(this,lc);null===(t=(0,o._)(this,ld))||void 0===t||t.setQualityFor("video",e.selectedIndex,!0)}function l1(t,e){var i;null===(i=(0,o._)(this,ld))||void 0===i||i.updateSettings({streaming:{abr:{autoSwitchBitrate:{[t]:e}}}})}function l2(){let{qualities:t}=(0,o._)(this,lc);(0,o._)(this,ld)&&!t.auto&&t.selected&&((0,_._)(this,lD,l1).call(this,"video",!1),(0,o._)(this,ld).setQualityFor("video",t.selectedIndex,"current"===t.switch),S&&((0,o._)(this,lu).currentTime=(0,o._)(this,lu).currentTime))}function l3(){if(!(0,o._)(this,ld))return;let{audioTracks:t}=(0,o._)(this,lc),e=(0,o._)(this,ld).getTracksFor("audio").find(e=>t.selected&&t.selected.id==="dash-audio-".concat(e.index));e&&(0,o._)(this,ld).setCurrentTrack(e)}function l5(){(0,_._)(this,lC,lJ).call(this),(0,c._)(this,lm,null),(0,c._)(this,lb,{})}function l9(t){return t instanceof Error?t:Error("string"==typeof t?t:JSON.stringify(t))}function l4(t,e){if(!t)throw Error("Assertion failed.")}var l6=new WeakMap,l7=new WeakMap,l8=new WeakMap,ht=new WeakSet,he=new WeakSet,hi=new WeakSet,hs=new WeakSet;class hn{constructor(t,e,i){(0,p._)(this,ht),(0,p._)(this,he),(0,p._)(this,hi),(0,p._)(this,hs),(0,u._)(this,l6,{writable:!0,value:void 0}),(0,u._)(this,l7,{writable:!0,value:void 0}),(0,u._)(this,l8,{writable:!0,value:void 0}),(0,c._)(this,l6,t),(0,c._)(this,l7,e),(0,c._)(this,l8,i),(0,_._)(this,ht,ha).call(this)}}async function ha(){let t={onLoadStart:(0,_._)(this,he,hl).bind(this),onLoaded:(0,_._)(this,hi,hh).bind(this),onLoadError:(0,_._)(this,hs,hr).bind(this)},e=await hu((0,o._)(this,l6),t);return((0,f.isUndefined)(e)&&!(0,f.isString)((0,o._)(this,l6))&&(e=await ho((0,o._)(this,l6),t)),e)?window.dashjs.supportsMediaSource()?e:((0,o._)(this,l7).player.dispatch(new f.DOMEvent("dash-unsupported")),(0,o._)(this,l7).notify("error",{message:"[vidstack] `dash.js` is not supported in this environment",code:4}),null):null}function hl(){(0,o._)(this,l7).player.dispatch(new f.DOMEvent("dash-lib-load-start"))}function hh(t){(0,o._)(this,l7).player.dispatch(new f.DOMEvent("dash-lib-loaded",{detail:t})),(0,o._)(this,l8).call(this,t)}function hr(t){let e=l9(t);(0,o._)(this,l7).player.dispatch(new f.DOMEvent("dash-lib-load-error",{detail:e})),(0,o._)(this,l7).notify("error",{message:e.message,code:4,error:e})}async function ho(t){var e,i,s,n,a,l,h;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,f.isUndefined)(t)){if(null===(e=r.onLoadStart)||void 0===e||e.call(r),t&&t.prototype&&t.prototype!==Function)return null===(i=r.onLoaded)||void 0===i||i.call(r,t),t;if(hc(t)){let e=t.MediaPlayer;return null===(s=r.onLoaded)||void 0===s||s.call(r,e),e}try{let e=null===(n=await t())||void 0===n?void 0:n.default;if(hc(e))return null===(a=r.onLoaded)||void 0===a||a.call(r,e.MediaPlayer),e.MediaPlayer;if(e)null===(l=r.onLoaded)||void 0===l||l.call(r,e);else throw Error("");return e}catch(t){null===(h=r.onLoadError)||void 0===h||h.call(r,t)}}}async function hu(t){var e,i,s;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,f.isString)(t)){null===(e=n.onLoadStart)||void 0===e||e.call(n);try{if(await Z(t),!(0,f.isFunction)(window.dashjs.MediaPlayer))throw Error("");let e=window.dashjs.MediaPlayer;return null===(i=n.onLoaded)||void 0===i||i.call(n,e),e}catch(t){null===(s=n.onLoadError)||void 0===s||s.call(n,t)}}}function hc(t){return t&&"MediaPlayer"in t}var hd=new WeakMap,h_=new WeakMap,hp=new WeakMap;class hv extends ll{get ctor(){return(0,o._)(this,hd)}get instance(){return(0,o._)(this,h_).instance}get type(){return"dash"}get canLiveSync(){return!0}get config(){return(0,o._)(this,h_).config}set config(t){(0,o._)(this,h_).config=t}get library(){return(0,o._)(this,hp)}set library(t){(0,c._)(this,hp,t)}preconnect(){(0,f.isString)((0,o._)(this,hp))&&Y((0,o._)(this,hp))}setup(){super.setup(),new hn((0,o._)(this,hp),this.ctx,t=>{(0,c._)(this,hd,t),(0,o._)(this,h_).setup(t),this.ctx.notify("provider-setup",this);let e=(0,f.peek)(this.ctx.$state.source);e&&this.loadSource(e)})}async loadSource(t,e){if(!(0,f.isString)(t.src)){this.removeSource();return}this.media.preload=e||"",this.appendSource(t,"application/x-mpegurl"),(0,o._)(this,h_).loadSource(t),this.currentSrc=t}onInstance(t){let e=(0,o._)(this,h_).instance;return e&&t(e),(0,o._)(this,h_).onInstance(t)}destroy(){(0,o._)(this,h_).destroy()}constructor(...t){super(...t),(0,u._)(this,hd,{writable:!0,value:void 0}),(0,u._)(this,h_,{writable:!0,value:void 0}),(0,u._)(this,hp,{writable:!0,value:void 0}),this.$$PROVIDER_TYPE="DASH",(0,c._)(this,hd,null),(0,c._)(this,h_,new lF(this.video,this.ctx)),(0,c._)(this,hp,"".concat("https://cdn.jsdelivr.net","/npm/dashjs@4.7.4/dist/dash",".all.min.js"))}}hv.supported=E();var hf=Object.freeze({__proto__:null,DASHProvider:hv});class hw extends sL{canPlay(t){return hw.supported&&Q(t)}async load(t){if(m)throw Error("[vidstack] can not load dash provider server-side");return new(await Promise.resolve().then(function(){return hf})).DASHProvider(this.target,t)}constructor(...t){super(...t),this.name="dash"}}hw.supported=E();class hg{preconnect(){for(let t of["https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"])Y(t)}canPlay(t){return(0,f.isString)(t.src)&&"video/vimeo"===t.type}mediaType(){return"video"}async load(t){if(m)throw Error("[vidstack] can not load vimeo provider server-side");return new(await i.e(1958).then(i.bind(i,61958))).VimeoProvider(this.target,t)}async loadPoster(t,e,s){let{resolveVimeoVideoId:n,getVimeoVideoInfo:a}=await i.e(276).then(i.bind(i,50276));if(!(0,f.isString)(t.src))return null;let{videoId:l,hash:h}=n(t.src);return l?a(l,s,h).then(t=>t?t.poster:null):null}constructor(){this.name="vimeo"}}class hm{preconnect(){for(let t of["https://www.google.com","https://i.ytimg.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"])Y(t)}canPlay(t){return(0,f.isString)(t.src)&&"video/youtube"===t.type}mediaType(){return"video"}async load(t){if(m)throw Error("[vidstack] can not load youtube provider server-side");return new(await i.e(7001).then(i.bind(i,77001))).YouTubeProvider(this.target,t)}async loadPoster(t,e,s){let{findYouTubePoster:n,resolveYouTubeVideoId:a}=await i.e(4026).then(i.bind(i,54026)),l=(0,f.isString)(t.src)&&a(t.src);return l?n(l,s):null}constructor(){this.name="youtube"}}function hb(t,e){let i=String(t),s=i.length;if(s<e){let i="0".repeat(e-s);return"".concat(i).concat(t)}return i}function hk(t){let e=Number((t-Math.trunc(t)).toPrecision(3));return{hours:Math.trunc(t/3600),minutes:Math.trunc(t%3600/60),seconds:Math.trunc(t%60),fraction:e}}function hy(t){let{padHrs:e=null,padMins:i=null,showHrs:s=!1,showMs:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{hours:a,minutes:l,seconds:h,fraction:r}=hk(t),o=e?hb(a,2):a,u=i||(0,f.isNull)(i)&&t>=3600?hb(l,2):l,c=hb(h,2),d=n&&r>0?".".concat(String(r).replace(/^0?\./,"")):"",_="".concat(u,":").concat(c).concat(d);return a>0||s?"".concat(o,":").concat(_):_}function hS(t){let e=[],{hours:i,minutes:s,seconds:n}=hk(t);return i>0&&e.push("".concat(i," hour")),s>0&&e.push("".concat(s," min")),(n>0||0===e.length)&&e.push("".concat(n," sec")),e.join(" ")}let hW=Symbol(0),h$=["autoPlay","canAirPlay","canFullscreen","canGoogleCast","canLoad","canLoadPoster","canPictureInPicture","canPlay","canSeek","ended","fullscreen","isAirPlayConnected","isGoogleCastConnected","live","liveEdge","loop","mediaType","muted","paused","pictureInPicture","playing","playsInline","remotePlaybackState","remotePlaybackType","seeking","started","streamType","viewType","waiting"];var hM=new WeakMap,hx=new WeakMap;class hT extends ig{async onAttach(t){if(m)return;let e=this.$props[(0,o._)(this,hM)]();if("eager"===e)requestAnimationFrame((0,o._)(this,hx));else if("idle"===e)(0,f.waitIdlePeriod)((0,o._)(this,hx));else if("visible"===e){let e,i=new IntersectionObserver(t=>{this.scope&&t[0].isIntersecting&&(null==e||e(),e=void 0,(0,o._)(this,hx).call(this))});i.observe(t),e=(0,f.onDispose)(()=>i.disconnect())}}constructor(t,e){super(),(0,u._)(this,hM,{writable:!0,value:void 0}),(0,u._)(this,hx,{writable:!0,value:void 0}),(0,c._)(this,hM,t),(0,c._)(this,hx,e)}}var hP=new WeakMap,hA=new WeakMap,hC=new WeakSet;class hE{notify(t){for(var e=arguments.length,i=Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];m||(0,o._)(this,hP).call(this,new f.DOMEvent(t,{detail:null==i?void 0:i[0],trigger:null==i?void 0:i[1]}))}async ready(t,e){if(!m)return(0,f.untrack)(async()=>{var i,s,n,a,l,h,r,u,c,d,p,v,w,g,m;(0,o._)(this,hA);let{autoPlay:b,canPlay:k,started:y,duration:S,seekable:W,buffered:$,remotePlaybackInfo:M,playsInline:x,savedState:T,source:P}=(0,o._)(this,hA).$state;if(k())return;let A={duration:null!==(a=null==t?void 0:t.duration)&&void 0!==a?a:S(),seekable:null!==(l=null==t?void 0:t.seekable)&&void 0!==l?l:W(),buffered:null!==(h=null==t?void 0:t.buffered)&&void 0!==h?h:$(),provider:(0,o._)(this,hA).$provider()};this.notify("can-play",A,e),(0,f.tick)();let C=(0,o._)(this,hA).$provider(),{storage:E,qualities:q}=(0,o._)(this,hA),{muted:D,volume:O,clipStartTime:L,playbackRate:I}=(0,o._)(this,hA).$props;await (null==E?void 0:null===(i=E.onLoad)||void 0===i?void 0:i.call(E,P()));let F=null===(s=T())||void 0===s?void 0:s.currentTime,V=null===(n=T())||void 0===n?void 0:n.paused,R=await (null==E?void 0:E.getTime()),N=null!==(r=null!=F?F:R)&&void 0!==r?r:L(),G=!1===V||!0!==V&&!y()&&b();if(C){C.setVolume(null!==(v=await (null==E?void 0:E.getVolume()))&&void 0!==v?v:O()),C.setMuted(D()||!!await (null==E?void 0:E.getMuted()));let t=null!==(w=await (null==E?void 0:E.getAudioGain()))&&void 0!==w?w:1;t>1&&(null===(c=C.audioGain)||void 0===c||null===(u=c.setGain)||void 0===u||u.call(c,t)),null===(d=C.setPlaybackRate)||void 0===d||d.call(C,null!==(g=await (null==E?void 0:E.getPlaybackRate()))&&void 0!==g?g:I()),null===(p=C.setPlaysInline)||void 0===p||p.call(C,x()),N>0&&C.setCurrentTime(N)}let j=await (null==E?void 0:E.getVideoQuality());if(j&&q.length){let t=null,e=1/0;for(let i of q){let s=Math.abs(j.width-i.width)+Math.abs(j.height-i.height)+(j.bitrate?Math.abs(j.bitrate-(null!==(m=i.bitrate)&&void 0!==m?m:0)):0);s<e&&(t=i,e=s)}t&&(t.selected=!0)}k()&&G?await (0,_._)(this,hC,hq).call(this,e):R&&R>0&&this.notify("started",void 0,e),M.set(null)})}constructor(t,e){(0,p._)(this,hC),(0,u._)(this,hP,{writable:!0,value:void 0}),(0,u._)(this,hA,{writable:!0,value:void 0}),(0,c._)(this,hP,t),(0,c._)(this,hA,e)}}async function hq(t){let{player:e,$state:{autoPlaying:i,muted:s}}=(0,o._)(this,hA);i.set(!0);let n=new f.DOMEvent("auto-play-attempt",{trigger:t});try{await e.play(n)}catch(t){}}var hD=new WeakMap;class hO{enqueue(t,e){(0,o._)(this,hD).set(t,e)}serve(t){let e=this.peek(t);return(0,o._)(this,hD).delete(t),e}peek(t){return(0,o._)(this,hD).get(t)}delete(t){(0,o._)(this,hD).delete(t)}clear(){(0,o._)(this,hD).clear()}constructor(){(0,u._)(this,hD,{writable:!0,value:void 0}),(0,c._)(this,hD,new Map)}}var hL=new WeakMap,hI=new WeakMap,hF=new WeakMap,hV=new WeakSet,hR=new WeakSet;class hN{get size(){return(0,o._)(this,hF).size}get isServing(){return(0,o._)(this,hL)}async waitForFlush(){(0,o._)(this,hL)||await (0,o._)(this,hI).promise}enqueue(t,e){if((0,o._)(this,hL)){e();return}(0,o._)(this,hF).delete(t),(0,o._)(this,hF).set(t,e)}serve(t){var e;null===(e=(0,o._)(this,hF).get(t))||void 0===e||e(),(0,o._)(this,hF).delete(t)}start(){(0,_._)(this,hV,hG).call(this),(0,c._)(this,hL,!0),(0,o._)(this,hF).size>0&&(0,_._)(this,hV,hG).call(this)}stop(){(0,c._)(this,hL,!1)}reset(){this.stop(),(0,o._)(this,hF).clear(),(0,_._)(this,hR,hj).call(this)}constructor(){(0,p._)(this,hV),(0,p._)(this,hR),(0,u._)(this,hL,{writable:!0,value:void 0}),(0,u._)(this,hI,{writable:!0,value:void 0}),(0,u._)(this,hF,{writable:!0,value:void 0}),(0,c._)(this,hL,!1),(0,c._)(this,hI,(0,f.deferredPromise)()),(0,c._)(this,hF,new Map)}}function hG(){for(let t of(0,o._)(this,hF).keys())this.serve(t);(0,_._)(this,hR,hj).call(this)}function hj(){(0,o._)(this,hI).resolve(),(0,c._)(this,hI,(0,f.deferredPromise)())}var hK=new WeakMap,hU=new WeakMap,hH=new WeakMap,hB=new WeakMap,hQ=new WeakMap,hz=new WeakMap,hX=new WeakMap,hY=new WeakSet,hJ=new WeakSet,hZ=new WeakSet,h0=new WeakSet,h1=new WeakMap,h2=new WeakSet,h3=new WeakSet,h5=new WeakSet,h9=new WeakSet,h4=new WeakSet,h6=new WeakSet,h7=new WeakSet,h8=new WeakSet,rt=new WeakMap,re=new WeakSet,ri=new WeakSet,rs=new WeakSet,rn=new WeakSet;class ra extends ig{onAttach(){this.listen("fullscreen-change",(0,_._)(this,re,rg).bind(this))}onConnect(t){let e=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),i=new f.EventsController(t),s=(0,_._)(this,hZ,rr).bind(this);for(let t of e)t.startsWith("media-")&&i.add(t,s);(0,_._)(this,hY,rl).call(this),(0,f.effect)((0,_._)(this,hJ,rh).bind(this)),(0,f.effect)((0,_._)(this,h5,rd).bind(this)),(0,f.effect)((0,_._)(this,h9,r_).bind(this)),(0,f.effect)((0,_._)(this,h4,rp).bind(this)),(0,f.effect)((0,_._)(this,h6,rv).bind(this)),(0,f.effect)((0,_._)(this,h7,rf).bind(this)),(0,f.effect)((0,_._)(this,h8,rw).bind(this))}onDestroy(){try{let t=this.createEvent("destroy"),{pictureInPicture:e,fullscreen:i}=this.$state;i()&&this.exitFullscreen("prefer-media",t),e()&&this.exitPictureInPicture(t)}catch(t){}(0,o._)(this,hX).reset()}async play(t){if(m)return;let{canPlay:e,paused:i,autoPlaying:s}=this.$state;if((0,_._)(this,h0,ro).call(this,t)||!(0,f.peek)(i))return;t&&(0,o._)(this,hU).queue.enqueue("media-play-request",t);let n=(0,f.peek)(s);try{let t=(0,f.peek)((0,o._)(this,hz));return rk(t,(0,f.peek)(e)),await t.play()}catch(i){let e=this.createEvent("play-fail",{detail:l9(i),trigger:t});throw e.autoPlay=n,(0,o._)(this,hK).handle(e),i}}async pause(t){if(m)return;let{canPlay:e,paused:i}=this.$state;if(!(0,f.peek)(i)){t&&(0,o._)(this,hU).queue.enqueue("media-pause-request",t);try{let t=(0,f.peek)((0,o._)(this,hz));return rk(t,(0,f.peek)(e)),await t.pause()}catch(t){throw(0,o._)(this,hU).queue.delete("media-pause-request"),t}}}setAudioGain(t,e){let{audioGain:i,canSetAudioGain:s}=this.$state;if(i()===t)return;let n=(0,o._)(this,hz).call(this);if(!(null==n?void 0:n.audioGain)||!s())throw Error("[vidstack] audio gain api not available");e&&(0,o._)(this,hU).queue.enqueue("media-audio-gain-change-request",e),n.audioGain.setGain(t)}seekToLiveEdge(t){var e;if(m)return;let{canPlay:i,live:s,liveEdge:n,canSeek:a,liveSyncPosition:l,seekableEnd:h,userBehindLiveEdge:r}=this.$state;if(r.set(!1),(0,f.peek)(()=>!s()||n()||!a()))return;let u=(0,f.peek)((0,o._)(this,hz));rk(u,(0,f.peek)(i)),t&&(0,o._)(this,hU).queue.enqueue("media-seek-request",t);let c=h()-2;u.setCurrentTime(Math.min(c,null!==(e=l())&&void 0!==e?e:c))}async enterFullscreen(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"prefer-media",e=arguments.length>1?arguments[1]:void 0;if(m)return;let i=(0,_._)(this,h2,ru).call(this,t);if(ry(t,i),!i.active)return(0,f.peek)(this.$state.pictureInPicture)&&((0,c._)(this,h1,!0),await this.exitPictureInPicture(e)),e&&(0,o._)(this,hU).queue.enqueue("media-enter-fullscreen-request",e),i.enter()}async exitFullscreen(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"prefer-media",e=arguments.length>1?arguments[1]:void 0;if(m)return;let i=(0,_._)(this,h2,ru).call(this,t);if(ry(t,i),i.active){e&&(0,o._)(this,hU).queue.enqueue("media-exit-fullscreen-request",e);try{let t=await i.exit();return(0,o._)(this,h1)&&(0,f.peek)(this.$state.canPictureInPicture)&&await this.enterPictureInPicture(),t}finally{(0,c._)(this,h1,!1)}}}async enterPictureInPicture(t){if(!m&&((0,_._)(this,h3,rc).call(this),!this.$state.pictureInPicture()))return t&&(0,o._)(this,hU).queue.enqueue("media-enter-pip-request",t),await (0,o._)(this,hz).call(this).pictureInPicture.enter()}async exitPictureInPicture(t){if(!m&&((0,_._)(this,h3,rc).call(this),this.$state.pictureInPicture()))return t&&(0,o._)(this,hU).queue.enqueue("media-exit-pip-request",t),await (0,o._)(this,hz).call(this).pictureInPicture.exit()}async "media-airplay-request"(t){try{await this.requestAirPlay(t)}catch(t){}}async requestAirPlay(t){try{var e;let i=null===(e=(0,o._)(this,hz).call(this))||void 0===e?void 0:e.airPlay;if(!(null==i?void 0:i.supported))throw Error("No AirPlay adapter.");return t&&(0,o._)(this,hU).queue.enqueue("media-airplay-request",t),await i.prompt()}catch(t){throw(0,o._)(this,hU).queue.delete("media-airplay-request"),t}}async "media-google-cast-request"(t){try{await this.requestGoogleCast(t)}catch(t){}}async requestGoogleCast(t){try{let{canGoogleCast:e}=this.$state;if(!(0,f.peek)(e)){let t=Error("Cast not available.");throw t.code="CAST_NOT_AVAILABLE",t}if(Y("https://www.gstatic.com"),!(0,o._)(this,rt)){let t=await i.e(5115).then(i.bind(i,15115)).then(function(t){return t.loader});(0,c._)(this,rt,new t.GoogleCastLoader)}await (0,o._)(this,rt).prompt((0,o._)(this,hH)),t&&(0,o._)(this,hU).queue.enqueue("media-google-cast-request",t);let s="disconnected"!==(0,f.peek)(this.$state.remotePlaybackState);s&&this.$state.savedState.set({paused:(0,f.peek)(this.$state.paused),currentTime:(0,f.peek)(this.$state.currentTime)}),this.$state.remotePlaybackLoader.set(s?(0,o._)(this,rt):null)}catch(t){throw(0,o._)(this,hU).queue.delete("media-google-cast-request"),t}}"media-clip-start-change-request"(t){let{clipStartTime:e}=this.$state;e.set(t.detail)}"media-clip-end-change-request"(t){let{clipEndTime:e}=this.$state;e.set(t.detail),this.dispatch("duration-change",{detail:t.detail,trigger:t})}"media-duration-change-request"(t){let{providedDuration:e,clipEndTime:i}=this.$state;e.set(t.detail),0>=i()&&this.dispatch("duration-change",{detail:t.detail,trigger:t})}"media-audio-track-change-request"(t){let{logger:e,audioTracks:i}=(0,o._)(this,hH);if(i.readonly)return;let s=i[t.detail];if(s){let e=t.type;(0,o._)(this,hU).queue.enqueue(e,t),s.selected=!0}}async "media-enter-fullscreen-request"(t){try{await this.enterFullscreen(t.detail,t)}catch(e){(0,_._)(this,ri,rm).call(this,e,t)}}async "media-exit-fullscreen-request"(t){try{await this.exitFullscreen(t.detail,t)}catch(e){(0,_._)(this,ri,rm).call(this,e,t)}}async "media-orientation-lock-request"(t){let e=t.type;try{(0,o._)(this,hU).queue.enqueue(e,t),await (0,o._)(this,hQ).lock(t.detail)}catch(t){(0,o._)(this,hU).queue.delete(e)}}async "media-orientation-unlock-request"(t){let e=t.type;try{(0,o._)(this,hU).queue.enqueue(e,t),await (0,o._)(this,hQ).unlock()}catch(t){(0,o._)(this,hU).queue.delete(e)}}async "media-enter-pip-request"(t){try{await this.enterPictureInPicture(t)}catch(e){(0,_._)(this,rs,rb).call(this,e,t)}}async "media-exit-pip-request"(t){try{await this.exitPictureInPicture(t)}catch(e){(0,_._)(this,rs,rb).call(this,e,t)}}"media-live-edge-request"(t){let{live:e,liveEdge:i,canSeek:s}=this.$state;if(!(!e()||i())&&s()){(0,o._)(this,hU).queue.enqueue("media-seek-request",t);try{this.seekToLiveEdge()}catch(t){(0,o._)(this,hU).queue.delete("media-seek-request")}}}async "media-loop-request"(t){try{(0,o._)(this,hU).looping=!0,(0,o._)(this,hU).replaying=!0,await this.play(t)}catch(t){(0,o._)(this,hU).looping=!1}}"media-user-loop-change-request"(t){this.$state.userPrefersLoop.set(t.detail)}async "media-pause-request"(t){if(!this.$state.paused())try{await this.pause(t)}catch(t){}}async "media-play-request"(t){if(this.$state.paused())try{await this.play(t)}catch(t){}}"media-rate-change-request"(t){let{playbackRate:e,canSetPlaybackRate:i}=this.$state;if(e()===t.detail||!i())return;let s=(0,o._)(this,hz).call(this);(null==s?void 0:s.setPlaybackRate)&&((0,o._)(this,hU).queue.enqueue("media-rate-change-request",t),s.setPlaybackRate(t.detail))}"media-audio-gain-change-request"(t){try{this.setAudioGain(t.detail,t)}catch(t){}}"media-quality-change-request"(t){var e,i;let{qualities:s,storage:n,logger:a}=(0,o._)(this,hH);if(s.readonly)return;(0,o._)(this,hU).queue.enqueue("media-quality-change-request",t);let l=t.detail;if(l<0)s.autoSelect(t),t.isOriginTrusted&&(null==n||null===(e=n.setVideoQuality)||void 0===e||e.call(n,null));else{let e=s[l];e&&(e.selected=!0,t.isOriginTrusted&&(null==n||null===(i=n.setVideoQuality)||void 0===i||i.call(n,{id:e.id,width:e.width,height:e.height,bitrate:e.bitrate})))}}"media-pause-controls-request"(t){let e=t.type;(0,o._)(this,hU).queue.enqueue(e,t),this.controls.pause(t)}"media-resume-controls-request"(t){let e=t.type;(0,o._)(this,hU).queue.enqueue(e,t),this.controls.resume(t)}"media-seek-request"(t){let{canSeek:e,ended:i,live:s,seekableEnd:n,userBehindLiveEdge:a}=this.$state,l=t.detail;i()&&((0,o._)(this,hU).replaying=!0);let h=t.type;(0,o._)(this,hU).seeking=!1,(0,o._)(this,hU).queue.delete(h);let r=tN(l,this.$state);Number.isFinite(r)&&e()&&((0,o._)(this,hU).queue.enqueue(h,t),(0,o._)(this,hz).call(this).setCurrentTime(r),s()&&t.isOriginTrusted&&Math.abs(n()-r)>=2&&a.set(!0))}"media-seeking-request"(t){let e=t.type;(0,o._)(this,hU).queue.enqueue(e,t),this.$state.seeking.set(!0),(0,o._)(this,hU).seeking=!0}"media-start-loading"(t){if(this.$state.canLoad())return;let e=t.type;(0,o._)(this,hU).queue.enqueue(e,t),(0,o._)(this,hK).handle(this.createEvent("can-load"))}"media-poster-start-loading"(t){if(this.$state.canLoadPoster())return;let e=t.type;(0,o._)(this,hU).queue.enqueue(e,t),(0,o._)(this,hK).handle(this.createEvent("can-load-poster"))}"media-text-track-change-request"(t){let{index:e,mode:i}=t.detail,s=(0,o._)(this,hH).textTracks[e];if(s){let e=t.type;(0,o._)(this,hU).queue.enqueue(e,t),s.setMode(i,t)}}"media-mute-request"(t){if(this.$state.muted())return;let e=t.type;(0,o._)(this,hU).queue.enqueue(e,t),(0,o._)(this,hz).call(this).setMuted(!0)}"media-unmute-request"(t){let{muted:e,volume:i}=this.$state;if(!e())return;let s=t.type;(0,o._)(this,hU).queue.enqueue(s,t),(0,o._)(this,hH).$provider().setMuted(!1),0===i()&&((0,o._)(this,hU).queue.enqueue(s,t),(0,o._)(this,hz).call(this).setVolume(.25))}"media-volume-change-request"(t){let{muted:e,volume:i}=this.$state,s=t.detail;if(i()===s)return;let n=t.type;(0,o._)(this,hU).queue.enqueue(n,t),(0,o._)(this,hz).call(this).setVolume(s),s>0&&e()&&((0,o._)(this,hU).queue.enqueue(n,t),(0,o._)(this,hz).call(this).setMuted(!1))}constructor(t,e,i){super(),(0,p._)(this,hY),(0,p._)(this,hJ),(0,p._)(this,hZ),(0,p._)(this,h0),(0,p._)(this,h2),(0,p._)(this,h3),(0,p._)(this,h5),(0,p._)(this,h9),(0,p._)(this,h4),(0,p._)(this,h6),(0,p._)(this,h7),(0,p._)(this,h8),(0,p._)(this,re),(0,p._)(this,ri),(0,p._)(this,rs),(0,p._)(this,rn),(0,u._)(this,hK,{writable:!0,value:void 0}),(0,u._)(this,hU,{writable:!0,value:void 0}),(0,u._)(this,hH,{writable:!0,value:void 0}),(0,u._)(this,hB,{writable:!0,value:void 0}),(0,u._)(this,hQ,{writable:!0,value:void 0}),(0,u._)(this,hz,{writable:!0,value:void 0}),(0,u._)(this,hX,{writable:!0,value:void 0}),(0,u._)(this,h1,{writable:!0,value:void 0}),(0,u._)(this,rt,{writable:!0,value:void 0}),(0,c._)(this,hX,new hN),(0,c._)(this,h1,!1),(0,c._)(this,hK,t),(0,c._)(this,hU,e),(0,c._)(this,hH,i),(0,c._)(this,hz,i.$provider),this.controls=new i7,(0,c._)(this,hB,new sw),(0,c._)(this,hQ,new sA)}}function rl(){let{load:t}=this.$props,{canLoad:e}=this.$state;if("play"!==t()||e())return;let i=this.listen("media-play-request",t=>{(0,_._)(this,h0,ro).call(this,t),i()})}function rh(){let t=(0,o._)(this,hz).call(this),e=this.$state.canPlay();return t&&e&&(0,o._)(this,hX).start(),()=>{(0,o._)(this,hX).stop()}}function rr(t){t.stopPropagation(),!t.defaultPrevented&&this[t.type]&&((0,f.peek)((0,o._)(this,hz))?this[t.type](t):(0,o._)(this,hX).enqueue(t.type,()=>{(0,f.peek)((0,o._)(this,hz))&&this[t.type](t)}))}function ro(t){let{load:e}=this.$props,{canLoad:i}=this.$state;if("play"===e()&&!i()){let e=this.createEvent("media-start-loading",{trigger:t});return this.dispatchEvent(e),(0,o._)(this,hX).enqueue("media-play-request",async()=>{try{await this.play(e)}catch(t){}}),!0}return!1}function ru(t){let e=(0,f.peek)((0,o._)(this,hz));return"prefer-media"===t&&(0,o._)(this,hB).supported||"media"===t?(0,o._)(this,hB):null==e?void 0:e.fullscreen}function rc(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")}function rd(){this.controls.defaultDelay=this.$props.controlsDelay()}function r_(){var t,e;let{canSetAudioGain:i}=this.$state,s=!!(null===(e=(0,o._)(this,hz).call(this))||void 0===e?void 0:null===(t=e.audioGain)||void 0===t?void 0:t.supported);i.set(s)}function rp(){var t,e;let{canAirPlay:i}=this.$state,s=!!(null===(e=(0,o._)(this,hz).call(this))||void 0===e?void 0:null===(t=e.airPlay)||void 0===t?void 0:t.supported);i.set(s)}function rv(){let{canGoogleCast:t,source:e}=this.$state,i=S&&!k&&z(e());t.set(i)}function rf(){var t,e;let{canFullscreen:i}=this.$state,s=(0,o._)(this,hB).supported||!!(null===(e=(0,o._)(this,hz).call(this))||void 0===e?void 0:null===(t=e.fullscreen)||void 0===t?void 0:t.supported);i.set(s)}function rw(){var t,e;let{canPictureInPicture:i}=this.$state,s=!!(null===(e=(0,o._)(this,hz).call(this))||void 0===e?void 0:null===(t=e.pictureInPicture)||void 0===t?void 0:t.supported);i.set(s)}async function rg(t){let e=(0,f.peek)(this.$props.fullscreenOrientation),i=t.detail;if(!(0,f.isUndefined)(e)&&"none"!==e&&(0,o._)(this,hQ).supported){if(i){if((0,o._)(this,hQ).locked)return;this.dispatch("media-orientation-lock-request",{detail:e,trigger:t})}else(0,o._)(this,hQ).locked&&this.dispatch("media-orientation-unlock-request",{trigger:t})}}function rm(t,e){(0,o._)(this,hK).handle(this.createEvent("fullscreen-error",{detail:l9(t)}))}function rb(t,e){(0,o._)(this,hK).handle(this.createEvent("picture-in-picture-error",{detail:l9(t)}))}function rk(t,e){if(!t||!e)throw Error("[vidstack] media not ready")}function ry(t,e){if(null==e||!e.supported)throw Error("[vidstack] no fullscreen support")}class rS{constructor(){this.seeking=!1,this.looping=!1,this.replaying=!1,this.queue=new hO}}let rW=new Set(["auto-play","auto-play-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);var r$=new WeakMap,rM=new WeakMap,rx=new WeakMap,rT=new WeakMap,rP=new WeakMap,rA=new WeakMap,rC=new WeakMap,rE=new WeakMap,rq=new WeakMap,rD=new WeakSet,rO=new WeakSet,rL=new WeakSet,rI=new WeakSet,rF=new WeakSet,rV=new WeakSet,rR=new WeakSet,rN=new WeakSet,rG=new WeakSet,rj=new WeakSet,rK=new WeakSet,rU=new WeakSet,rH=new WeakSet,rB=new WeakSet,rQ=new WeakMap,rz=new WeakSet,rX=new WeakSet,rY=new WeakSet,rJ=new WeakSet,rZ=new WeakSet,r0=new WeakSet,r1=new WeakSet,r2=new WeakSet,r3=new WeakSet,r5=new WeakSet,r9=new WeakSet,r4=new WeakMap,r6=new WeakSet,r7=new WeakSet;class r8 extends ig{onAttach(t){t.setAttribute("aria-busy","true"),new f.EventsController(this).add("fullscreen-change",this["fullscreen-change"].bind(this)).add("fullscreen-error",this["fullscreen-error"].bind(this)).add("orientation-change",this["orientation-change"].bind(this))}onConnect(t){(0,f.effect)((0,_._)(this,rJ,ow).bind(this)),(0,_._)(this,rF,on).call(this),(0,_._)(this,rV,oa).call(this),(0,_._)(this,rR,ol).call(this),(0,_._)(this,rD,ot).call(this),(0,f.onDispose)((0,_._)(this,rO,oe).bind(this))}onDestroy(){let{audioTracks:t,qualities:e,textTracks:i}=(0,o._)(this,rM);t[t4.reset](),e[t4.reset](),i[t4.reset](),(0,_._)(this,rX,ov).call(this)}handle(t){if(!this.scope)return;let e=t.type;(0,f.untrack)(()=>{var e;return null===(e=this[t.type])||void 0===e?void 0:e.call(this,t)}),m||(rW.has(e)&&(0,o._)(this,rx).set(e,t),this.dispatch(t))}"provider-change"(t){var e,i;let s=(0,o._)(this,rM).$provider(),n=t.detail;(null==s?void 0:s.type)!==(null==n?void 0:n.type)&&(null==s||null===(e=s.destroy)||void 0===e||e.call(s),null==s||null===(i=s.scope)||void 0===i||i.dispose(),(0,o._)(this,rM).$provider.set(t.detail),s&&null===t.detail&&(0,_._)(this,r0,om).call(this,t))}"provider-loader-change"(t){}"auto-play"(t){this.$state.autoPlayError.set(null)}"auto-play-fail"(t){this.$state.autoPlayError.set(t.detail),(0,_._)(this,rL,oi).call(this)}"can-load"(t){this.$state.canLoad.set(!0),(0,o._)(this,rx).set("can-load",t),(0,o._)(this,rM).textTracks[tl.canLoad](),(0,_._)(this,rI,os).call(this,"media-start-loading",t)}"can-load-poster"(t){this.$state.canLoadPoster.set(!0),(0,o._)(this,rx).set("can-load-poster",t),(0,_._)(this,rI,os).call(this,"media-poster-start-loading",t)}"media-type-change"(t){let e=(0,o._)(this,rx).get("source-change");e&&t.triggers.add(e);let i=this.$state.viewType();this.$state.mediaType.set(t.detail);let s=this.$state.providedViewType(),n="unknown"===s?t.detail:s;i!==n&&(m?this.$state.inferredViewType.set(n):setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(t.detail),this.dispatch("view-type-change",{detail:n,trigger:t}))})},0))}"stream-type-change"(t){let e=(0,o._)(this,rx).get("source-change");e&&t.triggers.add(e);let{streamType:i,inferredStreamType:s}=this.$state;s.set(t.detail),t.detail=i()}"rate-change"(t){let{storage:e}=(0,o._)(this,rM),{canPlay:i}=this.$state;if(this.$state.playbackRate.set(t.detail),(0,_._)(this,rI,os).call(this,"media-rate-change-request",t),i()){var s;null==e||null===(s=e.setPlaybackRate)||void 0===s||s.call(e,t.detail)}}"remote-playback-change"(t){let{remotePlaybackState:e,remotePlaybackType:i}=this.$state,{type:s,state:n}=t.detail,a="connected"===n;i.set(s),e.set(n);let l="airplay"===s?"media-airplay-request":"media-google-cast-request";if(a)(0,_._)(this,rI,os).call(this,l,t);else{let e=(0,o._)(this,r$).queue.peek(l);e&&(t.request=e,t.triggers.add(e))}}"sources-change"(t){let e=this.$state.sources(),i=t.detail;this.$state.sources.set(i),(0,_._)(this,rZ,og).call(this,e,i,t)}"source-change"(t){var e,i;t.isQualityChange=(null===(e=t.originEvent)||void 0===e?void 0:e.type)==="quality-change";let s=t.detail;(0,_._)(this,r0,om).call(this,t,t.isQualityChange),(0,o._)(this,rx).set(t.type,t),this.$state.source.set(s),null===(i=this.el)||void 0===i||i.setAttribute("aria-busy","true")}abort(t){let e=(0,o._)(this,rx).get("source-change");e&&t.triggers.add(e);let i=(0,o._)(this,rx).get("can-load");i&&!t.triggers.hasType("can-load")&&t.triggers.add(i)}"load-start"(t){let e=(0,o._)(this,rx).get("source-change");e&&t.triggers.add(e)}error(t){this.$state.error.set(t.detail);let e=(0,o._)(this,rx).get("abort");e&&t.triggers.add(e)}"loaded-metadata"(t){let e=(0,o._)(this,rx).get("load-start");e&&t.triggers.add(e)}"loaded-data"(t){let e=(0,o._)(this,rx).get("load-start");e&&t.triggers.add(e)}"can-play"(t){var e;let i=(0,o._)(this,rx).get("loaded-metadata");i&&t.triggers.add(i),(0,_._)(this,r1,ob).call(this,t.detail),null===(e=this.el)||void 0===e||e.setAttribute("aria-busy","false")}"can-play-through"(t){(0,_._)(this,r1,ob).call(this,t.detail);let e=(0,o._)(this,rx).get("can-play");e&&t.triggers.add(e)}"duration-change"(t){let{live:e,intrinsicDuration:i,providedDuration:s,clipEndTime:n,ended:a}=this.$state,l=t.detail;if(!e()){let e=Number.isNaN(l)?0:l;i.set(e),a()&&(0,_._)(this,r5,oS).call(this,t)}(s()>0||n()>0)&&t.stopImmediatePropagation()}progress(t){let{buffered:e,seekable:i}=this.$state,{buffered:s,seekable:n}=t.detail,a=L(s),l=s.length!==e().length,h=a!==L(e()),r=L(n),o=n.length!==i().length,u=r!==L(i());(l||h)&&e.set(s),(o||u)&&i.set(n)}play(t){let{paused:e,autoPlayError:i,ended:s,autoPlaying:n,playsInline:a,pointer:l,muted:h,viewType:r,live:u,userBehindLiveEdge:c}=this.$state;if((0,_._)(this,r2,ok).call(this),!e()){t.stopImmediatePropagation();return}t.autoPlay=n();let d=(0,o._)(this,rx).get("waiting");d&&t.triggers.add(d),(0,_._)(this,rI,os).call(this,"media-play-request",t),(0,o._)(this,rx).set("play",t),e.set(!1),i.set(null),t.autoPlay&&(this.handle(this.createEvent("auto-play",{detail:{muted:h()},trigger:t})),n.set(!1)),(s()||(0,o._)(this,r$).replaying)&&((0,o._)(this,r$).replaying=!1,s.set(!1),this.handle(this.createEvent("replay",{trigger:t}))),a()||"video"!==r()||"coarse"!==l()||(0,o._)(this,rM).remote.enterFullscreen("prefer-media",t),u()&&!c()&&(0,o._)(this,rM).remote.seekToLiveEdge(t)}"play-fail"(t){let{muted:e,autoPlaying:i}=this.$state,s=(0,o._)(this,rx).get("play");s&&t.triggers.add(s),(0,_._)(this,rI,os).call(this,"media-play-request",t);let{paused:n,playing:a}=this.$state;n.set(!0),a.set(!1),(0,_._)(this,rL,oi).call(this),(0,o._)(this,rx).set("play-fail",t),t.autoPlay&&(this.handle(this.createEvent("auto-play-fail",{detail:{muted:e(),error:t.detail},trigger:t})),i.set(!1))}playing(t){let e=(0,o._)(this,rx).get("play"),i=(0,o._)(this,rx).get("seeked");e?t.triggers.add(e):i&&t.triggers.add(i),setTimeout(()=>(0,_._)(this,rL,oi).call(this),0);let{paused:s,playing:n,live:a,liveSyncPosition:l,seekableEnd:h,started:r,currentTime:u,seeking:c,ended:d}=this.$state;if(s.set(!1),n.set(!0),c.set(!1),d.set(!1),(0,o._)(this,r$).looping){(0,o._)(this,r$).looping=!1;return}if(a()&&!r()&&0===u()){var p;let t=null!==(p=l())&&void 0!==p?p:h()-2;Number.isFinite(t)&&(0,o._)(this,rM).$provider().setCurrentTime(t)}this.started(t)}started(t){let{started:e}=this.$state;e()||(e.set(!0),this.handle(this.createEvent("started",{trigger:t})))}pause(t){var e;(null===(e=this.el)||void 0===e?void 0:e.isConnected)||(0,c._)(this,rq,!0),(0,_._)(this,rI,os).call(this,"media-pause-request",t);let i=(0,o._)(this,rx).get("seeked");i&&t.triggers.add(i);let{paused:s,playing:n}=this.$state;s.set(!0),n.set(!1),(0,o._)(this,rT)&&setTimeout(()=>{this.handle(this.createEvent("end",{trigger:t})),(0,c._)(this,rT,!1)},0),(0,_._)(this,rL,oi).call(this)}"time-change"(t){if((0,o._)(this,r$).looping){t.stopImmediatePropagation();return}let{waiting:e,played:i,clipEndTime:s,realCurrentTime:n,currentTime:a}=this.$state,l=t.detail,h=s();for(let i of(n.set(l),(0,_._)(this,r3,oy).call(this),e.set(!1),(0,o._)(this,rM).textTracks))i[tl.updateActiveCues](l,t);h>0&&l>=h&&((0,c._)(this,rT,!0),this.dispatch("media-pause-request",{trigger:t})),(0,_._)(this,r9,oW).call(this),this.dispatch("time-update",{detail:{currentTime:a(),played:i()},trigger:t})}"audio-gain-change"(t){var e;let{storage:i}=(0,o._)(this,rM),{canPlay:s,audioGain:n}=this.$state;n.set(t.detail),(0,_._)(this,rI,os).call(this,"media-audio-gain-change-request",t),s()&&(null==i||null===(e=i.setAudioGain)||void 0===e||e.call(i,n()))}"volume-change"(t){let{storage:e}=(0,o._)(this,rM),{volume:i,muted:s,canPlay:n}=this.$state,a=t.detail;if(i.set(a.volume),s.set(a.muted||0===a.volume),(0,_._)(this,rI,os).call(this,"media-volume-change-request",t),(0,_._)(this,rI,os).call(this,a.muted?"media-mute-request":"media-unmute-request",t),n()){var l,h;null==e||null===(l=e.setVolume)||void 0===l||l.call(e,i()),null==e||null===(h=e.setMuted)||void 0===h||h.call(e,s())}}seeked(t){let{seeking:e,currentTime:i,realCurrentTime:s,paused:n,seekableEnd:a,ended:l,live:h}=this.$state;if((0,o._)(this,r$).seeking)e.set(!0),t.stopImmediatePropagation();else if(e()){let i=(0,o._)(this,rx).get("waiting");i&&t.triggers.add(i);let a=(0,o._)(this,rx).get("seeking");a&&!t.triggers.has(a)&&t.triggers.add(a),n()&&(0,_._)(this,r7,oM).call(this),e.set(!1),s.set(t.detail),(0,_._)(this,rI,os).call(this,"media-seek-request",t);let l=null==t?void 0:t.originEvent;null==l||!l.isTrusted||l instanceof MessageEvent||/seek/.test(l.type)||this.started(t)}h()||(Math.floor(i())!==Math.floor(a())?l.set(!1):this.end(t))}waiting(t){(0,o._)(this,rC)||(0,o._)(this,r$).seeking||(t.stopImmediatePropagation(),(0,c._)(this,rE,t),(0,o._)(this,r4).call(this))}end(t){let{loop:e,ended:i}=this.$state;if(!(!e()&&i())){if(e()){setTimeout(()=>{requestAnimationFrame(()=>{(0,_._)(this,r2,ok).call(this,t),this.dispatch("media-loop-request",{trigger:t})})},10);return}setTimeout(()=>(0,_._)(this,r6,o$).call(this,t),0)}}"fullscreen-change"(t){let e=t.detail;this.$state.fullscreen.set(e),(0,_._)(this,rI,os).call(this,e?"media-enter-fullscreen-request":"media-exit-fullscreen-request",t)}"fullscreen-error"(t){(0,_._)(this,rI,os).call(this,"media-enter-fullscreen-request",t),(0,_._)(this,rI,os).call(this,"media-exit-fullscreen-request",t)}"orientation-change"(t){let e=t.detail.lock;(0,_._)(this,rI,os).call(this,e?"media-orientation-lock-request":"media-orientation-unlock-request",t)}"picture-in-picture-change"(t){let e=t.detail;this.$state.pictureInPicture.set(e),(0,_._)(this,rI,os).call(this,e?"media-enter-pip-request":"media-exit-pip-request",t)}"picture-in-picture-error"(t){(0,_._)(this,rI,os).call(this,"media-enter-pip-request",t),(0,_._)(this,rI,os).call(this,"media-exit-pip-request",t)}"title-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredTitle.set(t.detail))}"poster-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredPoster.set(t.detail))}constructor(t,e){super(),(0,p._)(this,rD),(0,p._)(this,rO),(0,p._)(this,rL),(0,p._)(this,rI),(0,p._)(this,rF),(0,p._)(this,rV),(0,p._)(this,rR),(0,p._)(this,rN),(0,p._)(this,rG),(0,p._)(this,rj),(0,p._)(this,rK),(0,p._)(this,rU),(0,p._)(this,rH),(0,p._)(this,rB),(0,p._)(this,rz),(0,p._)(this,rX),(0,p._)(this,rY),(0,p._)(this,rJ),(0,p._)(this,rZ),(0,p._)(this,r0),(0,p._)(this,r1),(0,p._)(this,r2),(0,p._)(this,r3),(0,p._)(this,r5),(0,p._)(this,r9),(0,p._)(this,r6),(0,p._)(this,r7),(0,u._)(this,r$,{writable:!0,value:void 0}),(0,u._)(this,rM,{writable:!0,value:void 0}),(0,u._)(this,rx,{writable:!0,value:void 0}),(0,u._)(this,rT,{writable:!0,value:void 0}),(0,u._)(this,rP,{writable:!0,value:void 0}),(0,u._)(this,rA,{writable:!0,value:void 0}),(0,u._)(this,rC,{writable:!0,value:void 0}),(0,u._)(this,rE,{writable:!0,value:void 0}),(0,u._)(this,rq,{writable:!0,value:void 0}),(0,u._)(this,rQ,{writable:!0,value:void 0}),(0,u._)(this,r4,{writable:!0,value:void 0}),(0,c._)(this,rx,new Map),(0,c._)(this,rT,!1),(0,c._)(this,rP,[]),(0,c._)(this,rA,[-1,-1]),(0,c._)(this,rC,!1),(0,c._)(this,rq,!1),(0,c._)(this,rQ,null),this.seeking=(0,f.functionThrottle)(t=>{let{seeking:e,realCurrentTime:i,paused:s}=this.$state;e.set(!0),i.set(t.detail),(0,_._)(this,rI,os).call(this,"media-seeking-request",t),s()&&((0,c._)(this,rE,t),(0,o._)(this,r4).call(this)),(0,c._)(this,rA,[-1,-1])},150,{leading:!0}),(0,c._)(this,r4,(0,f.functionDebounce)(()=>{if(!(0,o._)(this,rE))return;(0,c._)(this,rC,!0);let{waiting:t,playing:e}=this.$state;t.set(!0),e.set(!1);let i=this.createEvent("waiting",{trigger:(0,o._)(this,rE)});(0,o._)(this,rx).set("waiting",i),this.dispatch(i),(0,c._)(this,rE,void 0),(0,c._)(this,rC,!1)},300)),(0,c._)(this,r$,t),(0,c._)(this,rM,e)}}function ot(){(0,o._)(this,rq)&&(requestAnimationFrame(()=>{this.scope&&(0,o._)(this,rM).remote.play(new f.DOMEvent("dom-connect"))}),(0,c._)(this,rq,!1))}function oe(){var t;(0,o._)(this,rq)||((0,c._)(this,rq,!this.$state.paused()),null===(t=(0,o._)(this,rM).$provider())||void 0===t||t.pause())}function oi(){(0,_._)(this,r7,oM).call(this),(0,c._)(this,rT,!1),(0,o._)(this,r$).replaying=!1,(0,o._)(this,r$).looping=!1,(0,c._)(this,rC,!1),(0,c._)(this,rE,void 0),(0,o._)(this,rx).clear()}function os(t,e){let i=(0,o._)(this,r$).queue.serve(t);i&&(e.request=i,e.triggers.add(i))}function on(){(0,_._)(this,rN,oh).call(this),(0,_._)(this,rG,or).call(this);let t=(0,o._)(this,rM).textTracks;new f.EventsController(t).add("add",(0,_._)(this,rN,oh).bind(this)).add("remove",(0,_._)(this,rN,oh).bind(this)).add("mode-change",(0,_._)(this,rG,or).bind(this))}function oa(){let t=(0,o._)(this,rM).qualities;new f.EventsController(t).add("add",(0,_._)(this,rU,oc).bind(this)).add("remove",(0,_._)(this,rU,oc).bind(this)).add("change",(0,_._)(this,rH,od).bind(this)).add("auto-change",(0,_._)(this,rB,o_).bind(this)).add("readonly-change",(0,_._)(this,rY,of).bind(this))}function ol(){let t=(0,o._)(this,rM).audioTracks;new f.EventsController(t).add("add",(0,_._)(this,rj,oo).bind(this)).add("remove",(0,_._)(this,rj,oo).bind(this)).add("change",(0,_._)(this,rK,ou).bind(this))}function oh(t){let{textTracks:e}=this.$state;e.set((0,o._)(this,rM).textTracks.toArray()),this.dispatch("text-tracks-change",{detail:e(),trigger:t})}function or(t){t&&(0,_._)(this,rI,os).call(this,"media-text-track-change-request",t);let e=(0,o._)(this,rM).textTracks.selected,{textTrack:i}=this.$state;i()!==e&&(i.set(e),this.dispatch("text-track-change",{detail:e,trigger:t}))}function oo(t){let{audioTracks:e}=this.$state;e.set((0,o._)(this,rM).audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:e(),trigger:t})}function ou(t){let{audioTrack:e}=this.$state;e.set((0,o._)(this,rM).audioTracks.selected),t&&(0,_._)(this,rI,os).call(this,"media-audio-track-change-request",t),this.dispatch("audio-track-change",{detail:e(),trigger:t})}function oc(t){let{qualities:e}=this.$state;e.set((0,o._)(this,rM).qualities.toArray()),this.dispatch("qualities-change",{detail:e(),trigger:t})}function od(t){let{quality:e}=this.$state;e.set((0,o._)(this,rM).qualities.selected),t&&(0,_._)(this,rI,os).call(this,"media-quality-change-request",t),this.dispatch("quality-change",{detail:e(),trigger:t})}function o_(){let{qualities:t}=(0,o._)(this,rM),e=t.auto;this.$state.autoQuality.set(e),e||(0,_._)(this,rX,ov).call(this)}function op(){(0,_._)(this,rX,ov).call(this),(0,c._)(this,rQ,(0,f.effect)(()=>{let{qualities:t}=(0,o._)(this,rM),{mediaWidth:e,mediaHeight:i}=this.$state,s=e(),n=i();if(0===s||0===n)return;let a=null,l=1/0;for(let e of t){let t=Math.abs(e.width-s)+Math.abs(e.height-n);t<l&&(l=t,a=e)}a&&t[t4.select](a,!0,new f.DOMEvent("resize",{detail:{width:s,height:n}}))}))}function ov(){var t;null===(t=(0,o._)(this,rQ))||void 0===t||t.call(this),(0,c._)(this,rQ,null)}function of(){this.$state.canSetQuality.set(!(0,o._)(this,rM).qualities.readonly)}function ow(){let{canSetVolume:t,isGoogleCastConnected:e}=this.$state;if(e()){t.set(!1);return}C().then(t.set)}function og(t,e,i){let{qualities:s}=(0,o._)(this,rM),n=!1,a=!1;for(let n of t)if(g(n)&&!e.some(t=>t.src===n.src)){let t=s.getBySrc(n.src);t&&(s[t4.remove](t,i),a=!0)}for(let t of(a&&!s.length&&(this.$state.savedState.set(null),s[t4.reset](i)),e)){var l;if(!g(t)||s.getBySrc(t.src))continue;let e={id:null!==(l=t.id)&&void 0!==l?l:t.height+"p",bitrate:null,codec:null,...t,selected:!1};s[t4.add](e,i),n=!0}n&&!s[ir.enableAuto]&&((0,_._)(this,rz,op).call(this),s[ir.enableAuto]=(0,_._)(this,rz,op).bind(this),s[ir.setAuto](!0,i))}function om(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{audioTracks:i,qualities:s}=(0,o._)(this,rM);if(!e){(0,c._)(this,rP,[]),(0,c._)(this,rA,[-1,-1]),i[t4.reset](t),s[t4.reset](t),tR(this.$state,e),(0,_._)(this,rL,oi).call(this);return}tR(this.$state,e),(0,_._)(this,rL,oi).call(this)}function ob(t){var e;let{seekable:i,buffered:s,intrinsicDuration:n,canPlay:a}=this.$state;a.set(!0),s.set(t.buffered),i.set(t.seekable);let l=null!==(e=L(t.seekable))&&void 0!==e?e:1/0;n.set(l)}function ok(t){if(!(0,f.peek)((0,o._)(this,rM).$provider))return;let{ended:e,seekableStart:i,clipEndTime:s,currentTime:n,realCurrentTime:a,duration:l}=this.$state,h=e()||a()<i()||s()>0&&a()>=s()||.1>Math.abs(n()-l());return h&&this.dispatch("media-seek-request",{detail:i(),trigger:t}),h}function oy(){var t,e,i;let s,n;let{currentTime:a,played:l,paused:h}=this.$state;h()||((0,c._)(this,rA,(t=(0,o._)(this,rP),e=(0,o._)(this,rA),i=a(),s=e[0],n=e[1],i<s?[i,-1]:(i===s||(-1===s?e[0]=i:(i>s&&(e[1]=i,-1===n&&t.push(e)),function(t){if(t.length<=1)return;t.sort((t,e)=>t[0]-e[0]);let e=[],i=t[0];for(let s=1;s<t.length;s++){let n=t[s];i[1]>=n[0]-1?i=[i[0],Math.max(i[1],n[1])]:(e.push(i),i=n)}e.push(i)}(t))),e))),l.set(new D((0,o._)(this,rP))))}function oS(t){let{clipStartTime:e,clipEndTime:i,duration:s}=this.$state;e()>0||i()>0||this.handle(this.createEvent("time-change",{detail:s(),trigger:t}))}function oW(){let{storage:t}=(0,o._)(this,rM),{canPlay:e,realCurrentTime:i}=this.$state;if(e()){var s;null==t||null===(s=t.setTime)||void 0===s||s.call(t,i())}}function o$(t){var e;let{storage:i}=(0,o._)(this,rM),{paused:s,seeking:n,ended:a,duration:l}=this.$state;(0,_._)(this,r5,oS).call(this,t),s()||this.dispatch("pause",{trigger:t}),n()&&this.dispatch("seeked",{detail:l(),trigger:t}),a.set(!0),(0,_._)(this,rL,oi).call(this),null==i||null===(e=i.setTime)||void 0===e||e.call(i,l(),!0),this.dispatch("ended",{trigger:t})}function oM(){(0,o._)(this,r4).cancel(),this.$state.waiting.set(!1)}var ox=new WeakSet,oT=new WeakSet,oP=new WeakSet,oA=new WeakSet,oC=new WeakSet,oE=new WeakSet,oq=new WeakSet,oD=new WeakSet,oO=new WeakSet,oL=new WeakSet,oI=new WeakSet,oF=new WeakSet,oV=new WeakSet,oR=new WeakSet,oN=new WeakSet,oG=new WeakSet,oj=new WeakSet;class oK extends ig{onSetup(){if((0,_._)(this,ox,oU).call(this),!m)for(let t of[(0,_._)(this,oA,oB),(0,_._)(this,oE,oz),(0,_._)(this,oV,o2),(0,_._)(this,oR,o3),(0,_._)(this,oD,oY),(0,_._)(this,oL,oZ),(0,_._)(this,oI,o0),(0,_._)(this,oN,o5),(0,_._)(this,oj,o4),(0,_._)(this,oG,o9),(0,_._)(this,oq,oX),(0,_._)(this,oF,o1),(0,_._)(this,oO,oJ),(0,_._)(this,oT,oH),(0,_._)(this,oC,oQ)])(0,f.effect)(t.bind(this))}constructor(...t){super(...t),(0,p._)(this,ox),(0,p._)(this,oT),(0,p._)(this,oP),(0,p._)(this,oA),(0,p._)(this,oC),(0,p._)(this,oE),(0,p._)(this,oq),(0,p._)(this,oD),(0,p._)(this,oO),(0,p._)(this,oL),(0,p._)(this,oI),(0,p._)(this,oF),(0,p._)(this,oV),(0,p._)(this,oR),(0,p._)(this,oN),(0,p._)(this,oG),(0,p._)(this,oj)}}function oU(){let t={duration:"providedDuration",loop:"providedLoop",poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"},e=new Set(["currentTime","paused","playbackRate","volume"]);for(let n of Object.keys(this.$props)){var i,s;e.has(n)||null===(i=this.$state[null!==(s=t[n])&&void 0!==s?s:n])||void 0===i||i.set(this.$props[n]())}this.$state.muted.set(this.$props.muted()||0===this.$props.volume())}function oH(){let{viewType:t,streamType:e,title:i,poster:s,loop:n}=this.$props,a=this.$state;a.providedPoster.set(s()),a.providedStreamType.set(e()),a.providedViewType.set(t()),a.providedTitle.set(i()),a.providedLoop.set(n())}function oB(){let{artist:t,artwork:e}=this.$props;this.$state.artist.set(t()),this.$state.artwork.set(e())}function oQ(){let{title:t}=this.$state;this.dispatch("title-change",{detail:t()})}function oz(){let t=this.$props.autoPlay()||this.$props.autoplay();this.$state.autoPlay.set(t),this.dispatch("auto-play-change",{detail:t})}function oX(){let t=this.$state.loop();this.dispatch("loop-change",{detail:t})}function oY(){let t=this.$props.controls();this.$state.controls.set(t)}function oJ(){let{poster:t}=this.$state;this.dispatch("poster-change",{detail:t()})}function oZ(){var t;let e=null!==(t=this.$props.crossOrigin())&&void 0!==t?t:this.$props.crossorigin();this.$state.crossOrigin.set(!0===e?"":e)}function o0(){let{duration:t}=this.$props;this.dispatch("media-duration-change-request",{detail:t()})}function o1(){let t=this.$props.playsInline()||this.$props.playsinline();this.$state.playsInline.set(t),this.dispatch("plays-inline-change",{detail:t})}function o2(){let{clipStartTime:t}=this.$props;this.dispatch("media-clip-start-change-request",{detail:t()})}function o3(){let{clipEndTime:t}=this.$props;this.dispatch("media-clip-end-change-request",{detail:t()})}function o5(){this.dispatch("live-change",{detail:this.$state.live()})}function o9(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())}function o4(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})}let o6=["play","pause","seekforward","seekbackward","seekto"];var o7=new WeakSet,o8=new WeakSet,ut=new WeakSet,ue=new WeakSet;class ui extends ig{onConnect(){(0,f.effect)((0,_._)(this,o8,un).bind(this)),(0,f.effect)((0,_._)(this,ut,ua).bind(this));let t=(0,_._)(this,ue,ul).bind(this);for(let e of o6)navigator.mediaSession.setActionHandler(e,t);(0,f.onDispose)((0,_._)(this,o7,us).bind(this))}constructor(...t){super(...t),(0,p._)(this,o7),(0,p._)(this,o8),(0,p._)(this,ut),(0,p._)(this,ue)}}function us(){for(let t of o6)navigator.mediaSession.setActionHandler(t,null)}function un(){var t;let{title:e,artist:i,artwork:s,poster:n}=this.$state;navigator.mediaSession.metadata=new MediaMetadata({title:e(),artist:i(),artwork:null!==(t=s())&&void 0!==t?t:[{src:n()}]})}function ua(){let{canPlay:t,paused:e}=this.$state;navigator.mediaSession.playbackState=t()?e()?"paused":"playing":"none"}function ul(t){let e=new f.DOMEvent("media-session-action",{detail:t});switch(t.action){case"play":this.dispatch("media-play-request",{trigger:e});break;case"pause":this.dispatch("media-pause-request",{trigger:e});break;case"seekto":case"seekforward":case"seekbackward":var i;this.dispatch("media-seek-request",{detail:(0,f.isNumber)(t.seekTime)?t.seekTime:this.$state.currentTime()+(null!==(i=t.seekOffset)&&void 0!==i?i:"seekforward"===t.action?10:-10),trigger:e})}}let uh=(0,f.signal)(!1);m||((0,f.listenEvent)(document,"pointerdown",()=>{uh.set(!1)}),(0,f.listenEvent)(document,"keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||uh.set(!0)}));var ur=new WeakMap,uo=new WeakSet,uu=new WeakSet,uc=new WeakSet,ud=new WeakSet;class u_ extends f.ViewController{onConnect(t){(0,f.effect)(()=>{let e=new f.EventsController(t);if(!uh()){(0,o._)(this,ur).set(!1),ug(t,!1),e.add("pointerenter",(0,_._)(this,uc,uf).bind(this)).add("pointerleave",(0,_._)(this,ud,uw).bind(this));return}let i=document.activeElement===t;(0,o._)(this,ur).set(i),ug(t,i),e.add("focus",(0,_._)(this,uo,up).bind(this)).add("blur",(0,_._)(this,uu,uv).bind(this))})}focused(){return(0,o._)(this,ur).call(this)}constructor(...t){super(...t),(0,p._)(this,uo),(0,p._)(this,uu),(0,p._)(this,uc),(0,p._)(this,ud),(0,u._)(this,ur,{writable:!0,value:void 0}),(0,c._)(this,ur,(0,f.signal)(!1))}}function up(){(0,o._)(this,ur).set(!0),ug(this.el,!0)}function uv(){(0,o._)(this,ur).set(!1),ug(this.el,!1)}function uf(){um(this.el,!0)}function uw(){um(this.el,!1)}function ug(t,e){(0,f.setAttribute)(t,"data-focus",e),(0,f.setAttribute)(t,"data-hocus",e)}function um(t,e){(0,f.setAttribute)(t,"data-hocus",e),(0,f.setAttribute)(t,"data-hover",e)}var ub=new WeakMap,uk=new WeakMap,uy=new WeakMap,uS=new WeakMap,uW=new WeakMap,u$=new WeakMap,uM=new WeakSet,ux=new WeakSet,uT=new WeakSet,uP=new WeakSet,uA=new WeakSet,uC=new WeakSet,uE=new WeakSet,uq=new WeakSet,uD=new WeakSet,uO=new WeakSet,uL=new WeakSet,uI=new WeakSet,uF=new WeakSet,uV=new WeakSet,uR=new WeakSet,uN=new WeakSet,uG=new WeakSet,uj=new WeakSet,uK=new WeakSet,uU=new WeakSet,uH=new WeakSet;class uB extends f.Component{onSetup(){(0,_._)(this,uP,uZ).call(this),(0,f.effect)((0,_._)(this,uT,uJ).bind(this)),(0,f.effect)((0,_._)(this,uO,u9).bind(this)),(0,f.effect)((0,_._)(this,uq,u3).bind(this)),(0,f.effect)((0,_._)(this,uV,u8).bind(this)),(0,f.effect)((0,_._)(this,uI,u6).bind(this)),(0,f.effect)((0,_._)(this,uj,cs).bind(this)),(0,f.effect)((0,_._)(this,uN,ce).bind(this))}onAttach(t){t.setAttribute("data-media-player",""),ec(t,"tabindex","0"),ec(t,"role","region"),(0,f.effect)((0,_._)(this,uU,ca).bind(this)),m?(0,_._)(this,uM,uX).call(this):(0,f.effect)((0,_._)(this,uM,uX).bind(this)),m?(0,_._)(this,ux,uY).call(this):(0,f.effect)((0,_._)(this,ux,uY).bind(this)),(0,f.listenEvent)(t,"find-media-player",(0,_._)(this,uA,u0).bind(this))}onConnect(t){y&&(0,f.setAttribute)(t,"data-iphone","");let e=window.matchMedia("(pointer: coarse)");(0,_._)(this,uE,u2).call(this,e),e.onchange=(0,_._)(this,uE,u2).bind(this);let i=new ResizeObserver((0,f.animationFrameThrottle)((0,_._)(this,uC,u1).bind(this)));i.observe(t),(0,f.effect)((0,_._)(this,uC,u1).bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),(0,f.onDispose)(()=>{i.disconnect(),e.onchange=null})}onDestroy(){(0,o._)(this,ub).player=null,this.canPlayQueue.reset()}get provider(){return(0,o._)(this,uS)}get controls(){return(0,o._)(this,uy).controls}set controls(t){(0,o._)(this,uW).controls.set(t)}get title(){return(0,f.peek)(this.$state.title)}set title(t){if((0,o._)(this,u$)){(0,c._)(this,u$,!1);return}(0,o._)(this,uW).title.set(t)}get qualities(){return(0,o._)(this,ub).qualities}get audioTracks(){return(0,o._)(this,ub).audioTracks}get textTracks(){return(0,o._)(this,ub).textTracks}get textRenderers(){return(0,o._)(this,ub).textRenderers}get duration(){return this.$state.duration()}set duration(t){(0,o._)(this,uW).duration.set(t)}get paused(){return(0,f.peek)(this.$state.paused)}set paused(t){(0,_._)(this,uD,u5).call(this,t)}get muted(){return(0,f.peek)(this.$state.muted)}set muted(t){(0,_._)(this,uL,u4).call(this,t)}get currentTime(){return(0,f.peek)(this.$state.currentTime)}set currentTime(t){(0,_._)(this,uF,u7).call(this,t)}get volume(){return(0,f.peek)(this.$state.volume)}set volume(t){(0,_._)(this,uR,ct).call(this,t)}get playbackRate(){return(0,f.peek)(this.$state.playbackRate)}set playbackRate(t){(0,_._)(this,uG,ci).call(this,t)}async play(t){return(0,o._)(this,uy).play(t)}async pause(t){return(0,o._)(this,uy).pause(t)}async enterFullscreen(t,e){return(0,o._)(this,uy).enterFullscreen(t,e)}async exitFullscreen(t,e){return(0,o._)(this,uy).exitFullscreen(t,e)}enterPictureInPicture(t){return(0,o._)(this,uy).enterPictureInPicture(t)}exitPictureInPicture(t){return(0,o._)(this,uy).exitPictureInPicture(t)}seekToLiveEdge(t){(0,o._)(this,uy).seekToLiveEdge(t)}startLoading(t){(0,o._)(this,ub).notify("can-load",void 0,t)}startLoadingPoster(t){(0,o._)(this,ub).notify("can-load-poster",void 0,t)}requestAirPlay(t){return(0,o._)(this,uy).requestAirPlay(t)}requestGoogleCast(t){return(0,o._)(this,uy).requestGoogleCast(t)}setAudioGain(t,e){return(0,o._)(this,uy).setAudioGain(t,e)}destroy(){super.destroy(),(0,o._)(this,ub).remote.setPlayer(null),this.dispatch("destroy")}constructor(){super(),(0,u._)(this,uS,{get:uQ,set:void 0}),(0,u._)(this,uW,{get:uz,set:void 0}),(0,p._)(this,uM),(0,p._)(this,ux),(0,p._)(this,uT),(0,p._)(this,uP),(0,p._)(this,uA),(0,p._)(this,uC),(0,p._)(this,uE),(0,p._)(this,uq),(0,p._)(this,uD),(0,p._)(this,uO),(0,p._)(this,uL),(0,p._)(this,uI),(0,p._)(this,uF),(0,p._)(this,uV),(0,p._)(this,uR),(0,p._)(this,uN),(0,p._)(this,uG),(0,p._)(this,uj),(0,p._)(this,uK),(0,p._)(this,uU),(0,p._)(this,uH),(0,u._)(this,ub,{writable:!0,value:void 0}),(0,u._)(this,uk,{writable:!0,value:void 0}),(0,u._)(this,uy,{writable:!0,value:void 0}),(0,u._)(this,u$,{writable:!0,value:void 0}),this.canPlayQueue=new hN,(0,c._)(this,u$,!1),new oK;let t={player:this,qualities:new i_,audioTracks:new ea,storage:null,$provider:(0,f.signal)(null),$providerSetup:(0,f.signal)(!1),$props:this.$props,$state:this.$state};t.remote=this.remoteControl=new tX(void 0),t.remote.setPlayer(this),t.textTracks=new is,t.textTracks[tl.crossOrigin]=this.$state.crossOrigin,t.textRenderers=new eQ(t),t.ariaKeys={},(0,c._)(this,ub,t),(0,f.provideContext)(tG,t),this.orientation=new sA,new u_,new iE(t);let e=new rS;(0,c._)(this,uk,new r8(e,t)),(0,c._)(this,uy,new ra((0,o._)(this,uk),e,t)),t.delegate=new hE((0,o._)(this,uk).handle.bind((0,o._)(this,uk)),t),t.notify=t.delegate.notify.bind(t.delegate),"undefined"!=typeof navigator&&"mediaSession"in navigator&&new ui,new hT("load",this.startLoading.bind(this)),new hT("posterLoad",this.startLoadingPoster.bind(this))}}function uQ(){return(0,o._)(this,ub).$provider()}function uz(){return this.$props}function uX(){let t=this.$el,{title:e,live:i,viewType:s,providedTitle:n}=this.$state,a=i(),l=(0,f.uppercaseFirstChar)(s()),h="Unknown"!==l?"".concat(a?"Live ":"").concat(l):a?"Live":"Media",r=e();(0,f.setAttribute)(this.el,"aria-label","".concat(h," Player")+(r?" - ".concat(r):"")),!m&&(null==t?void 0:t.hasAttribute("title"))&&((0,c._)(this,u$,!0),null==t||t.removeAttribute("title"))}function uY(){let t=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(t),(0,f.setAttribute)(this.el,"data-orientation",t),(0,_._)(this,uC,u1).call(this)}function uJ(){this.$state.canPlay()&&(0,o._)(this,uS)?this.canPlayQueue.start():this.canPlayQueue.stop()}function uZ(){if(uB[hW]){this.setAttributes(uB[hW]);return}let t={"data-load":function(){return this.$props.load()},"data-captions":function(){let t=this.$state.textTrack();return!!t&&tE(t)},"data-ios-controls":function(){return this.$state.iOSControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){let{canLoad:t,canPlay:e,waiting:i}=this.$state;return t()&&(!e()||i())},"data-error":function(){let{error:t}=this.$state;return!!t()},"data-autoplay-error":function(){let{autoPlayError:t}=this.$state;return!!t()}},e={autoPlay:"autoplay",canAirPlay:"can-airplay",canPictureInPicture:"can-pip",pictureInPicture:"pip",playsInline:"playsinline",remotePlaybackState:"remote-state",remotePlaybackType:"remote-type",isAirPlayConnected:"airplay",isGoogleCastConnected:"google-cast"};for(let s of h$){var i;t["data-"+(null!==(i=e[s])&&void 0!==i?i:(0,f.camelToKebabCase)(s))]=function(){return this.$state[s]()}}delete t.title,uB[hW]=t,this.setAttributes(t)}function u0(t){t.detail(this)}function u1(){if(m||!this.el)return;let t=this.el.clientWidth,e=this.el.clientHeight;this.$state.width.set(t),this.$state.height.set(e),(0,f.setStyle)(this.el,"--player-width",t+"px"),(0,f.setStyle)(this.el,"--player-height",e+"px")}function u2(t){if(m)return;let e=t.matches?"coarse":"fine";(0,f.setAttribute)(this.el,"data-pointer",e),this.$state.pointer.set(e),(0,_._)(this,uC,u1).call(this)}function u3(){(0,_._)(this,uD,u5).call(this,this.$props.paused())}function u5(t){t?this.canPlayQueue.enqueue("paused",()=>(0,o._)(this,uy).pause()):this.canPlayQueue.enqueue("paused",()=>(0,o._)(this,uy).play())}function u9(){(0,_._)(this,uL,u4).call(this,this.$props.muted())}function u4(t){this.canPlayQueue.enqueue("muted",()=>{(0,o._)(this,uS)&&(0,o._)(this,uS).setMuted(t)})}function u6(){(0,_._)(this,uF,u7).call(this,this.$props.currentTime())}function u7(t){this.canPlayQueue.enqueue("currentTime",()=>{let{currentTime:e}=this.$state;t!==(0,f.peek)(e)&&(0,f.peek)(()=>{if(!(0,o._)(this,uS))return;let e=tN(t,this.$state);Number.isFinite(e)&&(0,o._)(this,uS).setCurrentTime(e)})})}function u8(){(0,_._)(this,uR,ct).call(this,this.$props.volume())}function ct(t){let e=er(0,t,1);this.canPlayQueue.enqueue("volume",()=>{(0,o._)(this,uS)&&(0,o._)(this,uS).setVolume(e)})}function ce(){(0,_._)(this,uG,ci).call(this,this.$props.playbackRate())}function ci(t){this.canPlayQueue.enqueue("rate",()=>{var e,i;(0,o._)(this,uS)&&(null===(e=(i=(0,o._)(this,uS)).setPlaybackRate)||void 0===e||e.call(i,t))})}function cs(){(0,_._)(this,uK,cn).call(this,this.$props.playsInline())}function cn(t){this.canPlayQueue.enqueue("playsinline",()=>{var e,i;(0,o._)(this,uS)&&(null===(e=(i=(0,o._)(this,uS)).setPlaysInline)||void 0===e||e.call(i,t))})}function ca(){let t=this.$props.storage(),e=(0,f.isString)(t)?new tZ:t;if(null==e?void 0:e.onChange){var i;let{source:s}=this.$state,n=(0,f.isString)(t)?t:null===(i=this.el)||void 0===i?void 0:i.id,a=(0,f.computed)((0,_._)(this,uH,cl).bind(this));(0,f.effect)(()=>e.onChange(s(),a(),n||void 0))}(0,o._)(this,ub).storage=e,(0,o._)(this,ub).textTracks.setStorage(e),(0,f.onDispose)(()=>{var t;null==e||null===(t=e.onDestroy)||void 0===t||t.call(e),(0,o._)(this,ub).storage=null,(0,o._)(this,ub).textTracks.setStorage(null)})}function cl(){let{clipStartTime:t,clipEndTime:e}=this.$props,{source:i}=this.$state,s=i();return s.src?"".concat(s.src,":").concat(t(),":").concat(e()):null}uB.props={artist:"",artwork:null,autoplay:!1,autoPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,currentTime:0,crossorigin:null,crossOrigin:null,duration:-1,fullscreenOrientation:"landscape",googleCast:{},load:"visible",posterLoad:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playsInline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:{togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},storage:null},uB.state=tq;let ch=uB.prototype;(0,f.prop)(ch,"canPlayQueue"),(0,f.prop)(ch,"remoteControl"),(0,f.prop)(ch,"provider"),(0,f.prop)(ch,"controls"),(0,f.prop)(ch,"orientation"),(0,f.prop)(ch,"title"),(0,f.prop)(ch,"qualities"),(0,f.prop)(ch,"audioTracks"),(0,f.prop)(ch,"textTracks"),(0,f.prop)(ch,"textRenderers"),(0,f.prop)(ch,"duration"),(0,f.prop)(ch,"paused"),(0,f.prop)(ch,"muted"),(0,f.prop)(ch,"currentTime"),(0,f.prop)(ch,"volume"),(0,f.prop)(ch,"playbackRate"),(0,f.method)(ch,"play"),(0,f.method)(ch,"pause"),(0,f.method)(ch,"enterFullscreen"),(0,f.method)(ch,"exitFullscreen"),(0,f.method)(ch,"enterPictureInPicture"),(0,f.method)(ch,"exitPictureInPicture"),(0,f.method)(ch,"seekToLiveEdge"),(0,f.method)(ch,"startLoading"),(0,f.method)(ch,"startLoadingPoster"),(0,f.method)(ch,"requestAirPlay"),(0,f.method)(ch,"requestGoogleCast"),(0,f.method)(ch,"setAudioGain");let cr=new Map;var co=new WeakMap,cu=new WeakMap,cc=new WeakMap,cd=new WeakMap,c_=new WeakMap,cp=new WeakSet,cv=new WeakSet,cf=new WeakSet,cw=new WeakSet,cg=new WeakSet,cm=new WeakSet,cb=new WeakSet,ck=new WeakSet;class cy{connect(){let t=(0,o._)(this,c_).call(this);(0,o._)(this,co)&&((0,_._)(this,cw,cM).call(this,(0,o._)(this,cd).$state.source(),t),(0,_._)(this,cg,cx).call(this,t),(0,c._)(this,co,!1)),(0,f.effect)((0,_._)(this,cp,cS).bind(this)),(0,f.effect)((0,_._)(this,cv,cW).bind(this)),(0,f.effect)((0,_._)(this,cm,cT).bind(this)),(0,f.effect)((0,_._)(this,cb,cP).bind(this)),(0,f.effect)((0,_._)(this,ck,cA).bind(this))}constructor(t,e,i,s=[]){(0,p._)(this,cp),(0,p._)(this,cv),(0,p._)(this,cf),(0,p._)(this,cw),(0,p._)(this,cg),(0,p._)(this,cm),(0,p._)(this,cb),(0,p._)(this,ck),(0,u._)(this,co,{writable:!0,value:void 0}),(0,u._)(this,cu,{writable:!0,value:void 0}),(0,u._)(this,cc,{writable:!0,value:void 0}),(0,u._)(this,cd,{writable:!0,value:void 0}),(0,u._)(this,c_,{writable:!0,value:void 0}),(0,c._)(this,co,!1),(0,c._)(this,cc,t),(0,c._)(this,cd,e),(0,c._)(this,c_,i);let n=new hw,a=new sI,l=new sL,h=new sO,r=[new hm,new hg];(0,c._)(this,cu,(0,f.computed)(()=>{let t=e.$state.remotePlaybackLoader(),i=e.$props.preferNativeHLS()?[l,h,n,a,...r,...s]:[a,l,h,n,...r,...s];return t?[t,...i]:i}));let{$state:d}=e;for(let t of(d.sources.set(cC(e.$props.src())),d.sources())){let i=(0,o._)(this,cu).call(this).find(e=>e.canPlay(t));if(!i)continue;let s=i.mediaType(t);e.$state.source.set(t),e.$state.mediaType.set(s),e.$state.inferredViewType.set(s),(0,o._)(this,c_).set(i),(0,c._)(this,co,!0);break}}}function cS(){(0,o._)(this,cd).notify("sources-change",[...cC((0,o._)(this,cd).$props.src()),...(0,o._)(this,cc).call(this)])}function cW(){var t;let{$state:e}=(0,o._)(this,cd),i=e.sources(),s=(0,f.peek)(e.source),n=(0,_._)(this,cf,c$).call(this,s,i);if((null===(t=i[0])||void 0===t?void 0:t.src)&&!n.src&&!n.type){let{crossOrigin:t}=e,s=tt(t()),n=new AbortController;return Promise.all(i.map(t=>(0,f.isString)(t.src)&&"?"===t.type?fetch(t.src,{method:"HEAD",credentials:s,signal:n.signal}).then(e=>(t.type=e.headers.get("content-type")||"??",cr.set(t.src,t.type),t)).catch(()=>t):t)).then(t=>{if(n.signal.aborted)return;let i=(0,_._)(this,cf,c$).call(this,(0,f.peek)(e.source),t);(0,f.tick)(),i.src||(0,o._)(this,cd).notify("error",{message:"Failed to load resource.",code:4})}),()=>n.abort()}(0,f.tick)()}function c$(t,e){let i={src:"",type:""},s=null,n=new f.DOMEvent("sources-change",{detail:{sources:e}}),a=(0,o._)(this,cu).call(this),{started:l,paused:h,currentTime:r,quality:u,savedState:c}=(0,o._)(this,cd).$state;for(let t of e){let e=a.find(e=>e.canPlay(t));if(e){i=t,s=e;break}}if(g(i)){let t=u(),s=e.find(e=>e.src===(null==t?void 0:t.src));(0,f.peek)(l)?c.set({paused:(0,f.peek)(h),currentTime:(0,f.peek)(r)}):c.set(null),s&&(i=s,n=new f.DOMEvent("quality-change",{detail:{quality:t}}))}return cq(t,i)||(0,_._)(this,cw,cM).call(this,i,s,n),s!==(0,f.peek)((0,o._)(this,c_))&&(0,_._)(this,cg,cx).call(this,s,n),i}function cM(t,e,i){(0,o._)(this,cd).notify("source-change",t,i),(0,o._)(this,cd).notify("media-type-change",(null==e?void 0:e.mediaType(t))||"unknown",i)}function cx(t,e){(0,o._)(this,cd).$providerSetup.set(!1),(0,o._)(this,cd).notify("provider-change",null,e),t&&(0,f.peek)(()=>{var e;return null===(e=t.preconnect)||void 0===e?void 0:e.call(t,(0,o._)(this,cd))}),(0,o._)(this,c_).set(t),(0,o._)(this,cd).notify("provider-loader-change",t,e)}function cT(){let t=(0,o._)(this,cd).$provider();if(!(!t||(0,f.peek)((0,o._)(this,cd).$providerSetup))){if((0,o._)(this,cd).$state.canLoad()){(0,f.scoped)(()=>t.setup(),t.scope),(0,o._)(this,cd).$providerSetup.set(!0);return}(0,f.peek)(()=>{var e;return null===(e=t.preconnect)||void 0===e?void 0:e.call(t)})}}function cP(){if(!(0,o._)(this,cd).$providerSetup())return;let t=(0,o._)(this,cd).$provider(),e=(0,o._)(this,cd).$state.source(),i=(0,f.peek)((0,o._)(this,cd).$state.crossOrigin),s=(0,f.peek)((0,o._)(this,cd).$props.preferNativeHLS);if(!cq(null==t?void 0:t.currentSrc,e)){if((0,o._)(this,cd).$state.canLoad()){let n=new AbortController;return B(e)?(s||!E())&&(function t(e,i){return fetch(e,i).then(t=>t.text()).then(s=>{let n=function(t){let e=t.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return e?e[0].split("\n")[1].trim():null}(s);if(n)return t(/^https?:/.test(n)?n:new URL(n,e).href,i);let a=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(s)?"on-demand":"live";return"live"===a&&function(t){for(let e of t.split("\n"))if(e.startsWith("#EXT-X-TARGETDURATION")){let t=parseFloat(e.split(":")[1]);if(!isNaN(t))return t}return -1}(s)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(s)||s.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":a})})(e.src,{credentials:tt(i),signal:n.signal}).then(t=>{(0,o._)(this,cd).notify("stream-type-change",t)}).catch(f.noop):Q(e)?fetch(e.src,{credentials:tt(i),signal:n.signal}).then(t=>t.text()).then(t=>/type="static"/.test(t)?"on-demand":"live").then(t=>{(0,o._)(this,cd).notify("stream-type-change",t)}).catch(f.noop):(0,o._)(this,cd).notify("stream-type-change","on-demand"),(0,f.peek)(()=>{let i=(0,f.peek)((0,o._)(this,cd).$state.preload);return null==t?void 0:t.loadSource(e,i).catch(t=>{})}),()=>n.abort()}try{(0,f.isString)(e.src)&&Y(new URL(e.src).origin)}catch(t){}}}function cA(){let t=(0,o._)(this,c_).call(this),{providedPoster:e,source:i,canLoadPoster:s}=(0,o._)(this,cd).$state;if(!t||!t.loadPoster||!i()||!s()||e())return;let n=new AbortController,a=new f.DOMEvent("source-change",{detail:i});return t.loadPoster(i(),(0,o._)(this,cd),n).then(t=>{(0,o._)(this,cd).notify("poster-change",t||"",a)}).catch(()=>{(0,o._)(this,cd).notify("poster-change","",a)}),()=>{n.abort()}}function cC(t){return((0,f.isArray)(t)?t:[t]).map(t=>(0,f.isString)(t)?{src:t,type:cE(t)}:{...t,type:cE(t.src,t.type)})}function cE(t,e){if((0,f.isString)(e)&&e.length)return e;if((0,f.isString)(t)&&cr.has(t))return cr.get(t);if(!e&&B({src:t,type:""}))return"application/x-mpegurl";if(!e&&Q({src:t,type:""}))return"application/dash+xml";if(!(0,f.isString)(t)||t.startsWith("blob:"))return"video/object";if(t.includes("youtube")||t.includes("youtu.be"))return"video/youtube";if(t.includes("vimeo")&&!t.includes("progressive_redirect")&&!t.includes(".m3u8"))return"video/vimeo";return"?"}function cq(t,e){return(null==t?void 0:t.src)===(null==e?void 0:e.src)&&(null==t?void 0:t.type)===(null==e?void 0:e.type)}var cD=new WeakMap,cO=new WeakMap,cL=new WeakMap,cI=new WeakSet;class cF{constructor(t,e){(0,p._)(this,cI),(0,u._)(this,cD,{writable:!0,value:void 0}),(0,u._)(this,cO,{writable:!0,value:void 0}),(0,u._)(this,cL,{writable:!0,value:void 0}),(0,c._)(this,cL,[]),(0,c._)(this,cD,t),(0,c._)(this,cO,e),(0,f.effect)((0,_._)(this,cI,cV).bind(this))}}function cV(){let t=(0,o._)(this,cD).call(this);for(let e of(0,o._)(this,cL))if(!t.some(t=>t.id===e.id)){let t=e.id&&(0,o._)(this,cO).textTracks.getById(e.id);t&&(0,o._)(this,cO).textTracks.remove(t)}for(let e of t){let t=e.id||tW.createId(e);(0,o._)(this,cO).textTracks.getById(t)||(e.id=t,(0,o._)(this,cO).textTracks.add(e))}(0,c._)(this,cL,t)}var cR=new WeakMap,cN=new WeakMap,cG=new WeakMap,cj=new WeakMap,cK=new WeakMap,cU=new WeakMap,cH=new WeakSet,cB=new WeakSet,cQ=new WeakSet,cz=new WeakSet;class cX extends f.Component{onSetup(){(0,c._)(this,cR,tj()),(0,c._)(this,cN,new cy((0,o._)(this,cG),(0,o._)(this,cR),this.$state.loader,this.$props.loaders()))}onAttach(t){t.setAttribute("data-media-provider","")}onConnect(t){(0,o._)(this,cN).connect(),new cF((0,o._)(this,cj),(0,o._)(this,cR));let e=new ResizeObserver((0,f.animationFrameThrottle)((0,_._)(this,cQ,cZ).bind(this)));e.observe(t);let i=new MutationObserver((0,_._)(this,cz,c0).bind(this));i.observe(t,{attributes:!0,childList:!0}),(0,_._)(this,cQ,cZ).call(this),(0,_._)(this,cz,c0).call(this),(0,f.onDispose)(()=>{e.disconnect(),i.disconnect()})}load(t){null==t||t.setAttribute("aria-hidden","true"),window.cancelAnimationFrame((0,o._)(this,cU)),(0,c._)(this,cU,requestAnimationFrame(()=>(0,_._)(this,cH,cY).call(this,t))),(0,f.onDispose)(()=>{window.cancelAnimationFrame((0,o._)(this,cU))})}onDestroy(){(0,c._)(this,cK,null),(0,_._)(this,cB,cJ).call(this)}constructor(...t){super(...t),(0,p._)(this,cH),(0,p._)(this,cB),(0,p._)(this,cQ),(0,p._)(this,cz),(0,u._)(this,cR,{writable:!0,value:void 0}),(0,u._)(this,cN,{writable:!0,value:void 0}),(0,u._)(this,cG,{writable:!0,value:void 0}),(0,u._)(this,cj,{writable:!0,value:void 0}),(0,u._)(this,cK,{writable:!0,value:void 0}),(0,u._)(this,cU,{writable:!0,value:void 0}),(0,c._)(this,cG,(0,f.signal)([])),(0,c._)(this,cj,(0,f.signal)([])),(0,c._)(this,cK,null),(0,c._)(this,cU,-1)}}function cY(t){if(!this.scope)return;let e=this.$state.loader(),{$provider:i}=(0,o._)(this,cR);!((0,o._)(this,cK)===e&&(null==e?void 0:e.target)===t&&(0,f.peek)(i))&&((0,_._)(this,cB,cJ).call(this),(0,c._)(this,cK,e),e&&(e.target=t||null),e&&t&&e.load((0,o._)(this,cR)).then(t=>{this.scope&&(0,f.peek)(this.$state.loader)===e&&(0,o._)(this,cR).notify("provider-change",t)}))}function cJ(){var t;null===(t=(0,o._)(this,cR))||void 0===t||t.notify("provider-change",null)}function cZ(){if(!this.el)return;let{player:t,$state:e}=(0,o._)(this,cR),i=this.el.offsetWidth,s=this.el.offsetHeight;t&&(e.mediaWidth.set(i),e.mediaHeight.set(s),t.el&&((0,f.setStyle)(t.el,"--media-width",i+"px"),(0,f.setStyle)(t.el,"--media-height",s+"px")))}function c0(){let t=[],e=[];for(let i of this.el.children)if(!i.hasAttribute("data-vds")){if(i instanceof HTMLSourceElement){let e={id:i.id,src:i.src,type:i.type};for(let t of["id","src","width","height","bitrate","codec"]){let s=i.getAttribute("data-".concat(t));(0,f.isString)(s)&&(e[t]=/id|src|codec/.test(t)?s:Number(s))}t.push(e)}else if(i instanceof HTMLTrackElement){let t={src:i.src,kind:i.track.kind,language:i.srclang,label:i.label,default:i.default,type:i.getAttribute("data-type")};e.push({id:i.id||tW.createId(t),...t})}}(0,o._)(this,cG).set(t),(0,o._)(this,cj).set(e),(0,f.tick)()}cX.props={loaders:[]},cX.state=new f.State({loader:null});let c1=cX.prototype;(0,f.method)(c1,"load");var c2=new WeakMap,c3=new WeakMap,c5=new WeakSet,c9=new WeakSet,c4=new WeakSet,c6=new WeakSet,c7=new WeakSet,c8=new WeakMap,dt=new WeakMap,de=new WeakSet,di=new WeakSet,ds=new WeakSet,dn=new WeakSet;class da extends f.Component{onSetup(){(0,c._)(this,c2,tj())}onAttach(t){t.style.display="contents"}onConnect(t){t.setAttribute("data-media-announcer",""),ec(t,"role","status"),ec(t,"aria-live","polite");let{busy:e}=this.$state;this.setAttributes({"aria-busy":()=>e()?"true":null}),(0,c._)(this,c3,!0),(0,f.effect)((0,_._)(this,c5,dl).bind(this)),(0,f.effect)((0,_._)(this,c7,dc).bind(this)),(0,f.effect)((0,_._)(this,c6,du).bind(this)),(0,f.effect)((0,_._)(this,c9,dh).bind(this)),(0,f.effect)((0,_._)(this,c4,dr).bind(this)),(0,f.effect)((0,_._)(this,de,dd).bind(this)),(0,f.effect)((0,_._)(this,ds,dp).bind(this)),(0,f.tick)(),(0,c._)(this,c3,!1)}constructor(...t){super(...t),(0,p._)(this,c5),(0,p._)(this,c9),(0,p._)(this,c4),(0,p._)(this,c6),(0,p._)(this,c7),(0,p._)(this,de),(0,p._)(this,di),(0,p._)(this,ds),(0,p._)(this,dn),(0,u._)(this,c2,{writable:!0,value:void 0}),(0,u._)(this,c3,{writable:!0,value:void 0}),(0,u._)(this,c8,{writable:!0,value:void 0}),(0,u._)(this,dt,{writable:!0,value:void 0}),(0,c._)(this,c3,!1),(0,c._)(this,c8,-1),(0,c._)(this,dt,-1)}}function dl(){let{paused:t}=(0,o._)(this,c2).$state;(0,_._)(this,dn,dv).call(this,t()?"Pause":"Play")}function dh(){let{fullscreen:t}=(0,o._)(this,c2).$state;(0,_._)(this,dn,dv).call(this,t()?"Enter Fullscreen":"Exit Fullscreen")}function dr(){let{pictureInPicture:t}=(0,o._)(this,c2).$state;(0,_._)(this,dn,dv).call(this,t()?"Enter PiP":"Exit PiP")}function du(){let{textTrack:t}=(0,o._)(this,c2).$state;(0,_._)(this,dn,dv).call(this,t()?"Closed-Captions On":"Closed-Captions Off")}function dc(){var t;let{muted:e,volume:i,audioGain:s}=(0,o._)(this,c2).$state;(0,_._)(this,dn,dv).call(this,e()||0===i()?"Mute":"".concat(Math.round(i()*(null!==(t=s())&&void 0!==t?t:1)*100),"% ").concat((0,_._)(this,di,d_).call(this,"Volume")))}function dd(){let{seeking:t,currentTime:e}=(0,o._)(this,c2).$state,i=t();(0,o._)(this,c8)>0?(window.clearTimeout((0,o._)(this,dt)),(0,c._)(this,dt,window.setTimeout(()=>{if(!this.scope)return;let t=(0,f.peek)(e),i=Math.abs(t-(0,o._)(this,c8));if(i>=1){let e=t>=(0,o._)(this,c8),s=hS(i);(0,_._)(this,dn,dv).call(this,"".concat((0,_._)(this,di,d_).call(this,e?"Seek Forward":"Seek Backward")," ").concat(s))}(0,c._)(this,c8,-1),(0,c._)(this,dt,-1)},300))):i&&(0,c._)(this,c8,(0,f.peek)(e))}function d_(t){var e,i;let{translations:s}=this.$props;return null!==(i=null==s?void 0:null===(e=s())||void 0===e?void 0:e[t||""])&&void 0!==i?i:t}function dp(){let{label:t,busy:e}=this.$state,i=(0,_._)(this,di,d_).call(this,t());if((0,o._)(this,c3))return;e.set(!0);let s=window.setTimeout(()=>void e.set(!1),150);return this.el&&(0,f.setAttribute)(this.el,"aria-label",i),(0,f.isString)(i)&&this.dispatch("change",{detail:i}),()=>window.clearTimeout(s)}function dv(t){let{label:e}=this.$state;e.set(t)}da.props={translations:null},da.state=new f.State({label:null,busy:!1});var df=new WeakMap,dw=new WeakSet,dg=new WeakSet,dm=new WeakSet;class db extends f.Component{onSetup(){(0,c._)(this,df,tj()),(0,f.effect)((0,_._)(this,dg,dy).bind(this))}onAttach(t){let{pictureInPicture:e,fullscreen:i}=(0,o._)(this,df).$state;(0,f.setStyle)(t,"pointer-events","none"),ec(t,"role","group"),this.setAttributes({"data-visible":(0,_._)(this,dm,dS).bind(this),"data-fullscreen":i,"data-pip":e}),(0,f.effect)(()=>{this.dispatch("change",{detail:(0,_._)(this,dm,dS).call(this)})}),(0,f.effect)((0,_._)(this,dw,dk).bind(this)),(0,f.effect)(()=>{let e=i();for(let i of["top","right","bottom","left"])(0,f.setStyle)(t,"padding-".concat(i),e&&"env(safe-area-inset-".concat(i,")"))})}constructor(...t){super(...t),(0,p._)(this,dw),(0,p._)(this,dg),(0,p._)(this,dm),(0,u._)(this,df,{writable:!0,value:void 0})}}function dk(){if(!this.el)return;let{nativeControls:t}=(0,o._)(this,df).$state,e=t();(0,f.setAttribute)(this.el,"aria-hidden",e?"true":null),(0,f.setStyle)(this.el,"display",e?"none":null)}function dy(){let{controls:t}=(0,o._)(this,df).player,{hideDelay:e,hideOnMouseLeave:i}=this.$props;t.defaultDelay=2e3===e()?(0,o._)(this,df).$props.controlsDelay():e(),t.hideOnMouseLeave=i()}function dS(){let{controlsVisible:t}=(0,o._)(this,df).$state;return t()}db.props={hideDelay:2e3,hideOnMouseLeave:!1};class dW extends f.Component{onAttach(t){t.style.pointerEvents||(0,f.setStyle)(t,"pointer-events","auto")}}var d$=new WeakMap,dM=new WeakSet,dx=new WeakMap,dT=new WeakMap,dP=new WeakMap,dA=new WeakSet;class dC extends f.ViewController{onDestroy(){var t;null===(t=(0,o._)(this,dP))||void 0===t||t.call(this),(0,c._)(this,dP,null)}show(t){var e,i,s,n;(0,_._)(this,dA,dq).call(this),window.cancelAnimationFrame((0,o._)(this,dT)),(0,c._)(this,dT,-1),null===(s=(0,o._)(this,dP))||void 0===s||s.call(this),(0,c._)(this,dP,null),(0,c._)(this,dx,window.setTimeout(()=>{(0,c._)(this,dx,-1);let e=(0,o._)(this,d$).content();e&&e.style.removeProperty("display"),(0,f.peek)(()=>(0,o._)(this,d$).onChange(!0,t))},null!==(n=null===(e=(i=(0,o._)(this,d$)).showDelay)||void 0===e?void 0:e.call(i))&&void 0!==n?n:0))}hide(t){var e,i;(0,_._)(this,dA,dq).call(this),(0,f.peek)(()=>(0,o._)(this,d$).onChange(!1,t)),(0,c._)(this,dT,requestAnimationFrame(()=>{(0,_._)(this,dA,dq).call(this),(0,c._)(this,dT,-1);let t=(0,o._)(this,d$).content();if(t){let s=()=>{t.style.display="none",(0,c._)(this,dP,null)};if("none"!==getComputedStyle(t).animationName){null===(e=(0,o._)(i=this,dP))||void 0===e||e.call(i);let n=(0,f.listenEvent)(t,"animationend",s,{once:!0});(0,c._)(this,dP,n)}else s()}}))}constructor(t){super(),(0,p._)(this,dM),(0,p._)(this,dA),(0,u._)(this,d$,{writable:!0,value:void 0}),(0,u._)(this,dx,{writable:!0,value:void 0}),(0,u._)(this,dT,{writable:!0,value:void 0}),(0,u._)(this,dP,{writable:!0,value:void 0}),(0,c._)(this,dx,-1),(0,c._)(this,dT,-1),(0,c._)(this,dP,null),(0,c._)(this,d$,t),(0,f.effect)((0,_._)(this,dM,dE).bind(this))}}function dE(){let t=(0,o._)(this,d$).trigger();if(!t){this.hide();return}let e=this.show.bind(this),i=this.hide.bind(this);(0,o._)(this,d$).listen(t,e,i)}function dq(){window.clearTimeout((0,o._)(this,dx)),(0,c._)(this,dx,-1)}let dD=(0,f.createContext)(),dO=0;var dL=new WeakMap,dI=new WeakMap,dF=new WeakMap,dV=new WeakMap,dR=new WeakSet,dN=new WeakSet,dG=new WeakSet,dj=new WeakSet,dK=new WeakSet;class dU extends f.Component{onAttach(t){t.style.setProperty("display","contents")}onSetup(){(0,f.provideContext)(dD,{trigger:(0,o._)(this,dI),content:(0,o._)(this,dF),showing:(0,o._)(this,dV),attachTrigger:(0,_._)(this,dR,dH).bind(this),detachTrigger:(0,_._)(this,dN,dB).bind(this),attachContent:(0,_._)(this,dG,dQ).bind(this),detachContent:(0,_._)(this,dj,dz).bind(this)})}constructor(){super(),(0,p._)(this,dR),(0,p._)(this,dN),(0,p._)(this,dG),(0,p._)(this,dj),(0,p._)(this,dK),(0,u._)(this,dL,{writable:!0,value:void 0}),(0,u._)(this,dI,{writable:!0,value:void 0}),(0,u._)(this,dF,{writable:!0,value:void 0}),(0,u._)(this,dV,{writable:!0,value:void 0}),(0,c._)(this,dL,"media-tooltip-".concat(++dO)),(0,c._)(this,dI,(0,f.signal)(null)),(0,c._)(this,dF,(0,f.signal)(null)),(0,c._)(this,dV,(0,f.signal)(!1)),new u_;let{showDelay:t}=this.$props;new dC({trigger:(0,o._)(this,dI),content:(0,o._)(this,dF),showDelay:t,listen(t,e,i){(0,f.effect)(()=>{uh()&&(0,f.listenEvent)(t,"focus",e),(0,f.listenEvent)(t,"blur",i)}),new f.EventsController(t).add("touchstart",t=>t.preventDefault(),{passive:!1}).add("mouseenter",e).add("mouseleave",i)},onChange:(0,_._)(this,dK,dX).bind(this)})}}function dH(t){(0,o._)(this,dI).set(t);let e=t.getAttribute("data-media-tooltip");if(e){var i;null===(i=this.el)||void 0===i||i.setAttribute("data-media-".concat(e,"-tooltip"),"")}(0,f.setAttribute)(t,"data-describedby",(0,o._)(this,dL))}function dB(t){t.removeAttribute("data-describedby"),t.removeAttribute("aria-describedby"),(0,o._)(this,dI).set(null)}function dQ(t){t.setAttribute("id",(0,o._)(this,dL)),t.style.display="none",ec(t,"role","tooltip"),(0,o._)(this,dF).set(t)}function dz(t){t.removeAttribute("id"),t.removeAttribute("role"),(0,o._)(this,dF).set(null)}function dX(t){let e=(0,o._)(this,dI).call(this),i=(0,o._)(this,dF).call(this);for(let s of(e&&(0,f.setAttribute)(e,"aria-describedby",t?(0,o._)(this,dL):null),[this.el,e,i]))s&&(0,f.setAttribute)(s,"data-visible",t);(0,o._)(this,dV).set(t)}dU.props={showDelay:700};var dY=new WeakSet,dJ=new WeakSet;class dZ extends f.Component{onConnect(t){(0,f.onDispose)(eg(()=>{if(!this.connectScope)return;(0,_._)(this,dY,d0).call(this);let t=(0,f.useContext)(dD);(0,f.onDispose)(()=>{let e=(0,_._)(this,dJ,d1).call(this);e&&t.detachTrigger(e)})}))}constructor(){super(),(0,p._)(this,dY),(0,p._)(this,dJ),new u_}}function d0(){let t=(0,_._)(this,dJ,d1).call(this),e=(0,f.useContext)(dD);t&&e.attachTrigger(t)}function d1(){let t=this.el.firstElementChild;return(null==t?void 0:t.localName)==="button"||(null==t?void 0:t.getAttribute("role"))==="button"?t:this.el}var d2=new WeakSet,d3=new WeakSet,d5=new WeakSet;class d9 extends f.Component{onAttach(t){(0,_._)(this,d2,d4).call(this,t),Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){(0,_._)(this,d2,d4).call(this,t);let e=(0,f.useContext)(dD);(0,f.onDispose)(()=>e.detachContent(t)),(0,f.onDispose)(eg(()=>{this.connectScope&&(0,f.effect)((0,_._)(this,d3,d6).bind(this))}))}constructor(){super(),(0,p._)(this,d2),(0,p._)(this,d3),(0,p._)(this,d5),new u_;let{placement:t}=this.$props;this.setAttributes({"data-placement":t})}}function d4(t){(0,f.useContext)(dD).attachContent(t)}function d6(){let{showing:t}=(0,f.useContext)(dD);if(!t())return;let{placement:e,offset:i,alignOffset:s}=this.$props;return em(this.el,(0,_._)(this,d5,d7).call(this),e(),{offsetVarName:"media-tooltip",xOffset:s(),yOffset:i()})}function d7(){return(0,f.useContext)(dD).trigger()}d9.props={placement:"top center",offset:0,alignOffset:0};var d8=new WeakMap,_t=new WeakSet,_e=new WeakSet,_i=new WeakSet,_s=new WeakSet;class _n extends f.ViewController{onSetup(){let{disabled:t}=this.$props;this.setAttributes({"data-pressed":(0,o._)(this,d8).isPresssed,"aria-pressed":(0,_._)(this,_t,_a).bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){ec(t,"tabindex","0"),ec(t,"role","button"),ec(t,"type","button")}onConnect(t){let e=ef(t,(0,_._)(this,_i,_h).bind(this));for(let t of["click","touchstart"])e.add(t,(0,_._)(this,_s,_r).bind(this),{passive:!0})}constructor(t){super(),(0,p._)(this,_t),(0,p._)(this,_e),(0,p._)(this,_i),(0,p._)(this,_s),(0,u._)(this,d8,{writable:!0,value:void 0}),(0,c._)(this,d8,t),new u_,t.keyShortcut&&new ij(t.keyShortcut)}}function _a(){return(0,f.ariaBool)((0,o._)(this,d8).isPresssed())}function _l(t){(0,f.isWriteSignal)((0,o._)(this,d8).isPresssed)&&(0,o._)(this,d8).isPresssed.set(t=>!t)}function _h(t){var e;if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){t.preventDefault(),t.stopImmediatePropagation();return}t.preventDefault(),(null!==(e=(0,o._)(this,d8).onPress)&&void 0!==e?e:(0,_._)(this,_e,_l)).call(this,t)}function _r(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())}_n.props={disabled:!1};var _o=new WeakMap;class _u extends f.Component{get pressed(){return(0,o._)(this,_o).call(this)}constructor(){super(),(0,u._)(this,_o,{writable:!0,value:void 0}),(0,c._)(this,_o,(0,f.signal)(!1)),new _n({isPresssed:(0,o._)(this,_o)})}}_u.props={disabled:!1,defaultPressed:!1};let _c=_u.prototype;function _d(t){return()=>t()?"true":"false"}(0,f.prop)(_c,"pressed");var __=new WeakMap,_p=new WeakSet,_v=new WeakSet,_f=new WeakSet,_w=new WeakSet;class _g extends f.Component{onSetup(){(0,c._)(this,__,tj());let{canAirPlay:t,isAirPlayConnected:e}=(0,o._)(this,__).$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":(0,_._)(this,_f,_k).bind(this),"aria-hidden":_d(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","airplay"),ed(t,(0,_._)(this,_w,_y).bind(this))}constructor(){super(),(0,p._)(this,_p),(0,p._)(this,_v),(0,p._)(this,_f),(0,p._)(this,_w),(0,u._)(this,__,{writable:!0,value:void 0}),new _n({isPresssed:(0,_._)(this,_v,_b).bind(this),onPress:(0,_._)(this,_p,_m).bind(this)})}}function _m(t){(0,o._)(this,__).remote.requestAirPlay(t)}function _b(){let{remotePlaybackType:t,remotePlaybackState:e}=(0,o._)(this,__).$state;return"airplay"===t()&&"disconnected"!==e()}function _k(){let{remotePlaybackType:t,remotePlaybackState:e}=(0,o._)(this,__).$state;return"airplay"===t()&&e()}function _y(){let{remotePlaybackState:t}=(0,o._)(this,__).$state;return"AirPlay ".concat(t())}_g.props=_n.props;var _S=new WeakMap,_W=new WeakSet,_$=new WeakSet,_M=new WeakSet,_x=new WeakSet;class _T extends f.Component{onSetup(){(0,c._)(this,_S,tj());let{canGoogleCast:t,isGoogleCastConnected:e}=(0,o._)(this,_S).$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":(0,_._)(this,_M,_C).bind(this),"aria-hidden":_d(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","google-cast"),ed(t,(0,_._)(this,_x,_E).bind(this))}constructor(){super(),(0,p._)(this,_W),(0,p._)(this,_$),(0,p._)(this,_M),(0,p._)(this,_x),(0,u._)(this,_S,{writable:!0,value:void 0}),new _n({isPresssed:(0,_._)(this,_$,_A).bind(this),onPress:(0,_._)(this,_W,_P).bind(this)})}}function _P(t){(0,o._)(this,_S).remote.requestGoogleCast(t)}function _A(){let{remotePlaybackType:t,remotePlaybackState:e}=(0,o._)(this,_S).$state;return"google-cast"===t()&&"disconnected"!==e()}function _C(){let{remotePlaybackType:t,remotePlaybackState:e}=(0,o._)(this,_S).$state;return"google-cast"===t()&&e()}function _E(){let{remotePlaybackState:t}=(0,o._)(this,_S).$state;return"Google Cast ".concat(t())}_T.props=_n.props;var _q=new WeakMap,_D=new WeakSet,_O=new WeakSet;class _L extends f.Component{onSetup(){(0,c._)(this,_q,tj());let{paused:t,ended:e}=(0,o._)(this,_q).$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),ed(t,"Play")}constructor(){super(),(0,p._)(this,_D),(0,p._)(this,_O),(0,u._)(this,_q,{writable:!0,value:void 0}),new _n({isPresssed:(0,_._)(this,_O,_F).bind(this),keyShortcut:"togglePaused",onPress:(0,_._)(this,_D,_I).bind(this)})}}function _I(t){let e=(0,o._)(this,_q).remote;(0,_._)(this,_O,_F).call(this)?e.pause(t):e.play(t)}function _F(){let{paused:t}=(0,o._)(this,_q).$state;return!t()}_L.props=_n.props;var _V=new WeakMap,_R=new WeakSet,_N=new WeakSet,_G=new WeakSet;class _j extends f.Component{onSetup(){(0,c._)(this,_V,tj()),this.setAttributes({"data-active":(0,_._)(this,_N,_U).bind(this),"data-supported":()=>!(0,_._)(this,_G,_H).call(this),"aria-hidden":_d((0,_._)(this,_G,_H).bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),ed(t,"Captions")}constructor(){super(),(0,p._)(this,_R),(0,p._)(this,_N),(0,p._)(this,_G),(0,u._)(this,_V,{writable:!0,value:void 0}),new _n({isPresssed:(0,_._)(this,_N,_U).bind(this),keyShortcut:"toggleCaptions",onPress:(0,_._)(this,_R,_K).bind(this)})}}function _K(t){(0,o._)(this,_V).remote.toggleCaptions(t)}function _U(){let{textTrack:t}=(0,o._)(this,_V).$state,e=t();return!!e&&tE(e)}function _H(){let{hasCaptions:t}=(0,o._)(this,_V).$state;return!t()}_j.props=_n.props;var _B=new WeakMap,_Q=new WeakSet,_z=new WeakSet,_X=new WeakSet;class _Y extends f.Component{onSetup(){(0,c._)(this,_B,tj());let{fullscreen:t}=(0,o._)(this,_B).$state,e=(0,_._)(this,_X,_0).bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":_d(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),ed(t,"Fullscreen")}constructor(){super(),(0,p._)(this,_Q),(0,p._)(this,_z),(0,p._)(this,_X),(0,u._)(this,_B,{writable:!0,value:void 0}),new _n({isPresssed:(0,_._)(this,_z,_Z).bind(this),keyShortcut:"toggleFullscreen",onPress:(0,_._)(this,_Q,_J).bind(this)})}}function _J(t){let e=(0,o._)(this,_B).remote,i=this.$props.target();(0,_._)(this,_z,_Z).call(this)?e.exitFullscreen(i,t):e.enterFullscreen(i,t)}function _Z(){let{fullscreen:t}=(0,o._)(this,_B).$state;return t()}function _0(){let{canFullscreen:t}=(0,o._)(this,_B).$state;return t()}_Y.props={..._n.props,target:"prefer-media"};var _1=new WeakMap,_2=new WeakSet,_3=new WeakSet,_5=new WeakSet;class _9 extends f.Component{onSetup(){(0,c._)(this,_1,tj()),this.setAttributes({"data-muted":(0,_._)(this,_3,_6).bind(this),"data-state":(0,_._)(this,_5,_7).bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),ed(t,"Mute")}constructor(){super(),(0,p._)(this,_2),(0,p._)(this,_3),(0,p._)(this,_5),(0,u._)(this,_1,{writable:!0,value:void 0}),new _n({isPresssed:(0,_._)(this,_3,_6).bind(this),keyShortcut:"toggleMuted",onPress:(0,_._)(this,_2,_4).bind(this)})}}function _4(t){let e=(0,o._)(this,_1).remote;(0,_._)(this,_3,_6).call(this)?e.unmute(t):e.mute(t)}function _6(){let{muted:t,volume:e}=(0,o._)(this,_1).$state;return t()||0===e()}function _7(){let{muted:t,volume:e}=(0,o._)(this,_1).$state,i=e();return t()||0===i?"muted":i>=.5?"high":i<.5?"low":void 0}_9.props=_n.props;var _8=new WeakMap,pt=new WeakSet,pe=new WeakSet,pi=new WeakSet;class ps extends f.Component{onSetup(){(0,c._)(this,_8,tj());let{pictureInPicture:t}=(0,o._)(this,_8).$state,e=(0,_._)(this,pi,pl).bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":_d(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),ed(t,"PiP")}constructor(){super(),(0,p._)(this,pt),(0,p._)(this,pe),(0,p._)(this,pi),(0,u._)(this,_8,{writable:!0,value:void 0}),new _n({isPresssed:(0,_._)(this,pe,pa).bind(this),keyShortcut:"togglePictureInPicture",onPress:(0,_._)(this,pt,pn).bind(this)})}}function pn(t){let e=(0,o._)(this,_8).remote;(0,_._)(this,pe,pa).call(this)?e.exitPictureInPicture(t):e.enterPictureInPicture(t)}function pa(){let{pictureInPicture:t}=(0,o._)(this,_8).$state;return t()}function pl(){let{canPictureInPicture:t}=(0,o._)(this,_8).$state;return t()}ps.props=_n.props;var ph=new WeakMap,pr=new WeakSet,po=new WeakSet,pu=new WeakSet;class pc extends f.Component{onSetup(){(0,c._)(this,ph,tj());let{seeking:t}=(0,o._)(this,ph).$state,{seconds:e}=this.$props,i=(0,_._)(this,pr,pd).bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":i,"aria-hidden":_d(()=>!i())})}onAttach(t){ec(t,"tabindex","0"),ec(t,"role","button"),ec(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),ed(t,(0,_._)(this,po,p_).bind(this))}onConnect(t){ef(t,(0,_._)(this,pu,pp).bind(this))}constructor(){super(),(0,p._)(this,pr),(0,p._)(this,po),(0,p._)(this,pu),(0,u._)(this,ph,{writable:!0,value:void 0}),new u_}}function pd(){let{canSeek:t}=(0,o._)(this,ph).$state;return t()}function p_(){let{seconds:t}=this.$props;return"Seek ".concat(t()>0?"forward":"backward"," ").concat(t()," seconds")}function pp(t){let{seconds:e,disabled:i}=this.$props;if(i())return;let{currentTime:s}=(0,o._)(this,ph).$state,n=s()+e();(0,o._)(this,ph).remote.seek(n,t)}pc.props={disabled:!1,seconds:30};var pv=new WeakMap,pf=new WeakSet;class pw extends f.Component{onSetup(){(0,c._)(this,pv,tj());let{disabled:t}=this.$props,{live:e,liveEdge:i}=(0,o._)(this,pv).$state,s=()=>!e();this.setAttributes({"data-edge":i,"data-hidden":s,"aria-disabled":_d(()=>t()||i()),"aria-hidden":_d(s)})}onAttach(t){ec(t,"tabindex","0"),ec(t,"role","button"),ec(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){ef(t,(0,_._)(this,pf,pg).bind(this))}constructor(){super(),(0,p._)(this,pf),(0,u._)(this,pv,{writable:!0,value:void 0}),new u_}}function pg(t){let{disabled:e}=this.$props,{liveEdge:i}=(0,o._)(this,pv).$state;e()||i()||(0,o._)(this,pv).remote.seekToLiveEdge(t)}pw.props={disabled:!1};let pm=new f.State({min:0,max:100,value:0,step:1,pointerValue:0,focused:!1,dragging:!1,pointing:!1,hidden:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return pb(this.min,this.max,this.value)},get fillPercent(){return 100*this.fillRate},get pointerRate(){return pb(this.min,this.max,this.pointerValue)},get pointerPercent(){return 100*this.pointerRate}});function pb(t,e,i){let s=e-t;return s>0?(i-t)/s:0}var pk=new WeakMap,py=new WeakMap,pS=new WeakSet;class pW extends f.ViewController{onConnect(t){(0,c._)(this,py,new IntersectionObserver(t=>{var e,i;null===(e=(i=(0,o._)(this,pk)).callback)||void 0===e||e.call(i,t,(0,o._)(this,py))},(0,o._)(this,pk))),(0,o._)(this,py).observe(t),(0,f.onDispose)((0,_._)(this,pS,p$).bind(this))}constructor(t){super(),(0,p._)(this,pS),(0,u._)(this,pk,{writable:!0,value:void 0}),(0,u._)(this,py,{writable:!0,value:void 0}),(0,c._)(this,pk,t)}}function p$(){var t;null===(t=(0,o._)(this,py))||void 0===t||t.disconnect(),(0,c._)(this,py,void 0)}let pM=(0,f.createContext)(),px=(0,f.createContext)(),pT={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};var pP=new WeakMap,pA=new WeakMap,pC=new WeakMap,pE=new WeakSet,pq=new WeakMap,pD=new WeakMap,pO=new WeakMap,pL=new WeakSet,pI=new WeakSet,pF=new WeakSet,pV=new WeakSet,pR=new WeakSet,pN=new WeakSet,pG=new WeakSet,pj=new WeakSet,pK=new WeakSet,pU=new WeakSet,pH=new WeakSet,pB=new WeakSet,pQ=new WeakSet,pz=new WeakSet,pX=new WeakMap,pY=new WeakMap,pJ=new WeakSet,pZ=new WeakSet,p0=new WeakSet,p1=new WeakSet,p2=new WeakSet,p3=new WeakSet,p5=new WeakMap;class p9 extends f.ViewController{onSetup(){(0,f.hasProvidedContext)(px)&&(0,c._)(this,pC,(0,f.useContext)(px))}onConnect(t){(0,f.effect)((0,_._)(this,pF,p8).bind(this,t)),(0,f.effect)((0,_._)(this,pV,vt).bind(this,t)),(0,o._)(this,pP).swipeGesture&&(0,f.effect)((0,_._)(this,pE,p4).bind(this))}constructor(t,e){super(),(0,p._)(this,pE),(0,p._)(this,pL),(0,p._)(this,pI),(0,p._)(this,pF),(0,p._)(this,pV),(0,p._)(this,pR),(0,p._)(this,pN),(0,p._)(this,pG),(0,p._)(this,pj),(0,p._)(this,pK),(0,p._)(this,pU),(0,p._)(this,pH),(0,p._)(this,pB),(0,p._)(this,pQ),(0,p._)(this,pz),(0,p._)(this,pJ),(0,p._)(this,pZ),(0,p._)(this,p0),(0,p._)(this,p1),(0,p._)(this,p2),(0,p._)(this,p3),(0,u._)(this,pP,{writable:!0,value:void 0}),(0,u._)(this,pA,{writable:!0,value:void 0}),(0,u._)(this,pC,{writable:!0,value:void 0}),(0,u._)(this,pq,{writable:!0,value:void 0}),(0,u._)(this,pD,{writable:!0,value:void 0}),(0,u._)(this,pO,{writable:!0,value:void 0}),(0,u._)(this,pX,{writable:!0,value:void 0}),(0,u._)(this,pY,{writable:!0,value:void 0}),(0,u._)(this,p5,{writable:!0,value:void 0}),(0,c._)(this,pq,null),(0,c._)(this,pD,null),(0,c._)(this,pO,null),(0,c._)(this,pY,!1),(0,c._)(this,p5,(0,f.functionThrottle)(t=>{(0,_._)(this,pG,vs).call(this,(0,_._)(this,pj,vn).call(this,t),t)},20,{leading:!0})),(0,c._)(this,pP,t),(0,c._)(this,pA,e)}}function p4(){var t;let{pointer:e}=(0,o._)(this,pA).$state;if("coarse"!==e()||!(0,o._)(this,pP).swipeGesture()){(0,c._)(this,pq,null);return}(0,c._)(this,pq,null===(t=(0,o._)(this,pA).player.el)||void 0===t?void 0:t.querySelector("media-provider,[data-media-provider]")),(0,o._)(this,pq)&&new f.EventsController((0,o._)(this,pq)).add("touchstart",(0,_._)(this,pL,p6).bind(this),{passive:!0}).add("touchmove",(0,_._)(this,pI,p7).bind(this),{passive:!1})}function p6(t){(0,c._)(this,pD,t.touches[0])}function p7(t){if((0,f.isNull)((0,o._)(this,pD))||ew(t))return;let e=t.touches[0],i=e.clientX-(0,o._)(this,pD).clientX,s=e.clientY-(0,o._)(this,pD).clientY,n=this.$state.dragging();!n&&Math.abs(s)>5||n||(t.preventDefault(),Math.abs(i)>20&&((0,c._)(this,pD,e),(0,c._)(this,pO,this.$state.value()),(0,_._)(this,pQ,vo).call(this,(0,o._)(this,pO),t)))}function p8(t){let{hidden:e}=this.$props;(0,f.listenEvent)(t,"focus",(0,_._)(this,pR,ve).bind(this)),e()||(0,o._)(this,pP).isDisabled()||new f.EventsController(t).add("keyup",(0,_._)(this,pZ,vd).bind(this)).add("keydown",(0,_._)(this,pJ,vc).bind(this)).add("pointerenter",(0,_._)(this,pK,va).bind(this)).add("pointermove",(0,_._)(this,pU,vl).bind(this)).add("pointerleave",(0,_._)(this,pH,vh).bind(this)).add("pointerdown",(0,_._)(this,pB,vr).bind(this))}function vt(t){!(0,o._)(this,pP).isDisabled()&&this.$state.dragging()&&new f.EventsController(document).add("pointerup",(0,_._)(this,p2,vv).bind(this),{capture:!0}).add("pointermove",(0,o._)(this,p5).bind(this)).add("touchmove",(0,_._)(this,p3,vf).bind(this),{passive:!1})}function ve(){(0,_._)(this,pG,vs).call(this,this.$state.value())}function vi(t,e){var i,s,n,a;let{value:l,min:h,max:r,dragging:u}=this.$state,c=Math.max(h(),Math.min(t,r()));l.set(c);let d=this.createEvent("value-change",{detail:c,trigger:e});if(this.dispatch(d),null===(i=(s=(0,o._)(this,pP)).onValueChange)||void 0===i||i.call(s,d),u()){let t=this.createEvent("drag-value-change",{detail:c,trigger:e});this.dispatch(t),null===(n=(a=(0,o._)(this,pP)).onDragValueChange)||void 0===n||n.call(a,t)}}function vs(t,e){let{pointerValue:i,dragging:s}=this.$state;i.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),s()&&(0,_._)(this,pN,vi).call(this,t,e)}function vn(t){var e,i,s,n;let a,l=this.el.getBoundingClientRect(),{min:h,max:r}=this.$state;if("vertical"===this.$props.orientation()){let{bottom:e,height:i}=l;a=(e-t.clientY)/i}else if((0,o._)(this,pD)&&(0,f.isNumber)((0,o._)(this,pO))){let{width:e}=(0,o._)(this,pq).getBoundingClientRect(),i=(t.clientX-(0,o._)(this,pD).clientX)/e,s=r()-h(),n=s*Math.abs(i);a=(i<0?(0,o._)(this,pO)-n:(0,o._)(this,pO)+n)/s}else{let{left:e,width:i}=l;a=(t.clientX-e)/i}return Math.max(h(),Math.min(r(),(0,o._)(this,pP).roundValue((e=h(),i=r(),s=a,e+(n=(0,o._)(this,pP).getStep())*Math.round((i-e)*er(0,s,1)/n)))))}function va(t){this.$state.pointing.set(!0)}function vl(t){let{dragging:e}=this.$state;e()||(0,_._)(this,pG,vs).call(this,(0,_._)(this,pj,vn).call(this,t),t)}function vh(t){this.$state.pointing.set(!1)}function vr(t){if(0!==t.button)return;let e=(0,_._)(this,pj,vn).call(this,t);(0,_._)(this,pQ,vo).call(this,e,t),(0,_._)(this,pG,vs).call(this,e,t)}function vo(t,e){var i,s,n,a;let{dragging:l}=this.$state;if(l())return;l.set(!0),(0,o._)(this,pA).remote.pauseControls(e);let h=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(h),null===(i=(s=(0,o._)(this,pP)).onDragStart)||void 0===i||i.call(s,h),null===(a=(0,o._)(this,pC))||void 0===a||null===(n=a.onDragStart)||void 0===n||n.call(a)}function vu(t,e){var i,s,n,a;let{dragging:l}=this.$state;if(!l())return;l.set(!1),(0,o._)(this,pA).remote.resumeControls(e);let h=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(h),null===(i=(s=(0,o._)(this,pP)).onDragEnd)||void 0===i||i.call(s,h),(0,c._)(this,pD,null),(0,c._)(this,pO,null),null===(a=(0,o._)(this,pC))||void 0===a||null===(n=a.onDragEnd)||void 0===n||n.call(a)}function vc(t){if(!Object.keys(pT).includes(t.key))return;let{key:e}=t,i=(0,_._)(this,p0,v_).call(this,t);if(!(0,f.isNull)(i)){(0,_._)(this,pG,vs).call(this,i,t),(0,_._)(this,pN,vi).call(this,i,t);return}let s=(0,_._)(this,p1,vp).call(this,t);!(0,o._)(this,pY)&&((0,c._)(this,pY,e===(0,o._)(this,pX)),!this.$state.dragging()&&(0,o._)(this,pY)&&(0,_._)(this,pQ,vo).call(this,s,t)),(0,_._)(this,pG,vs).call(this,s,t),(0,c._)(this,pX,e)}function vd(t){if(!Object.keys(pT).includes(t.key)||!(0,f.isNull)((0,_._)(this,p0,v_).call(this,t)))return;let e=(0,o._)(this,pY)?this.$state.pointerValue():(0,_._)(this,p1,vp).call(this,t);(0,_._)(this,pN,vi).call(this,e,t),(0,_._)(this,pz,vu).call(this,e,t),(0,c._)(this,pX,""),(0,c._)(this,pY,!1)}function v_(t){let e=t.key,{min:i,max:s}=this.$state;return"Home"===e||"PageUp"===e?i():"End"===e||"PageDown"===e?s():!t.metaKey&&/^[0-9]$/.test(e)?(s()-i())/10*Number(e):null}function vp(t){var e,i,s;let{key:n,shiftKey:a}=t;t.preventDefault(),t.stopPropagation();let{shiftKeyMultiplier:l}=this.$props,{min:h,max:r,value:u,pointerValue:c}=this.$state,d=(0,o._)(this,pP).getStep(),_=(0,o._)(this,pP).getKeyStep(),p=a?_*l():_,v=Number(pT[n]),f=(0,o._)(this,pY)?c():null!==(s=null===(e=(i=(0,o._)(this,pP)).getValue)||void 0===e?void 0:e.call(i))&&void 0!==s?s:u();return Math.max(h(),Math.min(r(),Number(((f+p*v)/d*d).toFixed(3))))}function vv(t){if(0!==t.button)return;t.preventDefault(),t.stopImmediatePropagation();let e=(0,_._)(this,pj,vn).call(this,t);(0,_._)(this,pG,vs).call(this,e,t),(0,_._)(this,pz,vu).call(this,e,t)}function vf(t){t.preventDefault()}let vw=(0,f.createContext)(()=>({}));var vg=new WeakMap,vm=new WeakMap,vb=new WeakMap,vk=new WeakMap,vy=new WeakSet,vS=new WeakSet,vW=new WeakSet,v$=new WeakSet,vM=new WeakSet,vx=new WeakSet,vT=new WeakSet,vP=new WeakSet,vA=new WeakMap;class vC extends f.ViewController{onSetup(){(0,c._)(this,vg,tj());let t=new u_;t.attach(this),this.$state.focused=t.focused.bind(t),(0,f.hasProvidedContext)(vw)||(0,f.provideContext)(vw,{default:"value"}),(0,f.provideContext)(pM,{orientation:this.$props.orientation,disabled:(0,o._)(this,vm).isDisabled,preview:(0,f.signal)(null)}),(0,f.effect)((0,_._)(this,vW,vD).bind(this)),(0,f.effect)((0,_._)(this,v$,vO).bind(this)),(0,f.effect)((0,_._)(this,vM,vL).bind(this)),(0,_._)(this,vT,vF).call(this),new p9((0,o._)(this,vm),(0,o._)(this,vg)).attach(this),new pW({callback:(0,_._)(this,vy,vE).bind(this)}).attach(this)}onAttach(t){ec(t,"role","slider"),ec(t,"tabindex","0"),ec(t,"autocomplete","off"),m?(0,_._)(this,vP,vV).call(this):(0,f.effect)((0,_._)(this,vP,vV).bind(this))}onConnect(t){(0,f.onDispose)(ep(t,(0,o._)(this,vb).set)),(0,f.effect)((0,_._)(this,vS,vq).bind(this))}constructor(t){super(),(0,p._)(this,vy),(0,p._)(this,vS),(0,p._)(this,vW),(0,p._)(this,v$),(0,p._)(this,vM),(0,p._)(this,vx),(0,p._)(this,vT),(0,p._)(this,vP),(0,u._)(this,vg,{writable:!0,value:void 0}),(0,u._)(this,vm,{writable:!0,value:void 0}),(0,u._)(this,vb,{writable:!0,value:void 0}),(0,u._)(this,vk,{writable:!0,value:void 0}),(0,u._)(this,vA,{writable:!0,value:void 0}),(0,c._)(this,vb,(0,f.signal)(!0)),(0,c._)(this,vk,(0,f.signal)(!0)),(0,c._)(this,vA,(0,f.animationFrameThrottle)((t,e)=>{var i,s;null===(i=this.el)||void 0===i||i.style.setProperty("--slider-fill",t+"%"),null===(s=this.el)||void 0===s||s.style.setProperty("--slider-pointer",e+"%")})),(0,c._)(this,vm,t)}}function vE(t){(0,o._)(this,vk).set(t[0].isIntersecting)}function vq(){let{hidden:t}=this.$props;this.$state.hidden.set(t()||!(0,o._)(this,vb).call(this)||!(0,o._)(this,vk).bind(this))}function vD(){let{dragging:t,value:e,min:i,max:s}=this.$state;if(!(0,f.peek)(t)){var n,a;e.set((n=i(),a=s(),er(n,el(e(),eh((0,o._)(this,vm).getStep())),a)))}}function vO(){this.$state.step.set((0,o._)(this,vm).getStep())}function vL(){if(!(0,o._)(this,vm).isDisabled())return;let{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)}function vI(){return(0,f.ariaBool)((0,o._)(this,vm).isDisabled())}function vF(){var t,e;let{orientation:i}=this.$props,{dragging:s,active:n,pointing:a}=this.$state;this.setAttributes({"data-dragging":s,"data-pointing":a,"data-active":n,"aria-disabled":(0,_._)(this,vx,vI).bind(this),"aria-valuemin":null!==(t=(0,o._)(this,vm).aria.valueMin)&&void 0!==t?t:this.$state.min,"aria-valuemax":null!==(e=(0,o._)(this,vm).aria.valueMax)&&void 0!==e?e:this.$state.max,"aria-valuenow":(0,o._)(this,vm).aria.valueNow,"aria-valuetext":(0,o._)(this,vm).aria.valueText,"aria-orientation":i})}function vV(){let{fillPercent:t,pointerPercent:e}=this.$state;(0,o._)(this,vA).call(this,el(t(),3),el(e(),3))}vC.props={hidden:!1,disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};var vR=new WeakSet,vN=new WeakSet,vG=new WeakSet,vj=new WeakSet;class vK extends f.Component{onSetup(){(0,f.effect)((0,_._)(this,vG,vB).bind(this)),(0,f.effect)((0,_._)(this,vj,vQ).bind(this))}constructor(){super(),(0,p._)(this,vR),(0,p._)(this,vN),(0,p._)(this,vG),(0,p._)(this,vj),new vC({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:this.$props.disabled,aria:{valueNow:(0,_._)(this,vR,vU).bind(this),valueText:(0,_._)(this,vN,vH).bind(this)}})}}function vU(){let{value:t}=this.$state;return Math.round(t())}function vH(){let{value:t,max:e}=this.$state;return el(t()/e()*100,2)+"%"}function vB(){let{value:t}=this.$props;this.$state.value.set(t())}function vQ(){let{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}vK.props={...vC.props,min:0,max:100,value:0},vK.state=pm;let vz=new Map,vX=new Map;var vY=new WeakMap,vJ=new WeakMap,vZ=new WeakMap,v0=new WeakSet,v1=new WeakSet,v2=new WeakSet,v3=new WeakSet,v5=new WeakSet,v9=new WeakSet,v4=new WeakSet,v6=new WeakSet;class v7{static create(t,e){return new v7(t,e,tj())}constructor(t,e,i){(0,p._)(this,v0),(0,p._)(this,v1),(0,p._)(this,v2),(0,p._)(this,v3),(0,p._)(this,v5),(0,p._)(this,v9),(0,p._)(this,v4),(0,p._)(this,v6),(0,u._)(this,vY,{writable:!0,value:void 0}),(0,u._)(this,vJ,{writable:!0,value:void 0}),(0,u._)(this,vZ,{writable:!0,value:void 0}),this.$images=(0,f.signal)([]),(0,c._)(this,vJ,t),(0,c._)(this,vZ,e),(0,c._)(this,vY,i),(0,f.effect)((0,_._)(this,v0,v8).bind(this))}}function v8(){let{canLoad:t}=(0,o._)(this,vY).$state;if(!t())return;let e=(0,o._)(this,vJ).call(this);if(e){if((0,f.isString)(e)&&vz.has(e)){let t=vz.get(e);if(vz.delete(e),vz.set(e,t),vz.size>99){let t=vz.keys().next().value;vz.delete(t)}this.$images.set(vz.get(e))}else if((0,f.isString)(e)){var s;let t=(0,o._)(this,vZ).call(this),n=e+"::"+t;if(!vX.has(n)){let s=new Promise(async(s,n)=>{try{let a=await fetch(e,{credentials:tt(t)});if("application/json"===a.headers.get("content-type")){let t=await a.json();if((0,f.isArray)(t)){if(t[0]&&"text"in t[0])s((0,_._)(this,v3,fi).call(this,t));else{for(let e=0;e<t.length;e++){let i=t[e];l4((0,f.isObject)(i),!1),l4("url"in i&&(0,f.isString)(i.url),!1),l4("startTime"in i&&(0,f.isNumber)(i.startTime),!1)}s(t)}}else s((0,_._)(this,v2,fe).call(this,t));return}i.e(7922).then(i.bind(i,17922)).then(async t=>{let{parseResponse:e}=t;try{let{cues:t}=await e(a);s((0,_._)(this,v3,fi).call(this,t))}catch(t){n(t)}})}catch(t){n(t)}}).then(t=>(vz.set(n,t),t)).catch(t=>{(0,_._)(this,v6,fl).call(this,e,t)}).finally(()=>{(0,f.isString)(n)&&vX.delete(n)});vX.set(n,s)}null===(s=vX.get(n))||void 0===s||s.then(t=>{this.$images.set(t||[])})}else if((0,f.isArray)(e))try{this.$images.set((0,_._)(this,v1,ft).call(this,e))}catch(t){(0,_._)(this,v6,fl).call(this,e,t)}else try{this.$images.set((0,_._)(this,v2,fe).call(this,e))}catch(t){(0,_._)(this,v6,fl).call(this,e,t)}return()=>{this.$images.set([])}}}function ft(t){let e=(0,_._)(this,v5,fs).call(this);return t.map((t,i)=>(l4(t.url&&(0,f.isString)(t.url)),l4("startTime"in t&&(0,f.isNumber)(t.startTime)),{...t,url:(0,f.isString)(t.url)?(0,_._)(this,v9,fn).call(this,t.url,e):t.url}))}function fe(t){var e;l4((0,f.isString)(t.url)),l4((0,f.isArray)(t.tiles)&&(null===(e=t.tiles)||void 0===e?void 0:e.length));let i=new URL(t.url),s=[],n="tile_width"in t?t.tile_width:t.tileWidth,a="tile_height"in t?t.tile_height:t.tileHeight;for(let e of t.tiles)s.push({url:i,startTime:"start"in e?e.start:e.startTime,width:n,height:a,coords:{x:e.x,y:e.y}});return s}function fi(t){for(let e=0;e<t.length;e++){let i=t[e];l4("startTime"in i&&(0,f.isNumber)(i.startTime)),l4("text"in i&&(0,f.isString)(i.text))}let e=[],i=(0,_._)(this,v5,fs).call(this);for(let s of t){let[t,n]=s.text.split("#"),a=(0,_._)(this,v4,fa).call(this,n);e.push({url:(0,_._)(this,v9,fn).call(this,t,i),startTime:s.startTime,endTime:s.endTime,width:null==a?void 0:a.w,height:null==a?void 0:a.h,coords:a&&(0,f.isNumber)(a.x)&&(0,f.isNumber)(a.y)?{x:a.x,y:a.y}:void 0})}return e}function fs(){let t=(0,f.peek)((0,o._)(this,vJ));return(0,f.isString)(t)&&/^https?:/.test(t)?t:location.href}function fn(t,e){return/^https?:/.test(t)?new URL(t):new URL(t,e)}function fa(t){if(!t)return{};let[e,i]=t.split("="),s=null==i?void 0:i.split(","),n={};if(!e||!s)return null;for(let t=0;t<e.length;t++){let i=+s[t];isNaN(i)||(n[e[t]]=i)}return n}function fl(t,e){}var fh=new WeakMap,fr=new WeakMap,fo=new WeakSet,fu=new WeakSet,fc=new WeakSet,fd=new WeakSet,f_=new WeakSet,fp=new WeakSet,fv=new WeakSet,ff=new WeakSet,fw=new WeakSet,fg=new WeakSet,fm=new WeakSet,fb=new WeakSet;class fk extends f.Component{onSetup(){this.media=tj(),(0,c._)(this,fh,v7.create(this.$props.src,this.$state.crossOrigin)),(0,_._)(this,fu,fS).call(this),this.setAttributes({"data-loading":(0,_._)(this,fp,fx).bind(this),"data-error":(0,_._)(this,fv,fT).bind(this),"data-hidden":this.$state.hidden,"aria-hidden":_d(this.$state.hidden)})}onConnect(t){(0,f.effect)((0,_._)(this,fo,fy).bind(this)),(0,f.effect)((0,_._)(this,ff,fP).bind(this)),(0,f.effect)((0,_._)(this,fu,fS).bind(this)),(0,f.effect)((0,_._)(this,fc,fW).bind(this)),(0,f.effect)((0,_._)(this,fw,fA).bind(this)),(0,f.effect)((0,_._)(this,fg,fC).bind(this))}getTime(){return this.$props.time()}constructor(...t){super(...t),(0,p._)(this,fo),(0,p._)(this,fu),(0,p._)(this,fc),(0,p._)(this,fd),(0,p._)(this,f_),(0,p._)(this,fp),(0,p._)(this,fv),(0,p._)(this,ff),(0,p._)(this,fw),(0,p._)(this,fg),(0,p._)(this,fm),(0,p._)(this,fb),(0,u._)(this,fh,{writable:!0,value:void 0}),(0,u._)(this,fr,{writable:!0,value:void 0}),(0,c._)(this,fr,[])}}function fy(){let t=this.$state.img();t&&new f.EventsController(t).add("load",(0,_._)(this,fd,f$).bind(this)).add("error",(0,_._)(this,f_,fM).bind(this))}function fS(){let{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:i}=this.media.$state,s=null!==t()?t():i();e.set(!0===s?"anonymous":s)}function fW(){let{src:t,loading:e,error:i}=this.$state;return t()&&(e.set(!0),i.set(null)),()=>{(0,_._)(this,fb,fq).call(this),e.set(!1),i.set(null)}}function f$(){let{loading:t,error:e}=this.$state;(0,_._)(this,fg,fC).call(this),t.set(!1),e.set(null)}function fM(t){let{loading:e,error:i}=this.$state;e.set(!1),i.set(t)}function fx(){let{loading:t,hidden:e}=this.$state;return!e()&&t()}function fT(){let{error:t}=this.$state;return!(0,f.isNull)(t())}function fP(){let{hidden:t}=this.$state,{duration:e}=this.media.$state,i=(0,o._)(this,fh).$images();t.set((0,_._)(this,fv,fT).call(this)||!Number.isFinite(e())||0===i.length)}function fA(){let t=(0,o._)(this,fh).$images();if(!t.length)return;let e=this.getTime(),{src:i,activeThumbnail:s}=this.$state,n=-1,a=null;for(let i=t.length-1;i>=0;i--){let s=t[i];if(e>=s.startTime&&(!s.endTime||e<s.endTime)){n=i;break}}t[n]&&(a=t[n]),s.set(a),i.set((null==a?void 0:a.url.href)||"")}function fC(){var t,e;if(!this.scope||this.$state.hidden())return;let i=this.el,s=this.$state.img(),n=this.$state.activeThumbnail();if(!s||!n||!i)return;let a=null!==(t=n.width)&&void 0!==t?t:s.naturalWidth,l=null!==(e=null==n?void 0:n.height)&&void 0!==e?e:s.naturalHeight,{maxWidth:h,maxHeight:r,minWidth:o,minHeight:u,width:c,height:d}=getComputedStyle(this.el);"100%"===o&&(o=parseFloat(c)+""),"100%"===u&&(u=parseFloat(d)+"");let p=Math.max(parseInt(o)/a,parseInt(u)/l),v=Math.min(Math.max(parseInt(o),parseInt(h))/a,Math.max(parseInt(u),parseInt(r))/l),f=!isNaN(v)&&v<1?v:p>1?p:1;(0,_._)(this,fm,fE).call(this,i,"--thumbnail-width","".concat(a*f,"px")),(0,_._)(this,fm,fE).call(this,i,"--thumbnail-height","".concat(l*f,"px")),(0,_._)(this,fm,fE).call(this,i,"--thumbnail-aspect-ratio",String(el(a/l,5))),(0,_._)(this,fm,fE).call(this,s,"width","".concat(s.naturalWidth*f,"px")),(0,_._)(this,fm,fE).call(this,s,"height","".concat(s.naturalHeight*f,"px")),(0,_._)(this,fm,fE).call(this,s,"transform",n.coords?"translate(-".concat(n.coords.x*f,"px, -").concat(n.coords.y*f,"px)"):""),(0,_._)(this,fm,fE).call(this,s,"max-width","none")}function fE(t,e,i){t.style.setProperty(e,i),(0,o._)(this,fr).push(()=>t.style.removeProperty(e))}function fq(){for(let t of(0,o._)(this,fr))t();(0,c._)(this,fr,[])}fk.props={src:null,time:0,crossOrigin:null},fk.state=new f.State({src:"",img:null,thumbnails:[],activeThumbnail:null,crossOrigin:null,loading:!1,error:null,hidden:!1});var fD=new WeakMap;class fO extends fk{onAttach(t){(0,c._)(this,fD,(0,f.useState)(vK.state))}getTime(){let{duration:t,clipStartTime:e}=this.media.$state;return e()+(0,o._)(this,fD).pointerRate()*t()}constructor(...t){super(...t),(0,u._)(this,fD,{writable:!0,value:void 0})}}var fL=new WeakMap,fI=new WeakMap,fF=new WeakSet,fV=new WeakSet,fR=new WeakSet,fN=new WeakSet,fG=new WeakSet,fj=new WeakSet,fK=new WeakSet,fU=new WeakSet,fH=new WeakSet,fB=new WeakSet;class fQ extends f.Component{get video(){return this.$state.video()}onSetup(){(0,c._)(this,fL,tj()),(0,c._)(this,fI,(0,f.useState)(vK.state)),(0,_._)(this,fR,fY).call(this),this.setAttributes({"data-loading":(0,_._)(this,fN,fJ).bind(this),"data-hidden":this.$state.hidden,"data-error":(0,_._)(this,fG,fZ).bind(this),"aria-hidden":_d(this.$state.hidden)})}onAttach(t){(0,f.effect)((0,_._)(this,fF,fz).bind(this)),(0,f.effect)((0,_._)(this,fV,fX).bind(this)),(0,f.effect)((0,_._)(this,fR,fY).bind(this)),(0,f.effect)((0,_._)(this,fj,f0).bind(this)),(0,f.effect)((0,_._)(this,fK,f1).bind(this)),(0,f.effect)((0,_._)(this,fB,f5).bind(this))}constructor(...t){super(...t),(0,p._)(this,fF),(0,p._)(this,fV),(0,p._)(this,fR),(0,p._)(this,fN),(0,p._)(this,fG),(0,p._)(this,fj),(0,p._)(this,fK),(0,p._)(this,fU),(0,p._)(this,fH),(0,p._)(this,fB),(0,u._)(this,fL,{writable:!0,value:void 0}),(0,u._)(this,fI,{writable:!0,value:void 0})}}function fz(){let t=this.$state.video();t&&(t.readyState>=2&&(0,_._)(this,fU,f2).call(this),new f.EventsController(t).add("canplay",(0,_._)(this,fU,f2).bind(this)).add("error",(0,_._)(this,fH,f3).bind(this)))}function fX(){let{src:t}=this.$state,{canLoad:e}=(0,o._)(this,fL).$state;t.set(e()?this.$props.src():null)}function fY(){let{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:i}=(0,o._)(this,fL).$state,s=null!==t()?t():i();e.set(!0===s?"anonymous":s)}function fJ(){let{canPlay:t,hidden:e}=this.$state;return!t()&&!e()}function fZ(){let{error:t}=this.$state;return!(0,f.isNull)(t)}function f0(){let{src:t,hidden:e}=this.$state,{canLoad:i,duration:s}=(0,o._)(this,fL).$state;e.set(i()&&(!t()||(0,_._)(this,fG,fZ).call(this)||!Number.isFinite(s())))}function f1(){let{src:t,canPlay:e,error:i}=this.$state;t(),e.set(!1),i.set(null)}function f2(t){let{canPlay:e,error:i}=this.$state;e.set(!0),i.set(null),this.dispatch("can-play",{trigger:t})}function f3(t){let{canPlay:e,error:i}=this.$state;e.set(!1),i.set(t),this.dispatch("error",{trigger:t})}function f5(){let{video:t,canPlay:e}=this.$state,{duration:i}=(0,o._)(this,fL).$state,{pointerRate:s}=(0,o._)(this,fI),n=t();e()&&n&&Number.isFinite(i())&&Number.isFinite(s())&&(n.currentTime=s()*i())}fQ.props={src:null,crossOrigin:null},fQ.state=new f.State({video:null,src:null,crossOrigin:null,canPlay:!1,error:null,hidden:!1});let f9=fQ.prototype;(0,f.prop)(f9,"video");var f4=new WeakMap,f6=new WeakMap,f7=new WeakMap;class f8 extends f.Component{onSetup(){(0,c._)(this,f7,(0,f.useState)(vK.state)),(0,c._)(this,f4,(0,f.useContext)(vw)),(0,c._)(this,f6,(0,f.computed)(this.getValueText.bind(this)))}getValueText(){var t,e,i,s,n,a;let{type:l,format:h,decimalPlaces:r,padHours:u,padMinutes:c,showHours:d,showMs:_}=this.$props,{value:p,pointerValue:v,min:f,max:w}=(0,o._)(this,f7),g=null!==(t=null==h?void 0:h())&&void 0!==t?t:(0,o._)(this,f4).default,m="current"===l()?p():v();if("percent"===g){let t=w()-f();return(null!==(e=(0,o._)(this,f4).percent)&&void 0!==e?e:el)(m/t*100,r())+"%"}return"time"===g?(null!==(i=(0,o._)(this,f4).time)&&void 0!==i?i:hy)(m,{padHrs:u(),padMins:c(),showHrs:d(),showMs:_()}):(null!==(a=null===(s=(n=(0,o._)(this,f4)).value)||void 0===s?void 0:s.call(n,m))&&void 0!==a?a:m.toFixed(2))+""}constructor(...t){super(...t),(0,u._)(this,f4,{writable:!0,value:void 0}),(0,u._)(this,f6,{writable:!0,value:void 0}),(0,u._)(this,f7,{writable:!0,value:void 0})}}f8.props={type:"pointer",format:null,showHours:!1,showMs:!1,padHours:null,padMinutes:null,decimalPlaces:2};let wt=f8.prototype;(0,f.method)(wt,"getValueText");var we=new WeakMap,wi=new WeakMap;class ws extends f.Component{onSetup(){(0,c._)(this,we,(0,f.useContext)(pM));let{active:t}=(0,f.useState)(vK.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){let{preview:e}=(0,o._)(this,we);e.set(t),(0,f.onDispose)(()=>e.set(null)),(0,f.effect)((0,o._)(this,wi).bind(this));let i=new ResizeObserver((0,o._)(this,wi).bind(this));i.observe(t),(0,f.onDispose)(()=>i.disconnect())}constructor(...t){super(...t),(0,u._)(this,we,{writable:!0,value:void 0}),(0,u._)(this,wi,{writable:!0,value:void 0}),(0,c._)(this,wi,(0,f.animationFrameThrottle)(()=>{let{disabled:t,orientation:e}=(0,o._)(this,we);if(t())return;let i=this.el,{offset:s,noClamp:n}=this.$props;i&&function(t,e){let{clamp:i,offset:s,orientation:n}=e,a=getComputedStyle(t),l=parseFloat(a.width),h=parseFloat(a.height),r={top:null,right:null,bottom:null,left:null};if(r["horizontal"===n?"bottom":"left"]="calc(100% + var(--media-slider-preview-offset, ".concat(s,"px))"),"horizontal"===n){let t=l/2;if(i){let e="max(0px, calc(var(--slider-pointer) - ".concat(t,"px))");r.left="min(".concat(e,", ").concat("calc(100% - ".concat(l,"px)"),")")}else r.left="calc(var(--slider-pointer) - ".concat(t,"px)")}else{let t=h/2;if(i){let e="max(".concat(t,"px, calc(var(--slider-pointer) - ").concat(t,"px))");r.bottom="min(".concat(e,", ").concat("calc(100% - ".concat(h,"px)"),")")}else r.bottom="calc(var(--slider-pointer) - ".concat(t,"px)")}Object.assign(t.style,r)}(i,{clamp:!n(),offset:s(),orientation:e()})}))}}ws.props={offset:0,noClamp:!1};var wn=new WeakMap,wa=new WeakSet,wl=new WeakSet,wh=new WeakSet,wr=new WeakSet,wo=new WeakSet,wu=new WeakMap,wc=new WeakSet,wd=new WeakSet,w_=new WeakSet;class wp extends f.Component{onSetup(){(0,c._)(this,wn,tj());let{audioGain:t}=(0,o._)(this,wn).$state;(0,f.provideContext)(vw,{default:"percent",value(e){var i;return(e*(null!==(i=t())&&void 0!==i?i:1)).toFixed(2)},percent(e){var i;return Math.round(e*(null!==(i=t())&&void 0!==i?i:1))}}),new vC({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:(0,_._)(this,wr,wg).bind(this),aria:{valueMax:(0,_._)(this,wh,ww).bind(this),valueNow:(0,_._)(this,wa,wv).bind(this),valueText:(0,_._)(this,wl,wf).bind(this)},onDragValueChange:(0,_._)(this,w_,wy).bind(this),onValueChange:(0,_._)(this,wd,wk).bind(this)}).attach(this),(0,f.effect)((0,_._)(this,wo,wm).bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),ec(t,"aria-label","Volume");let{canSetVolume:e}=(0,o._)(this,wn).$state;this.setAttributes({"data-supported":e,"aria-hidden":_d(()=>!e())})}constructor(...t){super(...t),(0,p._)(this,wa),(0,p._)(this,wl),(0,p._)(this,wh),(0,p._)(this,wr),(0,p._)(this,wo),(0,p._)(this,wc),(0,p._)(this,wd),(0,p._)(this,w_),(0,u._)(this,wn,{writable:!0,value:void 0}),(0,u._)(this,wu,{writable:!0,value:void 0}),(0,c._)(this,wu,(0,f.functionThrottle)((0,_._)(this,wc,wb).bind(this),25))}}function wv(){var t;let{value:e}=this.$state,{audioGain:i}=(0,o._)(this,wn).$state;return Math.round(e()*(null!==(t=i())&&void 0!==t?t:1))}function wf(){var t;let{value:e,max:i}=this.$state,{audioGain:s}=(0,o._)(this,wn).$state;return el(e()/i()*(null!==(t=s())&&void 0!==t?t:1)*100,2)+"%"}function ww(){var t;let{audioGain:e}=(0,o._)(this,wn).$state;return this.$state.max()*(null!==(t=e())&&void 0!==t?t:1)}function wg(){let{disabled:t}=this.$props,{canSetVolume:e}=(0,o._)(this,wn).$state;return t()||!e()}function wm(){let{muted:t,volume:e}=(0,o._)(this,wn).$state,i=t()?0:100*e();this.$state.value.set(i),this.dispatch("value-change",{detail:i})}function wb(t){if(!t.trigger)return;let e=el(t.detail/100,3);(0,o._)(this,wn).remote.changeVolume(e,t)}function wk(t){(0,o._)(this,wu).call(this,t)}function wy(t){(0,o._)(this,wu).call(this,t)}wp.props={...vC.props,keyStep:5,shiftKeyMultiplier:2},wp.state=pm;var wS=new WeakMap,wW=new WeakSet,w$=new WeakSet,wM=new WeakSet,wx=new WeakSet,wT=new WeakSet,wP=new WeakSet,wA=new WeakSet,wC=new WeakSet;class wE extends f.Component{onSetup(){(0,c._)(this,wS,tj()),(0,f.provideContext)(vw,{default:"percent",percent:(t,e)=>el(this.$state.value(),e)+"%"}),new vC({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:(0,_._)(this,wT,wI).bind(this),aria:{valueNow:(0,_._)(this,wW,wq).bind(this),valueText:(0,_._)(this,w$,wD).bind(this)},onDragValueChange:(0,_._)(this,wC,wR).bind(this),onValueChange:(0,_._)(this,wA,wV).bind(this)}).attach(this),(0,f.effect)((0,_._)(this,wM,wO).bind(this)),(0,f.effect)((0,_._)(this,wx,wL).bind(this))}onAttach(t){t.setAttribute("data-media-audio-gain-slider",""),ec(t,"aria-label","Audio Boost");let{canSetAudioGain:e}=(0,o._)(this,wS).$state;this.setAttributes({"data-supported":e,"aria-hidden":_d(()=>!e())})}constructor(...t){super(...t),(0,p._)(this,wW),(0,p._)(this,w$),(0,p._)(this,wM),(0,p._)(this,wx),(0,p._)(this,wT),(0,p._)(this,wP),(0,p._)(this,wA),(0,p._)(this,wC),(0,u._)(this,wS,{writable:!0,value:void 0})}}function wq(){let{value:t}=this.$state;return Math.round(t())}function wD(){let{value:t}=this.$state;return t()+"%"}function wO(){let{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}function wL(){var t;let{audioGain:e}=(0,o._)(this,wS).$state,i=((null!==(t=e())&&void 0!==t?t:1)-1)*100;this.$state.value.set(i),this.dispatch("value-change",{detail:i})}function wI(){let{disabled:t}=this.$props,{canSetAudioGain:e}=(0,o._)(this,wS).$state;return t()||!e()}function wF(t){if(!t.trigger)return;let e=el(1+t.detail/100,2);(0,o._)(this,wS).remote.changeAudioGain(e,t)}function wV(t){(0,_._)(this,wP,wF).call(this,t)}function wR(t){(0,_._)(this,wP,wF).call(this,t)}wE.props={...vC.props,step:25,keyStep:25,shiftKeyMultiplier:2,min:0,max:300},wE.state=pm;var wN=new WeakMap,wG=new WeakSet,wj=new WeakSet,wK=new WeakSet,wU=new WeakSet,wH=new WeakSet,wB=new WeakSet,wQ=new WeakMap,wz=new WeakSet,wX=new WeakSet,wY=new WeakSet;class wJ extends f.Component{onSetup(){(0,c._)(this,wN,tj()),new vC({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:(0,_._)(this,wH,w3),isDisabled:(0,_._)(this,wB,w5).bind(this),aria:{valueNow:(0,_._)(this,wG,wZ).bind(this),valueText:(0,_._)(this,wj,w0).bind(this)},onDragValueChange:(0,_._)(this,wY,w6).bind(this),onValueChange:(0,_._)(this,wX,w4).bind(this)}).attach(this),(0,f.effect)((0,_._)(this,wK,w1).bind(this)),(0,f.effect)((0,_._)(this,wU,w2).bind(this))}onAttach(t){t.setAttribute("data-media-speed-slider",""),ec(t,"aria-label","Speed");let{canSetPlaybackRate:e}=(0,o._)(this,wN).$state;this.setAttributes({"data-supported":e,"aria-hidden":_d(()=>!e())})}constructor(...t){super(...t),(0,p._)(this,wG),(0,p._)(this,wj),(0,p._)(this,wK),(0,p._)(this,wU),(0,p._)(this,wH),(0,p._)(this,wB),(0,p._)(this,wz),(0,p._)(this,wX),(0,p._)(this,wY),(0,u._)(this,wN,{writable:!0,value:void 0}),(0,u._)(this,wQ,{writable:!0,value:void 0}),(0,c._)(this,wQ,(0,f.functionThrottle)((0,_._)(this,wz,w9).bind(this),25))}}function wZ(){let{value:t}=this.$state;return t()}function w0(){let{value:t}=this.$state;return t()+"x"}function w1(){let{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}function w2(){let{playbackRate:t}=(0,o._)(this,wN).$state,e=t();this.$state.value.set(e),this.dispatch("value-change",{detail:e})}function w3(t){return el(t,2)}function w5(){let{disabled:t}=this.$props,{canSetPlaybackRate:e}=(0,o._)(this,wN).$state;return t()||!e()}function w9(t){if(!t.trigger)return;let e=t.detail;(0,o._)(this,wN).remote.changePlaybackRate(e,t)}function w4(t){(0,o._)(this,wQ).call(this,t)}function w6(t){(0,o._)(this,wQ).call(this,t)}wJ.props={...vC.props,step:.25,keyStep:.25,shiftKeyMultiplier:2,min:0,max:2},wJ.state=pm;var w7=new WeakMap,w8=new WeakMap,gt=new WeakSet,ge=new WeakSet,gi=new WeakSet,gs=new WeakSet,gn=new WeakSet,ga=new WeakMap,gl=new WeakSet,gh=new WeakSet,gr=new WeakSet;class go extends f.Component{onSetup(){(0,c._)(this,w7,tj()),new vC({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:(0,_._)(this,gn,gp).bind(this),aria:{valueNow:(0,_._)(this,gt,gu).bind(this),valueText:(0,_._)(this,ge,gc).bind(this)},onDragValueChange:(0,_._)(this,gr,gw).bind(this),onValueChange:(0,_._)(this,gh,gf).bind(this)}).attach(this),(0,f.effect)((0,_._)(this,gi,gd).bind(this)),(0,f.effect)((0,_._)(this,gs,g_).bind(this))}onAttach(t){t.setAttribute("data-media-quality-slider",""),ec(t,"aria-label","Video Quality");let{qualities:e,canSetQuality:i}=(0,o._)(this,w7).$state,s=(0,f.computed)(()=>i()&&e().length>0);this.setAttributes({"data-supported":s,"aria-hidden":_d(()=>!s())})}constructor(...t){super(...t),(0,p._)(this,gt),(0,p._)(this,ge),(0,p._)(this,gi),(0,p._)(this,gs),(0,p._)(this,gn),(0,p._)(this,gl),(0,p._)(this,gh),(0,p._)(this,gr),(0,u._)(this,w7,{writable:!0,value:void 0}),(0,u._)(this,w8,{writable:!0,value:void 0}),(0,u._)(this,ga,{writable:!0,value:void 0}),(0,c._)(this,w8,(0,f.computed)(()=>{let{qualities:t}=(0,o._)(this,w7).$state;return ip(t())})),(0,c._)(this,ga,(0,f.functionThrottle)((0,_._)(this,gl,gv).bind(this),25))}}function gu(){let{value:t}=this.$state;return t()}function gc(){let{quality:t}=(0,o._)(this,w7).$state;if(!t())return"";let{height:e,bitrate:i}=t(),s=i&&i>0?"".concat((i/1e6).toFixed(2)," Mbps"):null;return e?"".concat(e,"p").concat(s?" (".concat(s,")"):""):"Auto"}function gd(){let t=(0,o._)(this,w8).call(this);this.$state.max.set(Math.max(0,t.length-1))}function g_(){let{quality:t}=(0,o._)(this,w7).$state,e=Math.max(0,(0,o._)(this,w8).call(this).indexOf(t()));this.$state.value.set(e),this.dispatch("value-change",{detail:e})}function gp(){let{disabled:t}=this.$props,{canSetQuality:e,qualities:i}=(0,o._)(this,w7).$state;return t()||i().length<=1||!e()}function gv(t){if(!t.trigger)return;let{qualities:e}=(0,o._)(this,w7),i=(0,f.peek)((0,o._)(this,w8))[t.detail];(0,o._)(this,w7).remote.changeQuality(e.indexOf(i),t)}function gf(t){(0,o._)(this,ga).call(this,t)}function gw(t){(0,o._)(this,ga).call(this,t)}go.props={...vC.props,step:1,keyStep:1,shiftKeyMultiplier:1},go.state=pm;var gg=new WeakMap,gm=new WeakMap,gb=new WeakMap,gk=new WeakSet,gy=new WeakSet,gS=new WeakSet,gW=new WeakSet,g$=new WeakSet,gM=new WeakSet,gx=new WeakSet,gT=new WeakMap,gP=new WeakSet,gA=new WeakSet,gC=new WeakSet,gE=new WeakSet,gq=new WeakSet,gD=new WeakSet,gO=new WeakSet,gL=new WeakSet,gI=new WeakSet,gF=new WeakSet,gV=new WeakSet,gR=new WeakSet,gN=new WeakSet,gG=new WeakSet,gj=new WeakSet;class gK extends f.Component{onSetup(){(0,c._)(this,gg,tj()),(0,f.provideContext)(vw,{default:"time",value:(0,_._)(this,gG,me).bind(this),time:(0,_._)(this,gj,mi).bind(this)}),this.setAttributes({"data-chapters":(0,_._)(this,gy,gH).bind(this)}),this.setStyles({"--slider-progress":(0,_._)(this,gk,gU).bind(this)}),(0,f.effect)((0,_._)(this,gW,gQ).bind(this)),(0,f.effect)((0,_._)(this,gS,gB).bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),ec(t,"aria-label","Seek")}onConnect(t){(0,f.effect)((0,_._)(this,g$,gz).bind(this)),tr((0,o._)(this,gg).textTracks,"chapters",(0,o._)(this,gb).set)}constructor(){super(),(0,p._)(this,gk),(0,p._)(this,gy),(0,p._)(this,gS),(0,p._)(this,gW),(0,p._)(this,g$),(0,p._)(this,gM),(0,p._)(this,gx),(0,p._)(this,gP),(0,p._)(this,gA),(0,p._)(this,gC),(0,p._)(this,gE),(0,p._)(this,gq),(0,p._)(this,gD),(0,p._)(this,gO),(0,p._)(this,gL),(0,p._)(this,gI),(0,p._)(this,gF),(0,p._)(this,gV),(0,p._)(this,gR),(0,p._)(this,gN),(0,p._)(this,gG),(0,p._)(this,gj),(0,u._)(this,gg,{writable:!0,value:void 0}),(0,u._)(this,gm,{writable:!0,value:void 0}),(0,u._)(this,gb,{writable:!0,value:void 0}),(0,u._)(this,gT,{writable:!0,value:void 0}),(0,c._)(this,gb,(0,f.signal)(null)),(0,c._)(this,gT,!1);let{noSwipeGesture:t}=this.$props;new vC({swipeGesture:()=>!t(),getValue:(0,_._)(this,gq,g2).bind(this),getStep:(0,_._)(this,gD,g3).bind(this),getKeyStep:(0,_._)(this,gO,g5).bind(this),roundValue:(0,_._)(this,gL,g9),isDisabled:(0,_._)(this,gI,g4).bind(this),aria:{valueNow:(0,_._)(this,gF,g6).bind(this),valueText:(0,_._)(this,gV,g7).bind(this)},onDragStart:(0,_._)(this,gP,gJ).bind(this),onDragValueChange:(0,_._)(this,gA,gZ).bind(this),onDragEnd:(0,_._)(this,gC,g0).bind(this),onValueChange:(0,_._)(this,gE,g1).bind(this)})}}function gU(){let{bufferedEnd:t,duration:e}=(0,o._)(this,gg).$state;return el(100*Math.min(t()/Math.max(e(),1),1),3)+"%"}function gH(){var t;let{duration:e}=(0,o._)(this,gg).$state;return(null===(t=(0,o._)(this,gb).call(this))||void 0===t?void 0:t.cues.length)&&Number.isFinite(e())&&e()>0}function gB(){(0,c._)(this,gm,(0,f.functionThrottle)((0,_._)(this,gM,gX).bind(this),this.$props.seekingRequestThrottle()))}function gQ(){if(this.$state.hidden())return;let{value:t,dragging:e}=this.$state,i=(0,_._)(this,gq,g2).call(this);(0,f.peek)(e)||(t.set(i),this.dispatch("value-change",{detail:i}))}function gz(){let t=(0,o._)(this,gg).player.el,{preview:e}=(0,f.useContext)(pM);t&&e()&&(0,f.setAttribute)(t,"data-preview",this.$state.active())}function gX(t,e){(0,o._)(this,gg).remote.seeking(t,e)}function gY(t,e,i){(0,o._)(this,gm).cancel();let{live:s}=(0,o._)(this,gg).$state;if(s()&&e>=99){(0,o._)(this,gg).remote.seekToLiveEdge(i);return}(0,o._)(this,gg).remote.seek(t,i)}function gJ(t){let{pauseWhileDragging:e}=this.$props;if(e()){let{paused:e}=(0,o._)(this,gg).$state;(0,c._)(this,gT,!e()),(0,o._)(this,gg).remote.pause(t)}}function gZ(t){(0,o._)(this,gm).call(this,(0,_._)(this,gR,g8).call(this,t.detail),t)}function g0(t){let{seeking:e}=(0,o._)(this,gg).$state;(0,f.peek)(e)||(0,_._)(this,gM,gX).call(this,(0,_._)(this,gR,g8).call(this,t.detail),t);let i=t.detail;(0,_._)(this,gx,gY).call(this,(0,_._)(this,gR,g8).call(this,i),i,t);let{pauseWhileDragging:s}=this.$props;s()&&(0,o._)(this,gT)&&((0,o._)(this,gg).remote.play(t),(0,c._)(this,gT,!1))}function g1(t){let{dragging:e}=this.$state;!e()&&t.trigger&&(0,_._)(this,gC,g0).call(this,t)}function g2(){let{currentTime:t}=(0,o._)(this,gg).$state;return(0,_._)(this,gN,mt).call(this,t())}function g3(){let t=this.$props.step()/(0,o._)(this,gg).$state.duration()*100;return Number.isFinite(t)?t:1}function g5(){let t=this.$props.keyStep()/(0,o._)(this,gg).$state.duration()*100;return Number.isFinite(t)?t:1}function g9(t){return el(t,3)}function g4(){let{disabled:t}=this.$props,{canSeek:e}=(0,o._)(this,gg).$state;return t()||!e()}function g6(){let{value:t}=this.$state;return Math.round(t())}function g7(){let t=(0,_._)(this,gR,g8).call(this,this.$state.value()),{duration:e}=(0,o._)(this,gg).$state;return Number.isFinite(t)?"".concat(hS(t)," out of ").concat(hS(e())):"live"}function g8(t){let{duration:e}=(0,o._)(this,gg).$state;return el(t/100*e(),5)}function mt(t){let{liveEdge:e,duration:i}=(0,o._)(this,gg).$state,s=Math.max(0,Math.min(1,e()?1:Math.min(t,i())/i()));return Number.isNaN(s)?0:Number.isFinite(s)?100*s:100}function me(t){let e=(0,_._)(this,gR,g8).call(this,t),{live:i,duration:s}=(0,o._)(this,gg).$state;return Number.isFinite(e)?(i()?e-s():e).toFixed(0):"LIVE"}function mi(t,e){let i=(0,_._)(this,gR,g8).call(this,t),{live:s,duration:n}=(0,o._)(this,gg).$state,a=s()?i-n():i;return Number.isFinite(i)?"".concat(a<0?"-":"").concat(hy(Math.abs(a),e)):"LIVE"}gK.props={...vC.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,noSwipeGesture:!1,seekingRequestThrottle:100},gK.state=pm;var ms=new WeakMap,mn=new WeakMap,ma=new WeakMap,ml=new WeakMap,mh=new WeakMap,mr=new WeakMap,mo=new WeakMap,mu=new WeakMap,mc=new WeakMap,md=new WeakMap,m_=new WeakSet,mp=new WeakSet,mv=new WeakSet,mf=new WeakSet,mw=new WeakSet,mg=new WeakSet,mm=new WeakSet,mb=new WeakSet,mk=new WeakSet,my=new WeakSet,mS=new WeakSet,mW=new WeakMap,m$=new WeakMap,mM=new WeakSet,mx=new WeakSet,mT=new WeakSet,mP=new WeakSet,mA=new WeakSet,mC=new WeakSet,mE=new WeakSet,mq=new WeakMap,mD=new WeakSet,mO=new WeakSet,mL=new WeakSet;class mI extends f.Component{get cues(){return(0,o._)(this,mo).call(this)}get activeCue(){return(0,o._)(this,mo).call(this)[(0,o._)(this,mu).call(this)]||null}get activePointerCue(){return(0,o._)(this,mo).call(this)[(0,o._)(this,mc).call(this)]||null}onSetup(){(0,c._)(this,ms,tj()),(0,c._)(this,mn,(0,f.useState)(gK.state))}onAttach(t){tr((0,o._)(this,ms).textTracks,"chapters",(0,_._)(this,m_,mF).bind(this)),(0,f.effect)((0,_._)(this,mA,mZ).bind(this))}onConnect(){(0,f.onDispose)(()=>(0,_._)(this,mp,mV).bind(this))}onDestroy(){(0,_._)(this,m_,mF).call(this,null)}setRefs(t){var e;if((0,c._)(this,mh,t),null===(e=(0,o._)(this,ma))||void 0===e||e.dispose(),1===(0,o._)(this,mh).length){let t=(0,o._)(this,mh)[0];t.style.width="100%",t.style.setProperty("--chapter-fill","var(--slider-fill)"),t.style.setProperty("--chapter-progress","var(--slider-progress)")}else(0,o._)(this,mh).length>0&&(0,f.scoped)(()=>(0,_._)(this,mv,mR).call(this),(0,c._)(this,ma,(0,f.createScope)()))}constructor(...t){super(...t),(0,p._)(this,m_),(0,p._)(this,mp),(0,p._)(this,mv),(0,p._)(this,mf),(0,p._)(this,mw),(0,p._)(this,mg),(0,p._)(this,mm),(0,p._)(this,mb),(0,p._)(this,mk),(0,p._)(this,my),(0,p._)(this,mS),(0,p._)(this,mM),(0,p._)(this,mx),(0,p._)(this,mT),(0,p._)(this,mP),(0,p._)(this,mA),(0,p._)(this,mC),(0,p._)(this,mE),(0,p._)(this,mD),(0,p._)(this,mO),(0,p._)(this,mL),(0,u._)(this,ms,{writable:!0,value:void 0}),(0,u._)(this,mn,{writable:!0,value:void 0}),(0,u._)(this,ma,{writable:!0,value:void 0}),(0,u._)(this,ml,{writable:!0,value:void 0}),(0,u._)(this,mh,{writable:!0,value:void 0}),(0,u._)(this,mr,{writable:!0,value:void 0}),(0,u._)(this,mo,{writable:!0,value:void 0}),(0,u._)(this,mu,{writable:!0,value:void 0}),(0,u._)(this,mc,{writable:!0,value:void 0}),(0,u._)(this,md,{writable:!0,value:void 0}),(0,u._)(this,mW,{writable:!0,value:void 0}),(0,u._)(this,m$,{writable:!0,value:void 0}),(0,u._)(this,mq,{writable:!0,value:void 0}),(0,c._)(this,ml,null),(0,c._)(this,mh,[]),(0,c._)(this,mr,(0,f.signal)(null)),(0,c._)(this,mo,(0,f.signal)([])),(0,c._)(this,mu,(0,f.signal)(-1)),(0,c._)(this,mc,(0,f.signal)(-1)),(0,c._)(this,md,0),(0,c._)(this,mW,(0,f.animationFrameThrottle)(t=>{let e,i=(0,o._)(this,mo).call(this),{seekableStart:s}=(0,o._)(this,ms).$state,n=s(),a=(0,_._)(this,mx,mX).call(this,i);for(let s=(0,o._)(this,md);s<(0,o._)(this,mh).length;s++){var l;if(e=(0,_._)(this,mT,mY).call(this,i[s],t,n,a),null===(l=(0,o._)(this,mh)[s])||void 0===l||l.style.setProperty("--chapter-progress",e+"%"),e<100){(0,c._)(this,md,s);break}}})),(0,c._)(this,m$,(0,f.computed)((0,_._)(this,mM,mz).bind(this))),(0,c._)(this,mq,(0,f.functionDebounce)(()=>{let t=(0,f.peek)((0,o._)(this,mr));this.scope&&t&&t.cues.length&&((0,o._)(this,mo).set((0,_._)(this,mP,mJ).call(this,t.cues)),(0,o._)(this,mu).set(0),(0,c._)(this,md,0))},150,!0))}}function mF(t){(0,f.peek)((0,o._)(this,mr))!==t&&((0,_._)(this,mp,mV).call(this),(0,o._)(this,mr).set(t))}function mV(){var t;(0,c._)(this,mh,[]),(0,o._)(this,mo).set([]),(0,o._)(this,mu).set(-1),(0,o._)(this,mc).set(-1),(0,c._)(this,md,0),null===(t=(0,o._)(this,ma))||void 0===t||t.dispose()}function mR(){(0,o._)(this,mh).length&&(0,f.effect)((0,_._)(this,mf,mN).bind(this))}function mN(){let{hidden:t}=(0,o._)(this,mn);t()||((0,f.effect)((0,_._)(this,mw,mG).bind(this)),(0,f.effect)((0,_._)(this,mg,mj).bind(this)),(0,f.effect)((0,_._)(this,mm,mK).bind(this)),(0,f.effect)((0,_._)(this,mS,mQ).bind(this)))}function mG(){let t=(0,o._)(this,mo).call(this);if(!t.length)return;let e,{seekableStart:i,seekableEnd:s}=(0,o._)(this,ms).$state,n=i(),a=(s()||t[t.length-1].endTime)-n,l=100;for(let i=0;i<t.length;i++)if(e=t[i],(0,o._)(this,mh)[i]){let s=i===t.length-1?l:el((e.endTime-Math.max(n,e.startTime))/a*100,3);(0,o._)(this,mh)[i].style.width=s+"%",l-=s}}function mj(){let{liveEdge:t,seekableStart:e,seekableEnd:i}=(0,o._)(this,ms).$state,{fillPercent:s,value:n}=(0,o._)(this,mn),a=(0,o._)(this,mo).call(this),l=t(),h=(0,f.peek)((0,o._)(this,mu)),r=a[h],u=l?(0,o._)(this,mo).length-1:(0,_._)(this,my,mB).call(this,r&&r.startTime/i()*100<=(0,f.peek)(n)?h:0,s());l||!r?(0,_._)(this,mb,mU).call(this,0,a.length,100):u>h?(0,_._)(this,mb,mU).call(this,h,u,100):u<h&&(0,_._)(this,mb,mU).call(this,u+1,h+1,0);let c=l?100:(0,_._)(this,mT,mY).call(this,a[u],s(),e(),(0,_._)(this,mx,mX).call(this,a));(0,_._)(this,mk,mH).call(this,(0,o._)(this,mh)[u],c),(0,o._)(this,mu).set(u)}function mK(){let{pointing:t,pointerPercent:e}=(0,o._)(this,mn);if(!t()){(0,o._)(this,mc).set(-1);return}let i=(0,_._)(this,my,mB).call(this,0,e());(0,o._)(this,mc).set(i)}function mU(t,e,i){for(let s=t;s<e;s++)(0,_._)(this,mk,mH).call(this,(0,o._)(this,mh)[s],i)}function mH(t,e){t&&(t.style.setProperty("--chapter-fill",e+"%"),(0,f.setAttribute)(t,"data-active",e>0&&e<100),(0,f.setAttribute)(t,"data-ended",100===e))}function mB(t,e){let i=0,s=(0,o._)(this,mo).call(this);if(0===e)return 0;if(100===e)return s.length-1;let{seekableStart:n}=(0,o._)(this,ms).$state,a=n(),l=(0,_._)(this,mx,mX).call(this,s);for(let n=t;n<s.length;n++)if((i=(0,_._)(this,mT,mY).call(this,s[n],e,a,l))>=0&&i<100)return n;return 0}function mQ(){(0,o._)(this,mW).call(this,(0,o._)(this,m$).call(this))}function mz(){let{bufferedEnd:t,duration:e}=(0,o._)(this,ms).$state;return 100*el(Math.min(t()/Math.max(e(),1),1),3)}function mX(t){var e;let{seekableEnd:i}=(0,o._)(this,ms).$state,s=i();return Number.isFinite(s)?s:(null===(e=t[t.length-1])||void 0===e?void 0:e.endTime)||0}function mY(t,e,i,s){if(!t||0===(0,o._)(this,mo).call(this).length)return 0;let n=s-i,a=Math.max(0,t.startTime-i),l=Math.min(s,t.endTime)-i,h=a/n,r=100*h,u=100*Math.min(1,h+(l-a)/n);return Math.max(0,el(e>=u?100:(e-r)/(u-r)*100,3))}function mJ(t){let e=[],{seekableStart:i,seekableEnd:s,duration:n}=(0,o._)(this,ms).$state,a=i(),l=s(),h=(t=t.filter(t=>t.startTime<=l&&t.endTime>=a))[0];h&&h.startTime>a&&e.push(new window.VTTCue(a,h.startTime,""));for(let i=0;i<t.length-1;i++){let s=t[i],n=t[i+1];if(e.push(s),n){let t=n.startTime-s.endTime;t>0&&e.push(new window.VTTCue(s.endTime,s.endTime+t,""))}}let r=t[t.length-1];if(r){e.push(r);let t=n();t>=0&&t-r.endTime>1&&e.push(new window.VTTCue(r.endTime,n(),""))}return e}function mZ(){let{source:t}=(0,o._)(this,ms).$state;t(),(0,_._)(this,mC,m0).call(this)}function m0(){if(!this.scope)return;let{disabled:t}=this.$props;if(t()){(0,o._)(this,mo).set([]),(0,o._)(this,mu).set(0),(0,c._)(this,md,0);return}let e=(0,o._)(this,mr).call(this);if(e){let t=(0,o._)(this,mq).bind(this);t(),new f.EventsController(e).add("add-cue",t).add("remove-cue",t),(0,f.effect)((0,_._)(this,mE,m1).bind(this))}return(0,c._)(this,ml,(0,_._)(this,mL,m5).call(this)),(0,o._)(this,ml)&&(0,f.effect)((0,_._)(this,mD,m2).bind(this)),()=>{(0,o._)(this,ml)&&((0,o._)(this,ml).textContent="",(0,c._)(this,ml,null))}}function m1(){(0,o._)(this,ms).$state.duration(),(0,o._)(this,mq).call(this)}function m2(){let t=this.activePointerCue||this.activeCue;(0,o._)(this,ml)&&((0,o._)(this,ml).textContent=(null==t?void 0:t.text)||"")}function m3(){let t=this.el;for(;t&&"slider"!==t.getAttribute("role");)t=t.parentElement;return t}function m5(){let t=(0,_._)(this,mO,m3).call(this);return t?t.querySelector('[data-part="chapter-title"]'):null}mI.props={disabled:!1};let m9=mI.prototype;(0,f.prop)(m9,"cues"),(0,f.prop)(m9,"activeCue"),(0,f.prop)(m9,"activePointerCue"),(0,f.method)(m9,"setRefs");let m4=(0,f.createContext)(),m6=["a[href]","[tabindex]","input","select","button"].map(t=>"".concat(t,":not([aria-hidden='true'])")).join(","),m7=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);var m8=new WeakMap,bt=new WeakMap,be=new WeakMap,bi=new WeakMap,bs=new WeakSet,bn=new WeakSet,ba=new WeakSet,bl=new WeakSet,bh=new WeakSet,br=new WeakSet,bo=new WeakSet,bu=new WeakSet;class bc{get items(){return(0,o._)(this,be)}attachMenu(t){(0,f.listenEvent)(t,"focus",(0,_._)(this,ba,bp).bind(this)),(0,c._)(this,bt,t),(0,f.onDispose)(()=>{(0,c._)(this,bt,null)})}listen(){(0,o._)(this,bt)&&(this.update(),new f.EventsController((0,o._)(this,bt)).add("keyup",(0,_._)(this,bh,bf).bind(this)).add("keydown",(0,_._)(this,br,bw).bind(this)),(0,f.onDispose)(()=>{(0,c._)(this,m8,-1),(0,c._)(this,be,[])}))}update(){(0,c._)(this,m8,0),(0,c._)(this,be,(0,_._)(this,bu,bm).call(this))}scroll(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,_._)(this,bn,b_).call(this),e=(0,o._)(this,be)[t];e&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){for(let{el:i,top:s,left:n}of(0,f.r)(t,e))i.scroll({top:s,left:n,behavior:e.behavior})}(t,{scrollMode:"if-needed",block:"center",inline:"center",...e})}(e,{behavior:"smooth",boundary:t=>!t.hasAttribute("data-root")})})})}focusActive(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],e=(0,_._)(this,bn,b_).call(this);(0,_._)(this,bs,bd).call(this,e>=0?e:0,t)}constructor(t){(0,p._)(this,bs),(0,p._)(this,bn),(0,p._)(this,ba),(0,p._)(this,bl),(0,p._)(this,bh),(0,p._)(this,br),(0,p._)(this,bo),(0,p._)(this,bu),(0,u._)(this,m8,{writable:!0,value:void 0}),(0,u._)(this,bt,{writable:!0,value:void 0}),(0,u._)(this,be,{writable:!0,value:void 0}),(0,u._)(this,bi,{writable:!0,value:void 0}),(0,c._)(this,m8,-1),(0,c._)(this,bt,null),(0,c._)(this,be,[]),(0,c._)(this,bi,t)}}function bd(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if((0,c._)(this,m8,t),(0,o._)(this,be)[t])(0,o._)(this,be)[t].focus({preventScroll:!0}),e&&this.scroll(t);else{var i;null===(i=(0,o._)(this,bt))||void 0===i||i.focus({preventScroll:!0})}}function b_(){return(0,o._)(this,be).findIndex(t=>document.activeElement===t||"menuitemradio"===t.getAttribute("role")&&"true"===t.getAttribute("aria-checked"))}function bp(){(0,o._)(this,m8)>=0||(this.update(),this.focusActive())}function bv(t){let e=t.target;if((0,f.wasEnterKeyPressed)(t)&&e instanceof Element){let t=e.getAttribute("role");return!/a|input|select|button/.test(e.localName)&&!t}return m7.has(t.key)}function bf(t){(0,_._)(this,bl,bv).call(this,t)&&(t.stopPropagation(),t.preventDefault())}function bw(t){if((0,_._)(this,bl,bv).call(this,t))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":(0,o._)(this,bi).closeMenu(t);break;case"Tab":(0,_._)(this,bs,bd).call(this,(0,_._)(this,bo,bg).call(this,t.shiftKey?-1:1));break;case"ArrowUp":(0,_._)(this,bs,bd).call(this,(0,_._)(this,bo,bg).call(this,-1));break;case"ArrowDown":(0,_._)(this,bs,bd).call(this,(0,_._)(this,bo,bg).call(this,1));break;case"Home":case"PageUp":(0,_._)(this,bs,bd).call(this,0);break;case"End":case"PageDown":(0,_._)(this,bs,bd).call(this,(0,o._)(this,be).length-1)}}function bg(t){var e;let i=(0,o._)(this,m8);do i=(i+t+(0,o._)(this,be).length)%(0,o._)(this,be).length;while((null===(e=(0,o._)(this,be)[i])||void 0===e?void 0:e.offsetParent)===null);return i}function bm(){if(!(0,o._)(this,bt))return[];let t=(0,o._)(this,bt).querySelectorAll(m6),e=[],i=t=>"menu"===t.getAttribute("role");for(let s of t)eb(s)&&null!==s.offsetParent&&ev((0,o._)(this,bt),s,i)&&e.push(s);return e}var bb=Object.defineProperty,bk=Object.getOwnPropertyDescriptor,by=(t,e,i,s)=>{for(var n,a=bk(e,i),l=t.length-1;l>=0;l--)(n=t[l])&&(a=n(e,i,a)||a);return a&&bb(e,i,a),a};let bS=0;var bW=new WeakMap,b$=new WeakMap,bM=new WeakMap,bx=new WeakMap,bT=new WeakMap,bP=new WeakMap,bA=new WeakMap,bC=new WeakMap,bE=new WeakMap,bq=new WeakMap,bD=new WeakMap,bO=new WeakMap,bL=new WeakMap,bI=new WeakMap,bF=new WeakMap,bV=new WeakSet,bR=new WeakSet,bN=new WeakSet,bG=new WeakSet,bj=new WeakSet,bK=new WeakSet,bU=new WeakSet,bH=new WeakMap,bB=new WeakSet,bQ=new WeakSet,bz=new WeakSet,bX=new WeakSet,bY=new WeakSet,bJ=new WeakSet,bZ=new WeakSet,b0=new WeakSet,b1=new WeakSet,b2=new WeakSet,b3=new WeakMap,b5=new WeakSet,b9=new WeakMap,b4=new WeakMap,b6=new WeakSet,b7=new WeakMap,b8=new WeakSet,kt=new WeakMap,ke=new WeakMap,ki=new WeakSet;class ks extends f.Component{get triggerElement(){return(0,o._)(this,bP).call(this)}get contentElement(){return(0,o._)(this,bA).call(this)}get isSubmenu(){return!!(0,o._)(this,bC)}onSetup(){(0,c._)(this,bW,tj());let t=++bS;(0,c._)(this,b$,"media-menu-".concat(t)),(0,c._)(this,bM,"media-menu-button-".concat(t)),(0,c._)(this,bO,new bc({closeMenu:this.close.bind(this)})),(0,f.hasProvidedContext)(m4)&&(0,c._)(this,bC,(0,f.useContext)(m4)),(0,_._)(this,bV,kn).call(this),this.setAttributes({"data-open":(0,o._)(this,bx),"data-root":!this.isSubmenu,"data-submenu":this.isSubmenu,"data-disabled":(0,_._)(this,bX,kp).bind(this)}),(0,f.provideContext)(m4,{button:(0,o._)(this,bP),content:(0,o._)(this,bA),expanded:(0,o._)(this,bx),hint:(0,f.signal)(""),submenu:!!(0,o._)(this,bC),disable:(0,_._)(this,bY,kv).bind(this),attachMenuButton:(0,_._)(this,bN,kl).bind(this),attachMenuItems:(0,_._)(this,bG,kh).bind(this),attachObserver:(0,_._)(this,bj,kr).bind(this),disableMenuButton:(0,_._)(this,bU,ku).bind(this),addSubmenu:(0,_._)(this,b2,kb).bind(this),onTransitionEvent:t=>{(0,o._)(this,bF).add(t),(0,f.onDispose)(()=>{(0,o._)(this,bF).delete(t)})}})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){if((0,f.effect)((0,_._)(this,bR,ka).bind(this)),this.isSubmenu){var e;null===(e=(0,o._)(this,bC))||void 0===e||e.addSubmenu(this)}}onDestroy(){(0,o._)(this,bP).set(null),(0,o._)(this,bA).set(null),(0,c._)(this,bq,null),(0,o._)(this,bF).clear()}open(t){(0,f.peek)((0,o._)(this,bx))||((0,o._)(this,bD).show(t),(0,f.tick)())}close(t){(0,f.peek)((0,o._)(this,bx))&&((0,o._)(this,bD).hide(t),(0,f.tick)())}constructor(){super(),(0,p._)(this,bV),(0,p._)(this,bR),(0,p._)(this,bN),(0,p._)(this,bG),(0,p._)(this,bj),(0,p._)(this,bK),(0,p._)(this,bU),(0,p._)(this,bB),(0,p._)(this,bQ),(0,p._)(this,bz),(0,p._)(this,bX),(0,p._)(this,bY),(0,p._)(this,bJ),(0,p._)(this,bZ),(0,p._)(this,b0),(0,p._)(this,b1),(0,p._)(this,b2),(0,p._)(this,b5),(0,p._)(this,b6),(0,p._)(this,b8),(0,p._)(this,ki),(0,u._)(this,bW,{writable:!0,value:void 0}),(0,u._)(this,b$,{writable:!0,value:void 0}),(0,u._)(this,bM,{writable:!0,value:void 0}),(0,u._)(this,bx,{writable:!0,value:void 0}),(0,u._)(this,bT,{writable:!0,value:void 0}),(0,u._)(this,bP,{writable:!0,value:void 0}),(0,u._)(this,bA,{writable:!0,value:void 0}),(0,u._)(this,bC,{writable:!0,value:void 0}),(0,u._)(this,bE,{writable:!0,value:void 0}),(0,u._)(this,bq,{writable:!0,value:void 0}),(0,u._)(this,bD,{writable:!0,value:void 0}),(0,u._)(this,bO,{writable:!0,value:void 0}),(0,u._)(this,bL,{writable:!0,value:void 0}),(0,u._)(this,bI,{writable:!0,value:void 0}),(0,u._)(this,bF,{writable:!0,value:void 0}),(0,u._)(this,bH,{writable:!0,value:void 0}),(0,u._)(this,b3,{writable:!0,value:void 0}),(0,u._)(this,b9,{writable:!0,value:void 0}),(0,u._)(this,b4,{writable:!0,value:void 0}),(0,u._)(this,b7,{writable:!0,value:void 0}),(0,u._)(this,kt,{writable:!0,value:void 0}),(0,u._)(this,ke,{writable:!0,value:void 0}),(0,c._)(this,bx,(0,f.signal)(!1)),(0,c._)(this,bT,(0,f.signal)(!1)),(0,c._)(this,bP,(0,f.signal)(null)),(0,c._)(this,bA,(0,f.signal)(null)),(0,c._)(this,bE,new Set),(0,c._)(this,bq,null),(0,c._)(this,bL,!1),(0,c._)(this,bI,(0,f.signal)(!1)),(0,c._)(this,bF,new Set),(0,c._)(this,bH,!1),(0,c._)(this,b3,(0,_._)(this,b5,kk).bind(this)),(0,c._)(this,b9,!1),(0,c._)(this,b4,(0,_._)(this,b6,ky).bind(this)),(0,c._)(this,b7,(0,_._)(this,b8,kS).bind(this)),(0,c._)(this,kt,(0,f.animationFrameThrottle)(()=>{let t=(0,f.peek)((0,o._)(this,bA));if(!t||m)return;let e=0,i=getComputedStyle(t),s=[...t.children];for(let t of["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"])e+=parseFloat(i[t])||0;for(let t of s)if(eb(t)&&"contents"===t.style.display)s.push(...t.children);else if(3===t.nodeType)e+=parseFloat(getComputedStyle(t).fontSize);else if(eb(t)){if(!e_(t))continue;let i=getComputedStyle(t);e+=t.offsetHeight+(parseFloat(i.marginTop)||0)+(parseFloat(i.marginBottom)||0)}(0,f.setStyle)(t,"--menu-height",e+"px")})),(0,c._)(this,ke,!1);let{showDelay:t}=this.$props;(0,c._)(this,bD,new dC({trigger:(0,o._)(this,bP),content:(0,o._)(this,bA),showDelay:t,listen:(t,e,i)=>{ef(t,t=>{(0,o._)(this,bx).call(this)?i(t):e(t)});let s=(0,_._)(this,b0,kg).call(this);s&&ef(s,t=>{t.stopPropagation(),i(t)})},onChange:(0,_._)(this,bB,kc).bind(this)}))}}function kn(){let t=-1,e=(0,f.hasProvidedContext)(px)?(0,f.useContext)(px):null;(0,f.provideContext)(px,{onDragStart:()=>{var i;null==e||null===(i=e.onDragStart)||void 0===i||i.call(e),window.clearTimeout(t),t=-1,(0,c._)(this,bL,!0)},onDragEnd:()=>{var i;null==e||null===(i=e.onDragEnd)||void 0===i||i.call(e),t=window.setTimeout(()=>{(0,c._)(this,bL,!1),t=-1},300)}})}function ka(){let t=(0,_._)(this,bz,k_).call(this);this.isSubmenu||(0,o._)(this,kt).call(this),(0,_._)(this,bK,ko).call(this,t),t&&((0,f.effect)(()=>{let{height:t}=(0,o._)(this,bW).$state,e=(0,o._)(this,bA).call(this);e&&(0,f.setStyle)(e,"--player-height",t()+"px")}),(0,o._)(this,bO).listen(),this.listen("pointerup",(0,_._)(this,bJ,kf).bind(this)),(0,f.listenEvent)(window,"pointerup",(0,_._)(this,bZ,kw).bind(this)))}function kl(t){let e=t.el,i=this.isSubmenu,s=_d((0,_._)(this,bX,kp).bind(this));ec(e,"tabindex",i?"-1":"0"),ec(e,"role",i?"menuitem":"button"),(0,f.setAttribute)(e,"id",(0,o._)(this,bM)),(0,f.setAttribute)(e,"aria-haspopup","menu"),(0,f.setAttribute)(e,"aria-expanded","false"),(0,f.setAttribute)(e,"data-root",!this.isSubmenu),(0,f.setAttribute)(e,"data-submenu",this.isSubmenu);let n=()=>{(0,f.setAttribute)(e,"data-open",(0,o._)(this,bx).call(this)),(0,f.setAttribute)(e,"aria-disabled",s())};m?n():(0,f.effect)(n),(0,o._)(this,bP).set(e),(0,f.onDispose)(()=>{(0,o._)(this,bP).set(null)})}function kh(t){let e=t.el;e.style.setProperty("display","none"),(0,f.setAttribute)(e,"id",(0,o._)(this,b$)),ec(e,"role","menu"),ec(e,"tabindex","-1"),(0,f.setAttribute)(e,"data-root",!this.isSubmenu),(0,f.setAttribute)(e,"data-submenu",this.isSubmenu),(0,o._)(this,bA).set(e),(0,f.onDispose)(()=>(0,o._)(this,bA).set(null));let i=()=>(0,f.setAttribute)(e,"data-open",(0,o._)(this,bx).call(this));m?i():(0,f.effect)(i),(0,o._)(this,bO).attachMenu(e),(0,_._)(this,bK,ko).call(this,!1);let s=(0,_._)(this,ki,kW).bind(this);if(this.isSubmenu){var n;null===(n=(0,o._)(this,bC))||void 0===n||n.onTransitionEvent(s)}else t.listen("transitionstart",s),t.listen("transitionend",s),t.listen("animationend",(0,o._)(this,kt)),t.listen("vds-menu-resize",(0,o._)(this,kt))}function kr(t){(0,c._)(this,bq,t)}function ko(t){let e=(0,f.peek)((0,o._)(this,bA));e&&(0,f.setAttribute)(e,"aria-hidden",(0,f.ariaBool)(!t))}function ku(t){(0,o._)(this,bI).set(t)}function kc(t,e){var i,s,n,a,l,h;if((0,c._)(this,bH,(0,f.isKeyboardEvent)(e)),null==e||e.stopPropagation(),(0,o._)(this,bx).call(this)===t)return;if((0,_._)(this,bX,kp).call(this)){t&&(0,o._)(this,bD).hide(e);return}null===(i=this.el)||void 0===i||i.dispatchEvent(new Event("vds-menu-resize",{bubbles:!0,composed:!0}));let r=(0,o._)(this,bP).call(this),u=(0,o._)(this,bA).call(this);if(r&&((0,f.setAttribute)(r,"aria-controls",t&&(0,o._)(this,b$)),(0,f.setAttribute)(r,"aria-expanded",(0,f.ariaBool)(t))),u&&(0,f.setAttribute)(u,"aria-labelledby",t&&(0,o._)(this,bM)),(0,o._)(this,bx).set(t),(0,_._)(this,b1,km).call(this,e),(0,f.tick)(),(0,o._)(this,bH))for(let e of(t?null==u||u.focus():null==r||r.focus(),[this.el,u]))e&&e.setAttribute("data-keyboard","");else for(let t of[this.el,u])t&&t.removeAttribute("data-keyboard");if(this.dispatch(t?"open":"close",{trigger:e}),t)this.isSubmenu||(0,o._)(this,bW).activeMenu===this||(null===(a=(0,o._)(this,bW).activeMenu)||void 0===a||a.close(e),(0,o._)(this,bW).activeMenu=this),null===(n=(0,o._)(this,bq))||void 0===n||null===(s=n.onOpen)||void 0===s||s.call(n,e);else{if(this.isSubmenu)for(let t of(0,o._)(this,bE))t.close(e);else(0,o._)(this,bW).activeMenu=null;null===(h=(0,o._)(this,bq))||void 0===h||null===(l=h.onClose)||void 0===l||l.call(h,e)}t&&requestAnimationFrame((0,_._)(this,bQ,kd).bind(this))}function kd(){(0,o._)(this,ke)||(0,o._)(this,b9)||((0,o._)(this,bO).update(),requestAnimationFrame(()=>{(0,o._)(this,bH)?(0,o._)(this,bO).focusActive():(0,o._)(this,bO).scroll()}))}function k_(){return!(0,_._)(this,bX,kp).call(this)&&(0,o._)(this,bx).call(this)}function kp(){return(0,o._)(this,bT).call(this)||(0,o._)(this,bI).call(this)}function kv(t){(0,o._)(this,bT).set(t)}function kf(t){let e=(0,o._)(this,bA).call(this);(0,o._)(this,bL)||e&&eo(e,t)||t.stopPropagation()}function kw(t){let e=(0,o._)(this,bA).call(this);(0,o._)(this,bL)||e&&eo(e,t)||this.close(t)}function kg(){var t;let e=null===(t=this.el)||void 0===t?void 0:t.querySelector('[data-part="close-target"]');return this.el&&e&&ev(this.el,e,t=>"menu"===t.getAttribute("role"))?e:null}function km(t){this.isSubmenu||((0,o._)(this,bx).call(this)?(0,o._)(this,bW).remote.pauseControls(t):(0,o._)(this,bW).remote.resumeControls(t))}function kb(t){(0,o._)(this,bE).add(t),new f.EventsController(t).add("open",(0,o._)(this,b4)).add("close",(0,o._)(this,b7)),(0,f.onDispose)((0,o._)(this,b3))}function kk(t){(0,o._)(this,bE).delete(t)}function ky(t){(0,c._)(this,b9,!0);let e=(0,o._)(this,bA).call(this);if(this.isSubmenu){var i;null===(i=this.triggerElement)||void 0===i||i.setAttribute("aria-hidden","true")}for(let e of(0,o._)(this,bE))if(e!==t.target)for(let t of[e.el,e.triggerElement])null==t||t.setAttribute("aria-hidden","true");if(e){let i=t.target.el;for(let t of e.children)t.contains(i)?t.setAttribute("data-open",""):t!==i&&t.setAttribute("data-hidden","")}}function kS(t){(0,c._)(this,b9,!1);let e=(0,o._)(this,bA).call(this);if(this.isSubmenu){var i;null===(i=this.triggerElement)||void 0===i||i.setAttribute("aria-hidden","false")}for(let t of(0,o._)(this,bE))for(let e of[t.el,t.triggerElement])null==e||e.setAttribute("aria-hidden","false");if(e)for(let t of e.children)t.removeAttribute("data-open"),t.removeAttribute("data-hidden")}function kW(t){let e=(0,o._)(this,bA).call(this);for(let i of(e&&"height"===t.propertyName&&((0,c._)(this,ke,"transitionstart"===t.type),(0,f.setAttribute)(e,"data-transition",(0,o._)(this,ke)?"height":null),(0,o._)(this,bx).call(this)&&(0,_._)(this,bQ,kd).call(this)),(0,o._)(this,bF)))i(t)}ks.props={showDelay:0},by([f.prop],ks.prototype,"triggerElement"),by([f.prop],ks.prototype,"contentElement"),by([f.prop],ks.prototype,"isSubmenu"),by([f.method],ks.prototype,"open"),by([f.method],ks.prototype,"close");var k$=new WeakMap,kM=new WeakMap,kx=new WeakSet,kT=new WeakSet,kP=new WeakSet;class kA extends f.Component{get expanded(){var t,e;return null!==(e=null===(t=(0,o._)(this,k$))||void 0===t?void 0:t.expanded())&&void 0!==e&&e}onSetup(){(0,c._)(this,k$,(0,f.useContext)(m4))}onAttach(t){(0,o._)(this,k$).attachMenuButton(this),(0,f.effect)((0,_._)(this,kx,kC).bind(this)),ec(t,"type","button")}onConnect(t){(0,f.effect)((0,_._)(this,kT,kE).bind(this)),(0,_._)(this,kP,kq).call(this);let e=new MutationObserver((0,_._)(this,kP,kq).bind(this));e.observe(t,{attributeFilter:["data-part"],childList:!0,subtree:!0}),(0,f.onDispose)(()=>e.disconnect()),ef(t,t=>{this.dispatch("select",{trigger:t})})}constructor(){super(),(0,p._)(this,kx),(0,p._)(this,kT),(0,p._)(this,kP),(0,u._)(this,k$,{writable:!0,value:void 0}),(0,u._)(this,kM,{writable:!0,value:void 0}),(0,c._)(this,kM,(0,f.signal)(null)),new u_}}function kC(){(0,o._)(this,k$).disableMenuButton(this.$props.disabled())}function kE(){let t=(0,o._)(this,kM).call(this);t&&(0,f.effect)(()=>{let e=(0,o._)(this,k$).hint();e&&(t.textContent=e)})}function kq(){var t;let e=null===(t=this.el)||void 0===t?void 0:t.querySelector('[data-part="hint"]');(0,o._)(this,kM).set(null!=e?e:null)}kA.props={disabled:!1};let kD=kA.prototype;(0,f.prop)(kD,"expanded");class kO extends kA{}var kL=new WeakMap,kI=new WeakMap,kF=new WeakSet,kV=new WeakSet,kR=new WeakSet,kN=new WeakSet;class kG extends f.Component{onSetup(){(0,c._)(this,kI,tj()),(0,f.provideContext)(kB,{attach:(0,_._)(this,kF,kj).bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){var t;null===(t=(0,o._)(this,kL))||void 0===t||t.remove(),(0,c._)(this,kL,null)}constructor(...t){super(...t),(0,p._)(this,kF),(0,p._)(this,kV),(0,p._)(this,kR),(0,p._)(this,kN),(0,u._)(this,kL,{writable:!0,value:void 0}),(0,u._)(this,kI,{writable:!0,value:void 0}),(0,c._)(this,kL,null)}}function kj(t){(0,_._)(this,kR,kU).call(this,!1),(0,c._)(this,kL,t),eg(()=>{eg(()=>{this.connectScope&&(0,f.effect)((0,_._)(this,kV,kK).bind(this))})})}function kK(){let{fullscreen:t}=(0,o._)(this,kI).$state,{disabled:e}=this.$props;(0,_._)(this,kR,kU).call(this,"fullscreen"===e()?!t():!e())}function kU(t){if(!(0,o._)(this,kL))return;let e=(0,_._)(this,kN,kH).call(this,this.$props.container());if(!e)return;let i=(0,o._)(this,kL).parentElement===e;if((0,f.setAttribute)((0,o._)(this,kL),"data-portal",t),t)i||((0,o._)(this,kL).remove(),e.append((0,o._)(this,kL)));else if(i&&(0,o._)(this,kL).parentElement===e){var s;(0,o._)(this,kL).remove(),null===(s=this.el)||void 0===s||s.append((0,o._)(this,kL))}}function kH(t){return eb(t)?t:t?document.querySelector(t):document.body}kG.props={container:null,disabled:!1};let kB=(0,f.createContext)();var kQ=new WeakMap,kz=new WeakSet,kX=new WeakSet,kY=new WeakSet;class kJ extends f.Component{onAttach(t){if((0,c._)(this,kQ,(0,f.useContext)(m4)),(0,o._)(this,kQ).attachMenuItems(this),(0,f.hasProvidedContext)(kB)){let e=(0,f.useContext)(kB);e&&((0,f.provideContext)(kB,null),e.attach(t),(0,f.onDispose)(()=>e.attach(null)))}}onConnect(t){(0,f.effect)((0,_._)(this,kz,kZ).bind(this))}constructor(){super(),(0,p._)(this,kz),(0,p._)(this,kX),(0,p._)(this,kY),(0,u._)(this,kQ,{writable:!0,value:void 0}),new u_;let{placement:t}=this.$props;this.setAttributes({"data-placement":t})}}function kZ(){let{expanded:t}=(0,o._)(this,kQ);if(!this.el||!t())return;let e=this.$props.placement();if(!e)return;Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});let{offset:i,alignOffset:s}=this.$props;(0,f.onDispose)(em(this.el,(0,_._)(this,kY,k1).call(this),e,{offsetVarName:"media-menu",xOffset:s(),yOffset:i()})),(0,f.onDispose)((0,_._)(this,kX,k0).bind(this))}function k0(){this.el&&(this.el.removeAttribute("style"),this.el.style.display="none")}function k1(){return(0,o._)(this,kQ).button()}kJ.props={placement:null,offset:0,alignOffset:0};let k2=(0,f.createContext)();var k3=new WeakMap,k5=new WeakMap,k9=new WeakMap,k4=new WeakSet,k6=new WeakSet,k7=new WeakMap,k8=new WeakSet,yt=new WeakSet;class ye extends f.ViewController{get values(){return Array.from((0,o._)(this,k3)).map(t=>t.value())}get value(){return(0,o._)(this,k5).call(this)}set value(t){(0,_._)(this,k8,yn).call(this,t)}onSetup(){(0,f.provideContext)(k2,{add:(0,_._)(this,k4,yi).bind(this),remove:(0,_._)(this,k6,ys).bind(this)})}onAttach(t){(0,f.hasProvidedContext)(m4)||ec(t,"role","radiogroup"),this.setAttributes({value:(0,o._)(this,k5)})}onDestroy(){(0,o._)(this,k3).clear()}constructor(...t){super(...t),(0,p._)(this,k4),(0,p._)(this,k6),(0,p._)(this,k8),(0,p._)(this,yt),(0,u._)(this,k3,{writable:!0,value:void 0}),(0,u._)(this,k5,{writable:!0,value:void 0}),(0,u._)(this,k9,{writable:!0,value:void 0}),(0,u._)(this,k7,{writable:!0,value:void 0}),(0,c._)(this,k3,new Set),(0,c._)(this,k5,(0,f.signal)("")),(0,c._)(this,k9,null),(0,c._)(this,k7,(0,_._)(this,k8,yn).bind(this))}}function yi(t){(0,o._)(this,k3).has(t)||((0,o._)(this,k3).add(t),t.onCheck=(0,o._)(this,k7),t.check(t.value()===(0,o._)(this,k5).call(this)))}function ys(t){t.onCheck=null,(0,o._)(this,k3).delete(t)}function yn(t,e){var i;let s=(0,f.peek)((0,o._)(this,k5));if(!t||t===s)return;let n=(0,_._)(this,yt,ya).call(this,s),a=(0,_._)(this,yt,ya).call(this,t);null==n||n.check(!1,e),null==a||a.check(!0,e),(0,o._)(this,k5).set(t),null===(i=this.onValueChange)||void 0===i||i.call(this,t,e)}function ya(t){for(let e of(0,o._)(this,k3))if(t===(0,f.peek)(e.value))return e;return null}var yl=new WeakMap,yh=new WeakSet,yr=new WeakSet;class yo extends f.Component{get values(){return(0,o._)(this,yl).values}get value(){return(0,o._)(this,yl).value}set value(t){(0,o._)(this,yl).value=t}onSetup(){m?(0,_._)(this,yh,yu).call(this):(0,f.effect)((0,_._)(this,yh,yu).bind(this))}constructor(){super(),(0,p._)(this,yh),(0,p._)(this,yr),(0,u._)(this,yl,{writable:!0,value:void 0}),(0,c._)(this,yl,new ye),(0,o._)(this,yl).onValueChange=(0,_._)(this,yr,yc).bind(this)}}function yu(){(0,o._)(this,yl).value=this.$props.value()}function yc(t,e){let i=this.createEvent("change",{detail:t,trigger:e});this.dispatch(i)}yo.props={value:""};let yd=yo.prototype;(0,f.prop)(yd,"values"),(0,f.prop)(yd,"value");var y_=new WeakMap,yp=new WeakMap,yv=new WeakSet,yf=new WeakSet,yw=new WeakSet,yg=new WeakSet,ym=new WeakSet,yb=new WeakSet,yk=new WeakSet;class yy extends f.Component{get checked(){return(0,o._)(this,y_).call(this)}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":(0,o._)(this,y_),"aria-checked":_d((0,o._)(this,y_))})}onAttach(t){let e=(0,f.hasProvidedContext)(m4);ec(t,"tabindex",e?"-1":"0"),ec(t,"role",e?"menuitemradio":"radio"),(0,f.effect)((0,_._)(this,yw,y$).bind(this))}onConnect(t){(0,_._)(this,yf,yW).call(this),ef(t,(0,_._)(this,yg,yM).bind(this)),(0,f.onDispose)((0,_._)(this,yv,yS).bind(this))}constructor(){super(),(0,p._)(this,yv),(0,p._)(this,yf),(0,p._)(this,yw),(0,p._)(this,yg),(0,p._)(this,ym),(0,p._)(this,yb),(0,p._)(this,yk),(0,u._)(this,y_,{writable:!0,value:void 0}),(0,u._)(this,yp,{writable:!0,value:void 0}),(0,c._)(this,y_,(0,f.signal)(!1)),(0,c._)(this,yp,{value:this.$props.value,check:(0,_._)(this,ym,yx).bind(this),onCheck:null}),new u_}}function yS(){(0,f.scoped)(()=>{(0,f.useContext)(k2).remove((0,o._)(this,yp))},this.connectScope)}function yW(){(0,f.useContext)(k2).add((0,o._)(this,yp))}function y$(){let{value:t}=this.$props,e=t();if((0,f.peek)((0,o._)(this,y_))){var i,s;null===(i=(s=(0,o._)(this,yp)).onCheck)||void 0===i||i.call(s,e)}}function yM(t){var e,i;(0,f.peek)((0,o._)(this,y_))||((0,_._)(this,yb,yT).call(this,!0,t),(0,_._)(this,yk,yP).call(this,t),null===(e=(i=(0,o._)(this,yp)).onCheck)||void 0===e||e.call(i,(0,f.peek)(this.$props.value),t))}function yx(t,e){(0,f.peek)((0,o._)(this,y_))!==t&&(0,_._)(this,yb,yT).call(this,t,e)}function yT(t,e){(0,o._)(this,y_).set(t),this.dispatch("change",{detail:t,trigger:e})}function yP(t){this.dispatch("select",{trigger:t})}yy.props={value:""};let yA=yy.prototype;(0,f.prop)(yA,"checked");var yC=new WeakMap,yE=new WeakMap,yq=new WeakSet,yD=new WeakMap,yO=new WeakMap,yL=new WeakSet,yI=new WeakSet,yF=new WeakSet,yV=new WeakSet,yR=new WeakSet;class yN extends f.Component{onSetup(){(0,c._)(this,yC,tj());let{event:t,action:e}=this.$props;this.setAttributes({event:t,action:e})}onAttach(t){t.setAttribute("data-media-gesture",""),t.style.setProperty("pointer-events","none")}onConnect(t){var e;(0,c._)(this,yE,null===(e=(0,o._)(this,yC).player.el)||void 0===e?void 0:e.querySelector("[data-media-provider]")),(0,f.effect)((0,_._)(this,yq,yG).bind(this))}constructor(...t){super(...t),(0,p._)(this,yq),(0,p._)(this,yL),(0,p._)(this,yI),(0,p._)(this,yF),(0,p._)(this,yV),(0,p._)(this,yR),(0,u._)(this,yC,{writable:!0,value:void 0}),(0,u._)(this,yE,{writable:!0,value:void 0}),(0,u._)(this,yD,{writable:!0,value:void 0}),(0,u._)(this,yO,{writable:!0,value:void 0}),(0,c._)(this,yE,null),(0,c._)(this,yD,0),(0,c._)(this,yO,-1)}}function yG(){let t=this.$props.event(),e=this.$props.disabled();(0,o._)(this,yE)&&t&&!e&&(/^dbl/.test(t)&&(t=t.split(/^dbl/)[1]),("pointerup"===t||"pointerdown"===t)&&"coarse"===(0,o._)(this,yC).$state.pointer()&&(t="pointerup"===t?"touchend":"touchstart"),(0,f.listenEvent)((0,o._)(this,yE),t,(0,_._)(this,yL,yj).bind(this),{passive:!1}))}function yj(t){if(this.$props.disabled()||(0,f.isPointerEvent)(t)&&(0!==t.button||(0,o._)(this,yC).activeMenu)||(0,f.isTouchEvent)(t)&&(0,o._)(this,yC).activeMenu||ew(t)||!(0,_._)(this,yF,yU).call(this,t))return;t.MEDIA_GESTURE=!0,t.preventDefault();let e=(0,f.peek)(this.$props.event);if(null==e?void 0:e.startsWith("dbl")){if(1===(0,o._)(this,yD)){queueMicrotask(()=>(0,_._)(this,yI,yK).call(this,t)),clearTimeout((0,o._)(this,yO)),(0,c._)(this,yD,0);return}}else 0===(0,o._)(this,yD)&&setTimeout(()=>{1===(0,o._)(this,yD)&&(0,_._)(this,yI,yK).call(this,t)},250);0===(0,o._)(this,yD)&&(0,c._)(this,yO,window.setTimeout(()=>{(0,c._)(this,yD,0)},275)),(0,d._)(this,yD).value++}function yK(t){this.el.setAttribute("data-triggered",""),requestAnimationFrame(()=>{(0,_._)(this,yV,yH).call(this)&&(0,_._)(this,yR,yB).call(this,(0,f.peek)(this.$props.action),t),requestAnimationFrame(()=>{this.el.removeAttribute("data-triggered")})})}function yU(t){if(!this.el)return!1;if((0,f.isPointerEvent)(t)||(0,f.isMouseEvent)(t)||(0,f.isTouchEvent)(t)){var e,i,s;let n=(0,f.isTouchEvent)(t)?null!==(e=t.changedTouches[0])&&void 0!==e?e:t.touches[0]:void 0,a=null!==(i=null==n?void 0:n.clientX)&&void 0!==i?i:t.clientX,l=null!==(s=null==n?void 0:n.clientY)&&void 0!==s?s:t.clientY,h=this.el.getBoundingClientRect(),r=l>=h.top&&l<=h.bottom&&a>=h.left&&a<=h.right;return t.type.includes("leave")?!r:r}return!0}function yH(){return Array.from((0,o._)(this,yC).player.el.querySelectorAll("[data-media-gesture][data-triggered]")).sort((t,e)=>+getComputedStyle(e).zIndex-+getComputedStyle(t).zIndex)[0]===this.el}function yB(t,e){if(!t)return;let i=new f.DOMEvent("will-trigger",{detail:t,cancelable:!0,trigger:e});if(this.dispatchEvent(i),i.defaultPrevented)return;let[s,n]=t.replace(/:([a-z])/,"-$1").split(":");t.includes(":fullscreen")?(0,o._)(this,yC).remote.toggleFullscreen("prefer-media",e):t.includes("seek:")?(0,o._)(this,yC).remote.seek((0,f.peek)((0,o._)(this,yC).$state.currentTime)+(+n||0),e):(0,o._)(this,yC).remote[(0,f.kebabToCamelCase)(s)](e),this.dispatch("trigger",{detail:t,trigger:e})}yN.props={disabled:!1,event:void 0,action:void 0};var yQ=new WeakMap,yz=new WeakMap,yX=new WeakMap,yY=new WeakSet;class yJ{attach(){}canRender(){return!0}detach(){var t;null===(t=(0,o._)(this,yX))||void 0===t||t.abort(),(0,c._)(this,yX,void 0),(0,o._)(this,yz).reset(),(0,c._)(this,yQ,null)}changeTrack(t){var e;t&&(0,o._)(this,yQ)!==t&&(null===(e=(0,o._)(this,yX))||void 0===e||e.abort(),(0,c._)(this,yX,new f.EventsController(t)),t.readyState<2?((0,o._)(this,yz).reset(),(0,o._)(this,yX).add("load",()=>(0,_._)(this,yY,yZ).call(this,t),{once:!0})):(0,_._)(this,yY,yZ).call(this,t),(0,o._)(this,yX).add("add-cue",t=>{(0,o._)(this,yz).addCue(t.detail)}).add("remove-cue",t=>{(0,o._)(this,yz).removeCue(t.detail)}),(0,c._)(this,yQ,t))}constructor(t){(0,p._)(this,yY),(0,u._)(this,yQ,{writable:!0,value:void 0}),(0,u._)(this,yz,{writable:!0,value:void 0}),(0,u._)(this,yX,{writable:!0,value:void 0}),this.priority=10,(0,c._)(this,yQ,null),(0,c._)(this,yz,t)}}function yZ(t){(0,o._)(this,yz).changeTrack({cues:[...t.cues],regions:[...t.regions]})}var y0=new WeakMap,y1=new WeakSet,y2=new WeakSet,y3=new WeakSet,y5=new WeakSet,y9=new WeakSet,y4=new WeakSet,y6=new WeakSet,y7=new WeakSet,y8=new WeakSet,St=new WeakSet,Se=new WeakSet,Si=new WeakSet,Ss=new WeakMap,Sn=new WeakSet,Sa=new WeakSet,Sl=new WeakSet,Sh=new WeakSet;class Sr extends f.Component{onSetup(){(0,c._)(this,y0,tj()),this.setAttributes({"aria-hidden":_d((0,_._)(this,y1,So).bind(this))})}onAttach(t){t.style.setProperty("pointer-events","none")}onConnect(t){Sr.lib()||i.e(7922).then(i.bind(i,17922)).then(t=>Sr.lib.set(t)),(0,f.effect)((0,_._)(this,y2,Su).bind(this))}constructor(...t){super(...t),(0,p._)(this,y1),(0,p._)(this,y2),(0,p._)(this,y3),(0,p._)(this,y5),(0,p._)(this,y9),(0,p._)(this,y4),(0,p._)(this,y6),(0,p._)(this,y7),(0,p._)(this,y8),(0,p._)(this,St),(0,p._)(this,Se),(0,p._)(this,Si),(0,p._)(this,Sn),(0,p._)(this,Sa),(0,p._)(this,Sl),(0,p._)(this,Sh),(0,u._)(this,y0,{writable:!0,value:void 0}),(0,u._)(this,Ss,{writable:!0,value:void 0}),(0,c._)(this,Ss,-1)}}function So(){let{textTrack:t,remotePlaybackState:e,iOSControls:i}=(0,o._)(this,y0).$state,s=t();return i()||"connected"===e()||!s||!tE(s)}function Su(){if(!Sr.lib())return;let{viewType:t}=(0,o._)(this,y0).$state;return"audio"===t()?(0,_._)(this,y3,Sc).call(this):(0,_._)(this,y6,Sv).call(this)}function Sc(){return(0,f.effect)((0,_._)(this,y5,Sd).bind(this)),(0,_._)(this,St,Sg).call(this,null),()=>{this.el.textContent=""}}function Sd(){if((0,_._)(this,y1,So).call(this))return;(0,_._)(this,y9,S_).call(this);let{textTrack:t}=(0,o._)(this,y0).$state;(0,f.listenEvent)(t(),"cue-change",(0,_._)(this,y9,S_).bind(this)),(0,f.effect)((0,_._)(this,y4,Sp).bind(this))}function S_(){this.el.textContent="",(0,o._)(this,Ss)>=0&&(0,_._)(this,Sa,Sy).call(this);let{realCurrentTime:t,textTrack:e}=(0,o._)(this,y0).$state,{renderVTTCueString:i}=Sr.lib(),s=(0,f.peek)(t);for(let t of(0,f.peek)(e).activeCues){let e=(0,_._)(this,Sl,SS).call(this),n=(0,_._)(this,Sh,SW).call(this);n.innerHTML=i(t,s),e.append(n),this.el.append(n)}}function Sp(){let{realCurrentTime:t}=(0,o._)(this,y0).$state,{updateTimedVTTCueNodes:e}=Sr.lib();e(this.el,t())}function Sv(){let{CaptionsRenderer:t}=Sr.lib(),e=new t(this.el),i=new yJ(e);return(0,o._)(this,y0).textRenderers.add(i),(0,f.effect)((0,_._)(this,y7,Sf).bind(this,e)),(0,f.effect)((0,_._)(this,y8,Sw).bind(this,e)),(0,_._)(this,St,Sg).call(this,e),()=>{this.el.textContent="",(0,o._)(this,y0).textRenderers.remove(i),e.destroy()}}function Sf(t){t.dir=this.$props.textDir()}function Sw(t){var e;if((0,_._)(this,y1,So).call(this))return;let{realCurrentTime:i,textTrack:s}=(0,o._)(this,y0).$state;t.currentTime=i(),(0,o._)(this,Ss)>=0&&(null===(e=s())||void 0===e?void 0:e.activeCues[0])&&(0,_._)(this,Sa,Sy).call(this)}function Sg(t){let e=(0,o._)(this,y0).player;if(!e)return;let i=(0,_._)(this,Se,Sm).bind(this,t);(0,f.listenEvent)(e,"vds-font-change",i)}function Sm(t){var e;if((0,o._)(this,Ss)>=0){(0,_._)(this,Sn,Sk).call(this);return}let{textTrack:i}=(0,o._)(this,y0).$state;(null===(e=i())||void 0===e?void 0:e.activeCues[0])?null==t||t.update(!0):(0,_._)(this,Si,Sb).call(this)}function Sb(){var t,e;let i=(0,_._)(this,Sl,SS).call(this);(0,f.setAttribute)(i,"data-example","");let s=(0,_._)(this,Sh,SW).call(this);(0,f.setAttribute)(s,"data-example",""),s.textContent=this.$props.exampleText(),null==i||i.append(s),null===(t=this.el)||void 0===t||t.append(i),null===(e=this.el)||void 0===e||e.setAttribute("data-example",""),(0,_._)(this,Sn,Sk).call(this)}function Sk(){window.clearTimeout((0,o._)(this,Ss)),(0,c._)(this,Ss,window.setTimeout((0,_._)(this,Sa,Sy).bind(this),2500))}function Sy(){var t,e;null===(t=this.el)||void 0===t||t.removeAttribute("data-example"),(null===(e=this.el)||void 0===e?void 0:e.querySelector("[data-example]"))&&(this.el.textContent=""),(0,c._)(this,Ss,-1)}function SS(){let t=document.createElement("div");return(0,f.setAttribute)(t,"data-part","cue-display"),t}function SW(){let t=document.createElement("div");return(0,f.setAttribute)(t,"data-part","cue"),t}Sr.props={textDir:"ltr",exampleText:"Captions look like this."},Sr.lib=(0,f.signal)(null);var S$=new WeakMap,SM=new WeakSet,Sx=new WeakSet,ST=new WeakSet,SP=new WeakSet,SA=new WeakSet,SC=new WeakMap,SE=new WeakSet,Sq=new WeakSet,SD=new WeakSet,SO=new WeakSet,SL=new WeakSet,SI=new WeakSet;class SF extends f.Component{onSetup(){(0,c._)(this,S$,tj()),(0,_._)(this,SE,SK).call(this),(0,_._)(this,Sq,SU).call(this),(0,_._)(this,SD,SH).call(this),(0,_._)(this,ST,SN).call(this)}onAttach(t){t.style.setProperty("pointer-events","none"),(0,f.effect)((0,_._)(this,SA,Sj).bind(this)),(0,f.effect)((0,_._)(this,SE,SK).bind(this)),(0,f.effect)((0,_._)(this,Sq,SU).bind(this)),(0,f.effect)((0,_._)(this,SD,SH).bind(this)),(0,f.effect)((0,_._)(this,ST,SN).bind(this));let{started:e}=(0,o._)(this,S$).$state;this.setAttributes({"data-visible":()=>!e()&&!this.$state.hidden(),"data-loading":(0,_._)(this,SP,SG).bind(this),"data-error":(0,_._)(this,SM,SV).bind(this),"data-hidden":this.$state.hidden})}onConnect(t){(0,f.effect)((0,_._)(this,Sx,SR).bind(this)),(0,f.effect)((0,_._)(this,SO,SB).bind(this))}constructor(...t){super(...t),(0,p._)(this,SM),(0,p._)(this,Sx),(0,p._)(this,ST),(0,p._)(this,SP),(0,p._)(this,SA),(0,p._)(this,SE),(0,p._)(this,Sq),(0,p._)(this,SD),(0,p._)(this,SO),(0,p._)(this,SL),(0,p._)(this,SI),(0,u._)(this,S$,{writable:!0,value:void 0}),(0,u._)(this,SC,{writable:!0,value:void 0}),(0,c._)(this,SC,"")}}function SV(){let{error:t}=this.$state;return!(0,f.isNull)(t())}function SR(){let{canLoadPoster:t,poster:e}=(0,o._)(this,S$).$state;!t()&&e()&&Y(e(),"preconnect")}function SN(){let{src:t}=this.$props,{poster:e,nativeControls:i}=(0,o._)(this,S$).$state;this.el&&(0,f.setAttribute)(this.el,"display",i()?"none":null),this.$state.hidden.set((0,_._)(this,SM,SV).call(this)||!(t()||e())||i())}function SG(){let{loading:t,hidden:e}=this.$state;return!e()&&t()}function Sj(){let t=this.$state.img();t&&(new f.EventsController(t).add("load",(0,_._)(this,SL,SQ).bind(this)).add("error",(0,_._)(this,SI,Sz).bind(this)),t.complete&&(0,_._)(this,SL,SQ).call(this))}function SK(){let{poster:t}=(0,o._)(this,S$).$props,{canLoadPoster:e,providedPoster:i,inferredPoster:s}=(0,o._)(this,S$).$state,n=this.$props.src()||"",a=n||t()||s();(0,o._)(this,SC)===i()&&i.set(n),this.$state.src.set(e()&&a.length?a:null),(0,c._)(this,SC,n)}function SU(){let{src:t}=this.$props,{alt:e}=this.$state,{poster:i}=(0,o._)(this,S$).$state;e.set(t()||i()?this.$props.alt():null)}function SH(){let{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:i,poster:s}=(0,o._)(this,S$).$state,n=null!==t()?t():i();e.set(/ytimg\.com|vimeo/.test(s()||"")?null:!0===n?"anonymous":n)}function SB(){let{loading:t,error:e}=this.$state,{canLoadPoster:i,poster:s}=(0,o._)(this,S$).$state;t.set(i()&&!!s()),e.set(null)}function SQ(){let{loading:t,error:e}=this.$state;t.set(!1),e.set(null)}function Sz(t){let{loading:e,error:i}=this.$state;e.set(!1),i.set(t)}SF.props={src:null,alt:null,crossOrigin:null},SF.state=new f.State({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1});var SX=new WeakMap,SY=new WeakMap,SJ=new WeakMap,SZ=new WeakMap,S0=new WeakSet,S1=new WeakSet,S2=new WeakSet,S3=new WeakSet,S5=new WeakSet,S9=new WeakSet,S4=new WeakSet,S6=new WeakSet;class S7 extends f.Component{onSetup(){(0,c._)(this,SX,tj()),(0,_._)(this,S3,Wi).call(this);let{type:t}=this.$props;this.setAttributes({"data-type":t,"data-remainder":(0,_._)(this,S4,Wa).bind(this)}),new pW({callback:(0,_._)(this,S0,S8).bind(this)}).attach(this)}onAttach(t){t.hasAttribute("role")||(0,f.effect)((0,_._)(this,S5,Ws).bind(this)),(0,f.effect)((0,_._)(this,S3,Wi).bind(this))}onConnect(t){(0,f.onDispose)(ep(t,(0,o._)(this,SJ).set)),(0,f.effect)((0,_._)(this,S1,Wt).bind(this)),(0,f.effect)((0,_._)(this,S2,We).bind(this))}constructor(...t){super(...t),(0,p._)(this,S0),(0,p._)(this,S1),(0,p._)(this,S2),(0,p._)(this,S3),(0,p._)(this,S5),(0,p._)(this,S9),(0,p._)(this,S4),(0,p._)(this,S6),(0,u._)(this,SX,{writable:!0,value:void 0}),(0,u._)(this,SY,{writable:!0,value:void 0}),(0,u._)(this,SJ,{writable:!0,value:void 0}),(0,u._)(this,SZ,{writable:!0,value:void 0}),(0,c._)(this,SY,(0,f.signal)(null)),(0,c._)(this,SJ,(0,f.signal)(!0)),(0,c._)(this,SZ,(0,f.signal)(!0))}}function S8(t){(0,o._)(this,SZ).set(t[0].isIntersecting)}function Wt(){let{hidden:t}=this.$props;this.$state.hidden.set(t()||!(0,o._)(this,SJ).call(this)||!(0,o._)(this,SZ).call(this))}function We(){if(!this.$props.toggle()){(0,o._)(this,SY).set(null);return}this.el&&ef(this.el,(0,_._)(this,S6,Wl).bind(this))}function Wi(){let{hidden:t,timeText:e}=this.$state,{duration:i}=(0,o._)(this,SX).$state;if(t())return;let{type:s,padHours:n,padMinutes:a,showHours:l}=this.$props,h=(0,_._)(this,S9,Wn).call(this,s()),r=i(),u=(0,_._)(this,S4,Wa).call(this);if(!Number.isFinite(h+r)){e.set("LIVE");return}let c=hy(u?Math.max(0,r-h):h,{padHrs:n(),padMins:a(),showHrs:l()});e.set((u?"-":"")+c)}function Ws(){if(!this.el)return;let{toggle:t}=this.$props;(0,f.setAttribute)(this.el,"role",t()?"timer":null),(0,f.setAttribute)(this.el,"tabindex",t()?0:null)}function Wn(t){let{bufferedEnd:e,duration:i,currentTime:s}=(0,o._)(this,SX).$state;switch(t){case"buffered":return e();case"duration":return i();default:return s()}}function Wa(){return this.$props.remainder()&&!1!==(0,o._)(this,SY).call(this)}function Wl(t){if(t.preventDefault(),null===(0,o._)(this,SY).call(this)){(0,o._)(this,SY).set(!this.$props.remainder());return}(0,o._)(this,SY).set(t=>!t)}S7.props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1,toggle:!1,hidden:!1},S7.state=new f.State({timeText:"",hidden:!1});class Wh extends uB{}class Wr extends cX{}class Wo extends da{}class Wu extends db{}class Wc extends dW{}class Wd extends _u{}class W_ extends _j{}class Wp extends _Y{}class Wv extends pw{}class Wf extends _9{}class Ww extends ps{}class Wg extends _L{}class Wm extends _g{}class Wb extends _T{}class Wk extends pc{}class Wy extends dU{}class WS extends dZ{}class WW extends d9{}class W$ extends vK{}class WM extends gK{}class Wx extends wp{}class WT extends wE{}class WP extends wJ{}class WA extends go{}class WC extends fO{}class WE extends f8{}class Wq extends fQ{}class WD extends ws{}class WO extends mI{}class WL extends ks{}class WI extends kA{}class WF extends kJ{}class WV extends kO{}class WR extends yo{}class WN extends yy{}class WG extends Sr{}class Wj extends yN{}class WK extends SF{}class WU extends fk{}class WH extends S7{}let WB=v.forwardRef((t,e)=>{let{children:i,...s}=t,n=v.Children.toArray(i),a=n.find(WX);if(a){let t=a.props.children,i=n.map(e=>e!==a?e:v.Children.count(t)>1?v.Children.only(null):v.isValidElement(t)?t.props.children:null);return v.createElement(WQ,{...s,ref:e},v.isValidElement(t)?v.cloneElement(t,void 0,i):null)}return v.createElement(WQ,{...s,ref:e},i)});WB.displayName="Slot";let WQ=v.forwardRef((t,e)=>{let{children:i,...s}=t;return v.isValidElement(i)?v.cloneElement(i,{...function(t,e){let i={...e};for(let s in e){let n=t[s],a=e[s];/^on[A-Z]/.test(s)?n&&a?i[s]=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];a(...e),n(...e)}:n&&(i[s]=n):"style"===s?i[s]={...n,...a}:"className"===s&&(i[s]=[n,a].filter(Boolean).join(" "))}return{...t,...i}}(s,i.props),ref:e?(0,f.composeRefs)(e,i.ref):i.ref}):v.Children.count(i)>1?v.Children.only(null):null});WQ.displayName="SlotClone";let Wz=t=>{let{children:e}=t;return v.createElement(v.Fragment,null,e)};function WX(t){return v.isValidElement(t)&&t.type===Wz}let WY=["button","div","span","img","video","audio"].reduce((t,e)=>{let i=v.forwardRef((t,i)=>{let{asChild:s,...n}=t,a=s?WB:e;return v.createElement(a,{...n,ref:i})});return i.displayName="Primitive.".concat(e),{...t,[e]:i}},{});function WJ(t){return(null==t?void 0:t.$$PROVIDER_TYPE)==="REMOTION"}function WZ(t){return(null==t?void 0:t.type)==="video/remotion"}let W0=W$.state.record,W1=Object.keys(W0).reduce((t,e)=>({...t,[e]:()=>W0[e]}),{});function W2(t,e){var i;let s=(0,f.useStateContext)(pm);return(0,f.useSignal)(((null==e?void 0:null===(i=e.current)||void 0===i?void 0:i.$state)||s||W1)[t])}let W3=Wh.state.record,W5=Object.keys(W3).reduce((t,e)=>({...t,[e]:()=>W3[e]}),{});function W9(t,e){var i;let s=(0,f.useStateContext)(tq);return(0,f.useSignal)(((null==e?void 0:null===(i=e.current)||void 0===i?void 0:i.$state)||s||W5)[t])}}}]);